var Rb=Object.defineProperty;var o=(ae,S)=>Rb(ae,"name",{value:S,configurable:!0});(()=>{var __webpack_modules__={3850:(ae,S,d)=>{"use strict";d.r(S),d.d(S,{AppInsightsCore:()=>He,BaseCore:()=>Ct,BaseTelemetryPlugin:()=>ie.i,CoreUtils:()=>Ce.Tr,DiagnosticLogger:()=>R.AQ,ESPromise:()=>Tt,ESPromiseScheduler:()=>k,EventHelper:()=>ue.zB,EventLatency:()=>h,EventPersistence:()=>x,EventPropertyType:()=>_,EventsDiscardedReason:()=>V.h,FullVersionString:()=>Ce.vs,InternalAppInsightsCore:()=>ye,InternalBaseCore:()=>nt,LoggingSeverity:()=>F,MinChannelPriorty:()=>p,NotificationManager:()=>ee,PerfEvent:()=>T.zn,PerfManager:()=>T.Jk,ProcessTelemetryContext:()=>M.Vi,TraceLevel:()=>v,Undefined:()=>Qt.jA,Utils:()=>Ce.cQ,ValueKind:()=>A,ValueSanitizer:()=>g,Version:()=>Ce.Gf,_ExtendedInternalMessageId:()=>I,_InternalLogMessage:()=>R.lQ,_InternalMessageId:()=>W,__getRegisteredEvents:()=>_e.um,_throwInternal:()=>R.kP,addEventHandler:()=>_e.Ib,addEventListeners:()=>_e.yw,addPageHideEventListener:()=>_e.TJ,addPageShowEventListener:()=>_e.nD,addPageUnloadEventListener:()=>_e.c9,areCookiesSupported:()=>O.p7,arrForEach:()=>w.tO,arrIndexOf:()=>w.UA,arrMap:()=>w.Mr,arrReduce:()=>w.Xz,attachEvent:()=>_e.pZ,cookieAvailable:()=>O.p7,createCookieMgr:()=>O.Nz,createEnumStyle:()=>E.By,createGuid:()=>Ce.cm,createProcessTelemetryContext:()=>M.CD,createTraceParent:()=>sn.SU,createUniqueNamespace:()=>U.J,createUnloadHandlerContainer:()=>he.Y,dateNow:()=>w.m6,deleteCookie:()=>Ce.kT,detachEvent:()=>_e.pD,disableCookies:()=>Ce.oF,disallowsSameSiteNone:()=>O.UY,doPerf:()=>T.Lm,dumpObj:()=>B.eU,eventOff:()=>_e.QY,eventOn:()=>_e.XO,extend:()=>Ce.l7,findW3cTraceParent:()=>sn.lq,formatTraceParent:()=>sn.aR,generateW3CId:()=>ue.DO,getCommonSchemaMetaData:()=>Ce.Vv,getConsole:()=>B.dr,getCookie:()=>Ce.ej,getCookieValue:()=>Ce.Do,getCrypto:()=>B.MX,getDocument:()=>B.Me,getExceptionName:()=>w.jj,getFieldValueType:()=>Ce.Sy,getGlobal:()=>Z.Rd,getGlobalInst:()=>B.a8,getHistory:()=>B.s1,getIEVersion:()=>B.sA,getISOString:()=>w.Y6,getJSON:()=>B.xA,getLocation:()=>B.k$,getMsCrypto:()=>B.gz,getNavigator:()=>B.jW,getPerformance:()=>B.r,getSetValue:()=>w.qK,getTenantId:()=>Ce.jM,getTime:()=>Ce.hK,getWindow:()=>B.Jj,hasDocument:()=>B.Nv,hasHistory:()=>B.fE,hasJSON:()=>B.nS,hasNavigator:()=>B.d6,hasOwnProperty:()=>w.nr,hasWindow:()=>B.Ym,isArray:()=>w.kJ,isArrayValid:()=>Ce.JT,isBeaconsSupported:()=>B.MF,isBoolean:()=>w.jn,isChromium:()=>Ce.mJ,isDate:()=>w.J_,isDocumentObjectAvailable:()=>Ce.x9,isError:()=>w.VZ,isFetchSupported:()=>B.JO,isFunction:()=>w.mf,isIE:()=>B.w1,isLatency:()=>Ce.r7,isNotTruthy:()=>w.F,isNullOrUndefined:()=>w.le,isNumber:()=>w.hj,isObject:()=>w.Kn,isReactNative:()=>B.b$,isSampledFlag:()=>sn.Pn,isString:()=>w.HD,isTruthy:()=>w.fQ,isTypeof:()=>w.Ym,isUint8ArrayAvailable:()=>Ce.IZ,isUndefined:()=>w.o8,isValidSpanId:()=>sn.Lc,isValidTraceId:()=>sn.jN,isValidTraceParent:()=>sn.J6,isValueAssigned:()=>Ce.Sn,isValueKind:()=>Ce.oS,isWindowObjectAvailable:()=>Ce.dH,isXhrSupported:()=>B.Z3,mergeEvtNamespace:()=>_e.jU,newGuid:()=>ue.GW,newId:()=>Me.pZ,normalizeJsName:()=>w.Gf,objCreate:()=>Z.pu,objDefineAccessors:()=>w.l_,objForEachKey:()=>w.rW,objFreeze:()=>w.FL,objKeys:()=>w.FY,objSeal:()=>w.Xi,openXhr:()=>Ce.ot,optimizeObject:()=>w.Ax,parseTraceParent:()=>sn.j_,perfNow:()=>ue.Jj,proxyAssign:()=>w.cf,proxyFunctionAs:()=>w.Oi,proxyFunctions:()=>w.Vb,random32:()=>Me._l,randomValue:()=>Me.az,removeEventHandler:()=>_e.C1,removeEventListeners:()=>_e.nJ,removePageHideEventListener:()=>_e.C9,removePageShowEventListener:()=>_e.Yl,removePageUnloadEventListener:()=>_e.JA,safeGetCookieMgr:()=>O.JP,safeGetLogger:()=>R.vH,sanitizeProperty:()=>Ce.yj,setCookie:()=>Ce.d8,setEnableEnvMocks:()=>B.dI,setProcessTelemetryTimings:()=>Ce.if,setValue:()=>w.sO,strContains:()=>w._Q,strEndsWith:()=>w.Id,strFunction:()=>Qt.cb,strObject:()=>Qt.fK,strPrototype:()=>Qt.hB,strStartsWith:()=>w.xe,strTrim:()=>w.nd,strUndefined:()=>Qt.jA,throwError:()=>w._y,toISOString:()=>w.Y6,useXDomainRequest:()=>B.cp});var b=d(1088),E=d(4873),w=d(6708),F=(0,E.By)({CRITICAL:1,WARNING:2}),W=(0,E.By)({BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103,FailedAddingCustomDefinedRequestContext:104,InMemoryStorageBufferFull:105,InstrumentationKeyDeprecation:106}),A=(0,E.By)({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),h=(0,E.By)({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),_=(0,E.By)({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),x=(0,E.By)({Normal:1,Critical:2}),v=(0,E.By)({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),I=(0,w.FL)((0,b.uc)((0,b.uc)({},W),(0,E.By)({AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520}))),R=d(5018),T=d(9288),B=d(7630),Z=d(2091),te=d(1679),M=d(1589),$=d(3833),O=d(3242),D=d(3171),P=d(7158),L=d(6041),X=500,K="Channel has invalid priority - ";function ne(Ve,Ke,Ne,ze){Ke&&(0,w.kJ)(Ke)&&Ke.length>0&&(Ke=Ke.sort(function(lt,gt){return lt.priority-gt.priority}),(0,w.tO)(Ke,function(lt){lt.priority<X&&(0,w._y)(K+lt.identifier)}),Ve.push({queue:(0,w.FL)(Ke),chain:(0,M.jV)(Ke,Ne,ze)}))}o(ne,"_addChannelQueue");function de(Ve,Ke){var Ne;function ze(){return(0,M.CD)(null,Ke.config,Ke,null)}o(ze,"_getTelCtx");function lt(je,ut,et,Ot){var Et=je?je.length+1:1;function pn(){Et--,Et===0&&(Ot&&Ot(),Ot=null)}o(pn,"_runChainOnComplete"),Et>0&&(0,w.tO)(je,function(J){if(J&&J.queue.length>0){var Le=J.chain,Ze=ut.createNew(Le);Ze.onComplete(pn),et(Ze)}else Et--}),pn()}o(lt,"_processChannelQueue");function gt(je,ut){var et=ut||{reason:0};return lt(Ve,je,function(Ot){Ot[L.Z_](et)},function(){je[L.Z_](et)}),!0}o(gt,"_doUpdate");function dt(je,ut){var et=ut||{reason:0,isAsync:!1};return lt(Ve,je,function(Ot){Ot[L.Z_](et)},function(){je[L.Z_](et),qt=!1}),!0}o(dt,"_doTeardown");function It(je){var ut=null;return Ve&&Ve.length>0&&(0,w.tO)(Ve,function(et){if(et&&et.queue.length>0&&((0,w.tO)(et.queue,function(Ot){if(Ot.identifier===je)return ut=Ot,-1}),ut))return-1}),ut}o(It,"_getChannel");var qt=!1,Gt=(Ne={identifier:"ChannelControllerPlugin",priority:X,initialize:function(je,ut,et,Ot){qt=!0,(0,w.tO)(Ve,function(Et){Et&&Et.queue.length>0&&(0,$.bP)((0,M.CD)(Et.chain,je,ut),et)})},isInitialized:function(){return qt},processTelemetry:function(je,ut){lt(Ve,ut||ze(),function(et){et[L.Z_](je)},function(){ut[L.Z_](je)})},update:gt},Ne[L.nE]=function(){lt(Ve,ze(),function(je){je.iterate(function(ut){ut[L.nE]&&ut[L.nE]()})},null)},Ne[L.Mf]=function(){lt(Ve,ze(),function(je){je.iterate(function(ut){ut[L.Mf]&&ut[L.Mf]()})},null)},Ne[L.vE]=dt,Ne.getChannel=It,Ne.flush=function(je,ut,et,Ot){var Et=1,pn=!1,J=null;Ot=Ot||5e3;function Le(){Et--,pn&&Et===0&&(J&&(clearTimeout(J),J=null),ut&&ut(pn),ut=null)}return o(Le,"doCallback"),lt(Ve,ze(),function(Ze){Ze.iterate(function(ct){if(ct.flush){Et++;var $t=!1;ct.flush(je,function(){$t=!0,Le()},et)||$t||(je&&J==null?J=setTimeout(function(){J=null,Le()},Ot):Le())}})},function(){pn=!0,Le()}),!0},Ne._setQueue=function(je){Ve=je},Ne);return Gt}o(de,"createChannelControllerPlugin");function ge(Ve,Ke,Ne,ze){var lt=[];if(Ve&&(0,w.tO)(Ve,function(dt){return ne(lt,dt,Ne,ze)}),Ke){var gt=[];(0,w.tO)(Ke,function(dt){dt.priority>X&&gt.push(dt)}),ne(lt,gt,Ne,ze)}return lt}o(ge,"createChannelQueues");var ie=d(4063),xe=function(Ve){(0,b.ne)(Ke,Ve);function Ke(){var Ne=Ve.call(this)||this;Ne.identifier="TelemetryInitializerPlugin",Ne.priority=199;var ze,lt;gt(),(0,te.Z)(Ke,Ne,function(dt,It){dt.addTelemetryInitializer=function(qt){var Gt={id:ze++,fn:qt};lt.push(Gt);var je={remove:function(){(0,w.tO)(lt,function(ut,et){if(ut.id===Gt.id)return lt.splice(et,1),-1})}};return je},dt.processTelemetry=function(qt,Gt){for(var je=!1,ut=lt.length,et=0;et<ut;++et){var Ot=lt[et];if(Ot)try{if(Ot.fn.apply(null,[qt])===!1){je=!0;break}}catch(Et){(0,R.kP)(Gt.diagLog(),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,w.jj)(Et),{exception:(0,B.eU)(Et)},!0)}}je||dt.processNext(qt,Gt)},dt[L.Ho]=function(){gt()}});function gt(){ze=0,lt=[]}return o(gt,"_initDefaults"),Ne}return o(Ke,"TelemetryInitializerPlugin"),Ke}(ie.i),U=d(5883),he=d(310),oe="Plugins must provide initialize method",pe="_notificationManager",Ee="SDK is still unloading...",Ie="SDK is not initialized",mt={loggingLevelConsole:1};function Ye(Ve,Ke){return new T.Jk(Ke)}o(Ye,"_createPerfManager");function q(Ve,Ke,Ne){var ze=[],lt={};return(0,w.tO)(Ne,function(gt){((0,w.le)(gt)||(0,w.le)(gt.initialize))&&(0,w._y)(oe);var dt=gt.priority,It=gt.identifier;gt&&dt&&((0,w.le)(lt[dt])?lt[dt]=It:(0,R.jV)(Ve,"Two extensions have same priority #"+dt+" - "+lt[dt]+", "+It)),(!dt||dt<Ke)&&ze.push(gt)}),{all:Ne,core:ze}}o(q,"_validateExtensions");function Te(Ve,Ke){var Ne=!1;return(0,w.tO)(Ke,function(ze){if(ze===Ve)return Ne=!0,-1}),Ne}o(Te,"_isPluginPresent");function Re(){var Ve;return(0,Z.pu)((Ve={},Ve[L.dV]=function(Ke){},Ve[L.XP]=function(Ke){},Ve[L.eO]=function(Ke){},Ve[L.H4]=function(Ke,Ne){},Ve[L.rX]=function(Ke,Ne){},Ve))}o(Re,"_createDummyNotificationManager");var nt=function(){function Ve(){var Ke,Ne,ze,lt,gt,dt,It,qt,Gt,je,ut,et,Ot,Et,pn,J,Le,Ze,ct,$t=0;(0,te.Z)(Ve,this,function(De){wt(),De.isInitialized=function(){return Ke},De.initialize=function(Ge,Wt,Pt,pt){Ot&&(0,w._y)(Ee),De.isInitialized()&&(0,w._y)("Core should not be initialized more than once"),(!Ge||(0,w.le)(Ge.instrumentationKey))&&(0,w._y)("Please provide instrumentation key"),ze=pt,De[pe]=pt,De.config=Ge||{},on(Ge),vn(Ge),Ge.extensions=(0,w.le)(Ge.extensions)?[]:Ge.extensions,Ln(Ge),Pt&&(De.logger=Pt),qt=[],qt.push.apply(qt,(0,b.$h)((0,b.$h)([],Wt,!1),Ge.extensions,!1)),ut=(Ge||{}).channels,ft(Ge,null),(!et||et.length===0)&&(0,w._y)("No channels available"),Ke=!0,De.releaseQueue()},De.getTransmissionControls=function(){var Ge=[];return et&&(0,w.tO)(et,function(Wt){Ge.push(Wt.queue)}),(0,w.FL)(Ge)},De.track=function(Ge){(0,w.sO)(Ge,D.z,De.config.instrumentationKey,null,w.F),(0,w.sO)(Ge,"time",(0,w.Y6)(new Date),null,w.F),(0,w.sO)(Ge,"ver","4.0",null,w.le),!Ot&&De.isInitialized()?Mt().processNext(Ge):Ne.push(Ge)},De.getProcessTelContext=Mt,De.getNotifyMgr=function(){return ze||(ze=Re(),De[pe]=ze),ze},De[L.dV]=function(Ge){ze&&ze[L.dV](Ge)},De[L.XP]=function(Ge){ze&&ze[L.XP](Ge)},De.getCookieMgr=function(){return dt||(dt=(0,O.Nz)(De.config,De.logger)),dt},De.setCookieMgr=function(Ge){dt=Ge},De.getPerfMgr=function(){return!lt&&!gt&&De.config&&De.config.enablePerfMgr&&(0,w.mf)(De.config.createPerfMgr)&&(gt=De.config.createPerfMgr(De,De.getNotifyMgr())),lt||gt||(0,T.j5)()},De.setPerfMgr=function(Ge){lt=Ge},De.eventCnt=function(){return Ne.length},De.releaseQueue=function(){if(Ke&&Ne.length>0){var Ge=Ne;Ne=[],(0,w.tO)(Ge,function(Wt){Mt().processNext(Wt)})}},De.pollInternalLogs=function(Ge){pn=Ge||null;var Wt=De.config.diagnosticLogInterval;return(!Wt||!(Wt>0))&&(Wt=1e4),$t&&clearInterval($t),$t=setInterval(function(){ht()},Wt),$t},De.stopPollingInternalLogs=function(){$t&&(clearInterval($t),$t=0,ht())},(0,w.Vb)(De,function(){return Et},["addTelemetryInitializer"]),De.unload=function(Ge,Wt,Pt){Ge===void 0&&(Ge=!0),Ke||(0,w._y)(Ie),Ot&&(0,w._y)(Ee);var pt={reason:50,isAsync:Ge,flushComplete:!1},Yt=(0,M.Bt)(Ht(),De);Yt.onComplete(function(){wt(),Wt&&Wt(pt)},De);function rn(Jt){pt.flushComplete=Jt,Ot=!0,Le.run(Yt,pt),De.stopPollingInternalLogs(),Yt.processNext(pt)}o(rn,"_doUnload"),tn(Ge,rn,6,Pt)||rn(!1)},De.getPlugin=qe,De.addPlugin=function(Ge,Wt,Pt,pt){if(!Ge){pt&&pt(!1),bn(oe);return}var Yt=qe(Ge.identifier);if(Yt&&!Wt){pt&&pt(!1),bn("Plugin ["+Ge.identifier+"] is already loaded!");return}var rn={reason:16};function Jt(Cn){qt.push(Ge),rn.added=[Ge],ft(De.config,rn),pt&&pt(!0)}if(o(Jt,"_addPlugin"),Yt){var ln=[Yt.plugin],Pn={reason:2,isAsync:!!Pt};Lt(ln,Pn,function(Cn){Cn?(rn.removed=ln,rn.reason|=32,Jt(!0)):pt&&pt(!1)})}else Jt(!1)},De.evtNamespace=function(){return J},De.flush=tn,De.getTraceCtx=function(Ge){return ct||(ct=(0,$.Yn)()),ct},De.setTraceCtx=function(Ge){ct=Ge||null},(0,w.Oi)(De,"addUnloadCb",function(){return Le},"add");function wt(){Ke=!1,De.config=(0,w.mm)(!0,{},mt),De.logger=new R.AQ(De.config),De._extensions=[],Et=new xe,Ne=[],ze=null,lt=null,gt=null,dt=null,It=null,Gt=null,qt=[],je=null,ut=null,et=null,Ot=!1,pn=null,J=(0,U.J)("AIBaseCore",!0),Le=(0,he.Y)(),ct=null}o(wt,"_initDefaults");function Mt(){return(0,M.CD)(Ht(),De.config,De)}o(Mt,"_createTelCtx");function ft(Ge,Wt){var Pt=q(De.logger,X,qt);Gt=Pt.core,It=null;var pt=Pt.all;if(et=(0,w.FL)(ge(ut,pt,Ge,De)),je){var Yt=(0,w.UA)(pt,je);Yt!==-1&&pt.splice(Yt,1),Yt=(0,w.UA)(Gt,je),Yt!==-1&&Gt.splice(Yt,1),je._setQueue(et)}else je=de(et,De);pt.push(je),Gt.push(je),De._extensions=(0,$.AA)(pt),je.initialize(Ge,De,pt),(0,$.bP)(Mt(),pt),De._extensions=(0,w.FL)((0,$.AA)(Gt||[])).slice(),Wt&&Zn(Wt)}o(ft,"_initPluginChain");function qe(Ge){var Wt=null,Pt=null;return(0,w.tO)(De._extensions,function(pt){if(pt.identifier===Ge&&pt!==je&&pt!==Et)return Pt=pt,-1}),!Pt&&je&&(Pt=je.getChannel(Ge)),Pt&&(Wt={plugin:Pt,setEnabled:function(pt){(0,$.OY)(Pt)[L.C0]=!pt},isEnabled:function(){var pt=(0,$.OY)(Pt);return!pt[L.vE]&&!pt[L.C0]},remove:function(pt,Yt){pt===void 0&&(pt=!0);var rn=[Pt],Jt={reason:1,isAsync:pt};Lt(rn,Jt,function(ln){ln&&ft(De.config,{reason:32,removed:rn}),Yt&&Yt(ln)})}}),Wt}o(qe,"_getPlugin");function Ht(){if(!It){var Ge=(Gt||[]).slice();(0,w.UA)(Ge,Et)===-1&&Ge.push(Et),It=(0,M.jV)((0,$.AA)(Ge),De.config,De)}return It}o(Ht,"_getPluginChain");function Lt(Ge,Wt,Pt){if(Ge&&Ge.length>0){var pt=(0,M.jV)(Ge,De.config,De),Yt=(0,M.Bt)(pt,De);Yt.onComplete(function(){var rn=!1,Jt=[];(0,w.tO)(qt,function(Pn,Cn){Te(Pn,Ge)?rn=!0:Jt.push(Pn)}),qt=Jt;var ln=[];ut&&((0,w.tO)(ut,function(Pn,Cn){var Tn=[];(0,w.tO)(Pn,function(Hn){Te(Hn,Ge)?rn=!0:Tn.push(Hn)}),ln.push(Tn)}),ut=ln),Pt&&Pt(rn)}),Yt.processNext(Wt)}else Pt(!1)}o(Lt,"_removePlugins");function ht(){var Ge=De.logger?De.logger.queue:[];Ge&&((0,w.tO)(Ge,function(Wt){var Pt={name:pn||"InternalMessageId: "+Wt.messageId,iKey:De.config.instrumentationKey,time:(0,w.Y6)(new Date),baseType:R.lQ.dataType,baseData:{message:Wt.message}};De.track(Pt)}),Ge.length=0)}o(ht,"_flushInternalLogs");function tn(Ge,Wt,Pt,pt){return je?je.flush(Ge,Wt,Pt||6,pt):(Wt&&Wt(!1),!0)}o(tn,"_flushChannels");function on(Ge){Ge.disableDbgExt===!0&&Ze&&(ze[L.XP](Ze),Ze=null),ze&&!Ze&&Ge.disableDbgExt!==!0&&(Ze=(0,P.p)(Ge),ze[L.dV](Ze))}o(on,"_initDebugListener");function vn(Ge){!Ge.enablePerfMgr&&gt&&(gt=null),Ge.enablePerfMgr&&(0,w.sO)(De.config,"createPerfMgr",Ye)}o(vn,"_initPerfManager");function Ln(Ge){var Wt=(0,w.qK)(Ge,D.F);Wt.NotificationManager=ze}o(Ln,"_initExtConfig");function Zn(Ge){var Wt=(0,M.xy)(Ht(),De);(!De._updateHook||De._updateHook(Wt,Ge)!==!0)&&Wt.processNext(Ge)}o(Zn,"_doUpdate");function bn(Ge){var Wt=De.logger;Wt?(0,R.kP)(Wt,2,73,Ge):(0,w._y)(Ge)}o(bn,"_logOrThrowError")})}return o(Ve,"BaseCore"),Ve}();function ve(Ve,Ke,Ne,ze){(0,w.tO)(Ve,function(lt){if(lt&&lt[Ke])if(Ne)setTimeout(function(){return ze(lt)},0);else try{ze(lt)}catch(gt){}})}o(ve,"_runListeners");var ee=function(){function Ve(Ke){this.listeners=[];var Ne=!!(Ke||{}).perfEvtsSendAll;(0,te.Z)(Ve,this,function(ze){ze[L.dV]=function(lt){ze.listeners.push(lt)},ze[L.XP]=function(lt){for(var gt=(0,w.UA)(ze.listeners,lt);gt>-1;)ze.listeners.splice(gt,1),gt=(0,w.UA)(ze.listeners,lt)},ze[L.eO]=function(lt){ve(ze.listeners,L.eO,!0,function(gt){gt[L.eO](lt)})},ze[L.H4]=function(lt,gt){ve(ze.listeners,L.H4,!0,function(dt){dt[L.H4](lt,gt)})},ze[L.rX]=function(lt,gt){ve(ze.listeners,L.rX,gt,function(dt){dt[L.rX](lt,gt)})},ze[L.SN]=function(lt){lt&&(Ne||!lt.isChildEvt())&&ve(ze.listeners,L.SN,!1,function(gt){lt.isAsync?setTimeout(function(){return gt[L.SN](lt)},0):gt[L.SN](lt)})}})}return o(Ve,"NotificationManager"),Ve}(),ye=function(Ve){(0,b.ne)(Ke,Ve);function Ke(){var Ne=Ve.call(this)||this;return(0,te.Z)(Ke,Ne,function(ze,lt){ze.initialize=function(It,qt,Gt,je){lt.initialize(It,qt,Gt||new R.AQ(It),je||new ee(It))},ze.track=function(It){(0,T.Lm)(ze.getPerfMgr(),function(){return"AppInsightsCore:track"},function(){It===null&&(dt(It),(0,w._y)("Invalid telemetry item")),gt(It),lt.track(It)},function(){return{item:It}},!It.sync)};function gt(It){(0,w.le)(It.name)&&(dt(It),(0,w._y)("telemetry name required"))}o(gt,"_validateTelemetryItem");function dt(It){var qt=ze.getNotifyMgr();qt&&qt.eventsDiscarded([It],2)}o(dt,"_notifyInvalidEvent")}),Ne}return o(Ke,"AppInsightsCore"),Ke}(nt),Ce=d(3599),ce="version",Fe="properties",Ae=function(Ve){(0,b.ne)(Ke,Ve);function Ke(){var Ne=Ve.call(this)||this;return Ne.pluginVersionStringArr=[],Ne.pluginVersionString="",(0,te.Z)(Ke,Ne,function(ze,lt){(!ze.logger||!ze.logger.queue)&&(ze.logger=new R.AQ({loggingLevelConsole:1})),ze.initialize=function(gt,dt,It,qt){(0,T.Lm)(ze,function(){return"AppInsightsCore.initialize"},function(){if(gt){gt.endpointUrl||(gt.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/");var Gt=gt.propertyStorageOverride;if(Gt&&(!Gt.getProperty||!Gt.setProperty))throw new Error("Invalid property storage override passed.");gt.channels&&(0,w.tO)(gt.channels,function(et){et&&(0,w.tO)(et,function(Ot){if(Ot.identifier&&Ot.version){var Et=Ot.identifier+"="+Ot.version;ze.pluginVersionStringArr.push(Et)}})})}ze.getWParam=function(){return typeof document!="undefined"?0:-1},dt&&(0,w.tO)(dt,function(et){if(et&&et.identifier&&et.version){var Ot=et.identifier+"="+et.version;ze.pluginVersionStringArr.push(Ot)}}),ze.pluginVersionString=ze.pluginVersionStringArr.join(";");try{lt.initialize(gt,dt,It,qt),ze.pollInternalLogs("InternalLog")}catch(et){var je=ze.logger,ut=(0,B.eU)(et);ut.indexOf("channels")!==-1&&(ut+=`
 - Channels must be provided through config.channels only!`),je.throwInternal(1,514,"SDK Initialization Failed - no telemetry will be sent: "+ut)}},function(){return{config:gt,extensions:dt,logger:It,notificationManager:qt}})},ze.track=function(gt){(0,T.Lm)(ze,function(){return"AppInsightsCore.track"},function(){var dt=gt;if(dt){dt.timings=dt.timings||{},dt.timings.trackStart=(0,Ce.hK)(),(0,Ce.r7)(dt.latency)||(dt.latency=1);var It=dt.ext=dt.ext||{};It.sdk=It.sdk||{},It.sdk.ver=Ce.vs;var qt=dt.baseData=dt.baseData||{};qt[Fe]||(qt[Fe]={});var Gt=qt[Fe];Gt[ce]||(Gt[ce]=""),ze.pluginVersionString!==""&&(Gt[ce]=ze.pluginVersionString)}lt.track(dt)},function(){return{item:gt}},!gt.sync)}}),Ne}return o(Ke,"AppInsightsCore"),Ke}(ye);const He=Ae;var rt=function(Ve){(0,b.ne)(Ke,Ve);function Ke(){var Ne=Ve.call(this)||this;return(0,te.Z)(Ke,Ne,function(ze,lt){ze.initialize=function(gt,dt,It,qt){gt&&!gt.endpointUrl&&(gt.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/"),ze.getWParam=function(){return Ce.x9?0:-1};try{lt.initialize(gt,dt,It,qt)}catch(Gt){(0,R.kP)(ze.logger,1,514,"Initialization Failed: "+(0,B.eU)(Gt)+`
 - Note: Channels must be provided through config.channels only`)}},ze.track=function(gt){var dt=gt;if(dt){var It=dt.ext=dt.ext||{};It.sdk=It.sdk||{},It.sdk.ver=Ce.vs}lt.track(dt)}}),Ne}return o(Ke,"BaseCore"),Ke}(nt);const Ct=rt;var Rt=w.mf;function at(Ve,Ke,Ne){return function(ze){Ve[Ke]=ze,Ne()}}o(at,"_createPromiseAllOnResolvedFunction");var Ut=function(){function Ve(Ke){var Ne=0,ze=null,lt=[];(0,te.Z)(Ve,this,function(Gt){Gt.then=function(je,ut){return new Ve(function(et,Ot){gt(je,ut,et,Ot)})},Gt.catch=function(je){return Gt.then(null,je)}});function gt(Gt,je,ut,et){lt.push(function(){var Ot;try{Ne===1?Ot=Rt(Gt)?Gt(ze):ze:Ot=Rt(je)?je(ze):ze,Ot instanceof Ve?Ot.then(ut,et):Ne===2&&!Rt(je)?et(Ot):ut(Ot)}catch(Et){et(Et);return}}),Ne!==0&&dt()}o(gt,"_enqueue");function dt(){if(lt.length>0){var Gt=lt.slice();lt=[],setTimeout(function(){for(var je=0,ut=Gt.length;je<ut;++je)try{Gt[je]()}catch(et){}},0)}}o(dt,"_processQueue");function It(Gt){Ne===0&&(ze=Gt,Ne=1,dt())}o(It,"_resolve");function qt(Gt){Ne===0&&(ze=Gt,Ne=2,dt())}o(qt,"_reject"),o(function(){if(!Rt(Ke))throw new TypeError("ESPromise: resolvedFunc argument is not a Function");try{Ke(It,qt)}catch(je){qt(je)}},"_initialize")()}return o(Ve,"ESPromise"),Ve.resolve=function(Ke){return Ke instanceof Ve?Ke:Ke&&Rt(Ke.then)?new Ve(function(Ne,ze){try{Ke.then(Ne,ze)}catch(lt){ze(lt)}}):new Ve(function(Ne){Ne(Ke)})},Ve.reject=function(Ke){return new Ve(function(Ne,ze){ze(Ke)})},Ve.all=function(Ke){if(!(!Ke||!Ke.length))return new Ve(function(Ne,ze){try{for(var lt=[],gt=0,dt=0;dt<Ke.length;dt++){var It=Ke[dt];It&&Rt(It.then)?(gt++,It.then(at(lt,dt,function(){--gt==0&&Ne(lt)}),ze)):lt[dt]=It}gt===0&&setTimeout(function(){Ne(lt)},0)}catch(qt){ze(qt)}})},Ve.race=function(Ke){return new Ve(function(Ne,ze){if(!(!Ke||!Ke.length))try{for(var lt=o(function(dt){var It=Ke[dt];It&&Rt(It.then)?It.then(Ne,ze):setTimeout(function(){Ne(It)},0)},"_loop_1"),gt=0;gt<Ke.length;gt++)lt(gt)}catch(dt){ze(dt)}})},Ve}();const Tt=Ut;var ke=6e5,bt=0,se=[],Kt=[],cn=[];function xn(){return new Date().getTime()}o(xn,"_getTime");var Rn=function(){function Ve(Ke,Ne){var ze=0,lt=(Ke||"<unnamed>")+"."+bt;bt++,(0,te.Z)(Ve,this,function(It){var qt=null,Gt=0;It.scheduleEvent=function(ut,et,Ot){var Et=lt+"."+Gt;Gt++,et&&(Et+="-("+et+")");var pn=Et+"{"+ze+"}";ze++;var J={evt:null,tm:xn(),id:pn,isRunning:!1,isAborted:!1};return qt?J.evt=Mt(J,qt):J.evt=wt(J),qt=J,qt.evt._schId=pn,J.evt;function Le(ft){for(var qe=xn(),Ht=qe-ke,Lt=ft.length,ht=0;ht<Lt;){var tn=ft[ht];if(tn&&tn.tm<Ht){var on=null;tn.abort?(on="Aborting ["+tn.id+"] due to Excessive runtime ("+(qe-tn.tm)+" ms)",tn.abort(on)):on="Removing ["+tn.id+"] due to Excessive runtime ("+(qe-tn.tm)+" ms)",dt(on),ft.splice(ht,1),Lt--}else ht++}}o(Le,"_abortAndRemoveOldEvents");function Ze(ft,qe){var Ht=!1,Lt=je(se,ft);if(Lt||(Lt=je(cn,ft),Ht=!0),Lt){Lt.to&&(clearTimeout(Lt.to),Lt.to=null);var ht=xn()-Lt.tm;qe?Ht?dt("Timed out event ["+ft+"] finally complete -- "+ht+" ms"):gt("Promise ["+ft+"] Complete -- "+ht+" ms"):(cn.push(Lt),dt("Event ["+ft+"] Timed out and removed -- "+ht+" ms"))}else gt("Failed to remove ["+ft+"] from running queue");qt&&qt.id===ft&&(qt=null),Le(se),Le(Kt),Le(cn)}o(Ze,"_cleanup");function ct(ft,qe){return function(Ht){return Ze(ft,!0),qe&&qe(Ht),Ht}}o(ct,"_removeScheduledEvent");function $t(ft,qe,Ht,Lt){qe.then(function(ht){return ht instanceof Tt?(gt("Event ["+ft+"] returned a promise -- waiting"),$t(ft,ht,Ht,Lt),ht):ct(ft,Ht)(ht)},ct(ft,Lt))}o($t,"_waitForFinalResult");function De(ft,qe){var Ht=ft.id;return new Tt(function(Lt,ht){gt("Event ["+Ht+"] Starting -- waited for "+(ft.wTm||"--")+" ms"),ft.isRunning=!0,ft.abort=function(on){ft.abort=null,ft.isAborted=!0,Ze(Ht,!1),ht(new Error(on))};var tn=qe(Ht);tn instanceof Tt?(Ot&&(ft.to=setTimeout(function(){Ze(Ht,!1),ht(new Error("Timed out after ["+Ot+"] ms"))},Ot)),$t(Ht,tn,function(on){gt("Event ["+Ht+"] Resolving after "+(xn()-ft.tm)+" ms"),Lt(on)},ht)):(gt("Promise ["+Ht+"] Auto completed as the start action did not return a promise"),Lt())})}o(De,"_createScheduledEvent");function wt(ft){var qe=xn();return ft.wTm=qe-ft.tm,ft.tm=qe,ft.isAborted?Tt.reject(new Error("["+Et+"] was aborted")):(se.push(ft),De(ft,ut))}o(wt,"_startWaitingEvent");function Mt(ft,qe){var Ht=new Tt(function(Lt,ht){var tn=xn()-qe.tm,on=qe.id;gt("["+Et+"] is waiting for ["+on+":"+tn+" ms] to complete before starting -- ["+Kt.length+"] waiting and ["+se.length+"] running"),ft.abort=function(vn){ft.abort=null,je(Kt,Et),ft.isAborted=!0,ht(new Error(vn))},qe.evt.then(function(vn){je(Kt,Et),wt(ft).then(Lt,ht)},function(vn){je(Kt,Et),wt(ft).then(Lt,ht)})});return Kt.push(ft),Ht}o(Mt,"_waitForPreviousEvent")};function je(ut,et){for(var Ot=0;Ot<ut.length;Ot++)if(ut[Ot].id===et)return ut.splice(Ot,1)[0];return null}o(je,"_removeQueuedEvent")});function gt(It){var qt=(0,Z.Rd)();qt&&qt.QUnit&&console&&console.log("ESPromiseScheduler["+lt+"] "+It)}o(gt,"_debugLog");function dt(It){Ne&&Ne.warnToConsole("ESPromiseScheduler["+lt+"] "+It)}o(dt,"_warnLog")}return o(Ve,"ESPromiseScheduler"),Ve.incomplete=function(){return se},Ve.waitingToStart=function(){return Kt},Ve}();const k=Rn;var g=function(){function Ve(Ke){var Ne=this,ze={},lt=[],gt=[];Ke&&gt.push(Ke);function dt(je,ut){var et,Ot=ze[je];if(Ot&&(et=Ot[ut]),!et&&et!==null){if((0,w.HD)(je)&&(0,w.HD)(ut))if(gt.length>0){for(var Et=0;Et<gt.length;Et++)if(gt[Et].handleField(je,ut)){et={canHandle:!0,fieldHandler:gt[Et]};break}}else lt.length===0&&(et={canHandle:!0});if(!et&&et!==null){et=null;for(var Et=0;Et<lt.length;Et++)if(lt[Et].handleField(je,ut)){et={canHandle:!0,handler:lt[Et],fieldHandler:null};break}}Ot||(Ot=ze[je]={}),Ot[ut]=et}return et}o(dt,"_getFieldSanitizer"),Ne.addSanitizer=function(je){je&&(lt.push(je),ze={})},Ne.addFieldSanitizer=function(je){je&&(gt.push(je),ze={})},Ne.handleField=function(je,ut){var et=dt(je,ut);return et?et.canHandle:!1},Ne.value=function(je,ut,et,Ot){var Et=dt(je,ut);if(Et&&Et.canHandle){if(!Et||!Et.canHandle)return null;if(Et.handler)return Et.handler.value(je,ut,et,Ot);if(!(0,w.HD)(ut)||(0,w.le)(et)||et==="")return null;var pn=null,J=(0,Ce.Sy)(et);if((J&8192)==8192){var Le=J&~8192;if(pn=et,!(0,Ce.Sn)(pn.value)||Le!==1&&Le!==2&&Le!==3&&(Le&4096)!=4096)return null}else J===1||J===2||J===3||(J&4096)==4096?pn=qt(je,ut,et):J===4&&(pn=qt(je,ut,Ot?JSON.stringify(et):et));if(pn)return It(Et,je,ut,J,pn,Ot)}return null},Ne.property=function(je,ut,et,Ot){var Et=dt(je,ut);if(!Et||!Et.canHandle||!(0,w.HD)(ut)||(0,w.le)(et)||!(0,Ce.Sn)(et.value))return null;var pn=(0,Ce.Sy)(et.value);return pn===0?null:It(Et,je,ut,pn,et,Ot)};function It(je,ut,et,Ot,Et,pn){if(je.handler)return je.handler.property(ut,et,Et,pn);if(!(0,w.le)(Et.kind)){if((Ot&4096)==4096||!(0,Ce.oS)(Et.kind))return null;Et.value=Et.value.toString()}return Gt(je.fieldHandler,ut,et,Ot,Et)}o(It,"_handleProperty");function qt(je,ut,et){return(0,Ce.Sn)(et)?{value:et}:null}o(qt,"_convertToProperty");function Gt(je,ut,et,Ot,Et){if(Et&&je){var pn=je.getSanitizer(ut,et,Ot,Et.kind,Et.propertyType);if(pn)if(Ot===4){var J={},Le=Et.value;(0,w.rW)(Le,function(ct,$t){var De=ut+"."+et;if((0,Ce.Sn)($t)){var wt=qt(De,ct,$t);wt=Gt(je,De,ct,(0,Ce.Sy)($t),wt),wt&&(J[ct]=wt.value)}}),Et.value=J}else{var Ze={path:ut,name:et,type:Ot,prop:Et,sanitizer:Ne};Et=pn.call(Ne,Ze)}}return Et}o(Gt,"_callFieldSanitizer")}return o(Ve,"ValueSanitizer"),Ve.getFieldType=Ce.Sy,Ve}(),p=100,V=d(5928),ue=d(5843),_e=d(4869),Me=d(4878),Qt=d(4392),sn=d(4206)},3599:(ae,S,d)=>{"use strict";d.d(S,{Gf:()=>v,vs:()=>I,x9:()=>M,dH:()=>$,Sn:()=>O,jM:()=>D,IZ:()=>P,r7:()=>L,yj:()=>X,Vv:()=>K,oF:()=>ne,d8:()=>de,kT:()=>ge,ej:()=>ie,Do:()=>xe,cm:()=>U,l7:()=>he,hK:()=>oe,oS:()=>pe,JT:()=>mt,if:()=>Ye,Sy:()=>q,cQ:()=>Te,Tr:()=>Re,mJ:()=>nt,ot:()=>ve});var b=d(4392),E=d(2091),w=d(7630),F=d(6708),W=d(3242),A=d(5843),h=d(4869),_=d(4878),x,v="3.2.3",I="1DS-Web-JS-"+v,R="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",T="withCredentials",B="timeout",Z=(x={},x[0]=0,x[2]=6,x[1]=1,x[3]=7,x[4096|2]=6,x[4096|1]=1,x[4096|3]=7,x),te=null,M=Boolean((0,w.Me)()),$=Boolean((0,w.Jj)());function O(ee){return!(ee===""||(0,F.le)(ee))}o(O,"isValueAssigned");function D(ee){if(ee){var ye=ee.indexOf("-");if(ye>-1)return ee.substring(0,ye)}return""}o(D,"getTenantId");function P(){return te===null&&(te=!(0,F.o8)(Uint8Array)&&!Ie()&&!(0,w.b$)()),te}o(P,"isUint8ArrayAvailable");function L(ee){return!!(ee&&(0,F.hj)(ee)&&ee>=1&&ee<=4)}o(L,"isLatency");function X(ee,ye,Ce){if(!ye&&!O(ye)||typeof ee!="string")return null;var ce=typeof ye;if(ce==="string"||ce==="number"||ce==="boolean"||(0,F.kJ)(ye))ye={value:ye};else if(ce==="object"&&!ye.hasOwnProperty("value"))ye={value:Ce?JSON.stringify(ye):ye};else if((0,F.le)(ye.value)||ye.value===""||!(0,F.HD)(ye.value)&&!(0,F.hj)(ye.value)&&!(0,F.jn)(ye.value)&&!(0,F.kJ)(ye.value))return null;if((0,F.kJ)(ye.value)&&!mt(ye.value))return null;if(!(0,F.le)(ye.kind)){if((0,F.kJ)(ye.value)||!pe(ye.kind))return null;ye.value=ye.value.toString()}return ye}o(X,"sanitizeProperty");function K(ee,ye,Ce){var ce=-1;if(!(0,F.o8)(ee))if(ye>0&&(ye===32?ce=1<<13:ye<=13&&(ce=ye<<5)),Ee(Ce))ce===-1&&(ce=0),ce|=Ce;else{var Fe=Z[q(ee)]||-1;ce!==-1&&Fe!==-1?ce|=Fe:Fe===6&&(ce=Fe)}return ce}o(K,"getCommonSchemaMetaData");function ne(){(0,W.JP)(null).setEnabled(!1)}o(ne,"disableCookies");function de(ee,ye,Ce){(0,W.p7)(null)&&(0,W.JP)(null).set(ee,ye,Ce*86400,null,"/")}o(de,"setCookie");function ge(ee){(0,W.p7)(null)&&(0,W.JP)(null).del(ee)}o(ge,"deleteCookie");function ie(ee){return(0,W.p7)(null)?xe((0,W.JP)(null),ee):""}o(ie,"getCookie");function xe(ee,ye,Ce){Ce===void 0&&(Ce=!0);var ce;return ee&&(ce=ee.get(ye),Ce&&ce&&decodeURIComponent&&(ce=decodeURIComponent(ce))),ce||""}o(xe,"getCookieValue");function U(ee){ee===void 0&&(ee="D");var ye=(0,A.GW)();return ee==="B"?ye="{"+ye+"}":ee==="P"?ye="("+ye+")":ee==="N"&&(ye=ye.replace(/-/g,"")),ye}o(U,"createGuid");function he(ee,ye,Ce,ce,Fe){var Ae={},He=!1,rt=0,Ct=arguments.length,Rt=Object[b.hB],at=arguments;for(Rt.toString.call(at[0])==="[object Boolean]"&&(He=at[0],rt++);rt<Ct;rt++){var ee=at[rt];(0,F.rW)(ee,function(Tt,ke){He&&ke&&(0,F.Kn)(ke)?(0,F.kJ)(ke)?(Ae[Tt]=Ae[Tt]||[],(0,F.tO)(ke,function(bt,se){bt&&(0,F.Kn)(bt)?Ae[Tt][se]=he(!0,Ae[Tt][se],bt):Ae[Tt][se]=bt})):Ae[Tt]=he(!0,Ae[Tt],ke):Ae[Tt]=ke})}return Ae}o(he,"extend");var oe=A.Jj;function pe(ee){return ee===0||ee>0&&ee<=13||ee===32}o(pe,"isValueKind");function Ee(ee){return ee>=0&&ee<=9}o(Ee,"isDataType");function Ie(){var ee=(0,w.jW)();if(!(0,F.o8)(ee)&&ee.userAgent){var ye=ee.userAgent.toLowerCase();if((ye.indexOf("safari")>=0||ye.indexOf("firefox")>=0)&&ye.indexOf("chrome")<0)return!0}return!1}o(Ie,"isSafariOrFirefox");function mt(ee){return ee.length>0}o(mt,"isArrayValid");function Ye(ee,ye){var Ce=ee;Ce.timings=Ce.timings||{},Ce.timings.processTelemetryStart=Ce.timings.processTelemetryStart||{},Ce.timings.processTelemetryStart[ye]=oe()}o(Ye,"setProcessTelemetryTimings");function q(ee){var ye=0;if(ee!=null){var Ce=typeof ee;Ce==="string"?ye=1:Ce==="number"?ye=2:Ce==="boolean"?ye=3:Ce===b.fK&&(ye=4,(0,F.kJ)(ee)?(ye=4096,ee.length>0&&(ye|=q(ee[0]))):(0,F.nr)(ee,"value")&&(ye=8192|q(ee.value)))}return ye}o(q,"getFieldValueType");var Te={Version:v,FullVersionString:I,strUndefined:b.jA,strObject:b.fK,Undefined:b.jA,arrForEach:F.tO,arrIndexOf:F.UA,arrMap:F.Mr,arrReduce:F.Xz,objKeys:F.FY,toISOString:F.Y6,isReactNative:w.b$,isString:F.HD,isNumber:F.hj,isBoolean:F.jn,isFunction:F.mf,isArray:F.kJ,isObject:F.Kn,strTrim:F.nd,isDocumentObjectAvailable:M,isWindowObjectAvailable:$,isValueAssigned:O,getTenantId:D,isBeaconsSupported:w.MF,isUint8ArrayAvailable:P,isLatency:L,sanitizeProperty:X,getISOString:F.Y6,useXDomainRequest:w.cp,getCommonSchemaMetaData:K,cookieAvailable:W.p7,disallowsSameSiteNone:W.UY,setCookie:de,deleteCookie:ge,getCookie:ie,createGuid:U,extend:he,getTime:oe,isValueKind:pe,isArrayValid:mt,objDefineAccessors:F.l_,addPageUnloadEventListener:h.c9,setProcessTelemetryTimings:Ye,addEventHandler:h.Ib,getFieldValueType:q,strEndsWith:F.Id,objForEachKey:F.rW},Re={_canUseCookies:void 0,isTypeof:F.Ym,isUndefined:F.o8,isNullOrUndefined:F.le,hasOwnProperty:F.nr,isFunction:F.mf,isObject:F.Kn,isDate:F.J_,isArray:F.kJ,isError:F.VZ,isString:F.HD,isNumber:F.hj,isBoolean:F.jn,toISOString:F.Y6,arrForEach:F.tO,arrIndexOf:F.UA,arrMap:F.Mr,arrReduce:F.Xz,strTrim:F.nd,objCreate:E.pu,objKeys:F.FY,objDefineAccessors:F.l_,addEventHandler:h.Ib,dateNow:F.m6,isIE:w.w1,disableCookies:ne,newGuid:A.GW,perfNow:A.Jj,newId:_.pZ,randomValue:_.az,random32:_._l,mwcRandomSeed:_.CN,mwcRandom32:_.F6,generateW3CId:A.DO};function nt(){return!!(0,w.a8)("chrome")}o(nt,"isChromium");function ve(ee,ye,Ce,ce,Fe,Ae){ce===void 0&&(ce=!1),Fe===void 0&&(Fe=!1);function He(Ct,Rt,at){try{Ct[Rt]=at}catch(Ut){}}o(He,"_wrapSetXhrProp");var rt=new XMLHttpRequest;return ce&&He(rt,R,ce),Ce&&He(rt,T,Ce),rt.open(ee,ye,!Fe),Ce&&He(rt,T,Ce),!Fe&&Ae&&He(rt,B,Ae),rt}o(ve,"openXhr")},7156:(ae,S,d)=>{"use strict";d.r(S),d.d(S,{BE_PROFILE:()=>B,NRT_PROFILE:()=>T,PostChannel:()=>De,RT_PROFILE:()=>R});var b=d(1088),E=d(1679),w=d(9288),F=d(4869),W=d(5883),A=d(3599),h=d(6708),_=d(7630),x=d(5928),v=d(5018),I=d(4063),R="REAL_TIME",T="NEAR_REAL_TIME",B="BEST_EFFORT",Z="POST",te="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",M="drop",$="send",O="requeue",D="rspFail",P="oth",L="no-cache, no-store",X="application/x-json-stream",K="cache-control",ne="content-type",de="kill-tokens",ge="kill-duration",ie="kill-duration-seconds",xe="time-delta-millis",U="client-version",he="client-id",oe="time-delta-to-apply-millis",pe="upload-time",Ee="apikey",Ie="AuthMsaDeviceTicket",mt="AuthXToken",Ye="sdk-version",q="NoResponseBody",Te="msfpc";function Re(wt){var Mt=(wt.ext||{}).intweb;return Mt&&(0,A.Sn)(Mt[Te])?Mt[Te]:null}o(Re,"_getEventMsfpc");function nt(wt){for(var Mt=null,ft=0;Mt===null&&ft<wt.length;ft++)Mt=Re(wt[ft]);return Mt}o(nt,"_getMsfpc");var ve=function(){function wt(Mt,ft){var qe=ft?[].concat(ft):[],Ht=this,Lt=nt(qe);Ht.iKey=function(){return Mt},Ht.Msfpc=function(){return Lt||""},Ht.count=function(){return qe.length},Ht.events=function(){return qe},Ht.addEvent=function(ht){return ht?(qe.push(ht),Lt||(Lt=Re(ht)),!0):!1},Ht.split=function(ht,tn){var on;if(ht<qe.length){var vn=qe.length-ht;(0,h.le)(tn)||(vn=tn<vn?tn:vn),on=qe.splice(ht,vn),Lt=nt(qe)}return new wt(Mt,on)}}return o(wt,"EventBatch"),wt.create=function(Mt,ft){return new wt(Mt,ft)},wt}(),ee=d(4392),ye=20,Ce=3984588,ce=65e3,Fe=2e6,Ae=Math.min(Fe,ce),He="metadata",rt="f",Ct=/\./,Rt=function(){function wt(Mt,ft,qe,Ht){var Lt="data",ht="baseData",tn="ext",on=!!Ht,vn=!0,Ln=ft,Zn={};(0,E.Z)(wt,this,function(bn){bn.createPayload=function(Pt,pt,Yt,rn,Jt,ln){return{apiKeys:[],payloadBlob:"",overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:Pt,isTeardown:pt,isSync:Yt,isBeacon:rn,sendType:ln,sendReason:Jt}},bn.appendPayload=function(Pt,pt,Yt){var rn=Pt&&pt&&!Pt.overflow;return rn&&(0,w.Lm)(Mt,function(){return"Serializer:appendPayload"},function(){for(var Jt=pt.events(),ln=Pt.payloadBlob,Pn=Pt.numEvents,Cn=!1,Tn=[],Hn=[],er=Pt.isBeacon,hn=er?ce:Ce,Jn=er?Ae:Fe,Un=0,tr=0;Un<Jt.length;){var Wn=Jt[Un];if(Wn){if(Pn>=Yt){Pt.overflow=pt.split(Un);break}var an=bn.getEventBlob(Wn);if(an&&an.length<=Jn){var rr=an.length,Xe=ln.length;if(Xe+rr>hn){Pt.overflow=pt.split(Un);break}ln&&(ln+=`
`),ln+=an,tr++,tr>ye&&(ln.substr(0,1),tr=0),Cn=!0,Pn++}else an?Tn.push(Wn):Hn.push(Wn),Jt.splice(Un,1),Un--}Un++}if(Tn&&Tn.length>0&&Pt.sizeExceed.push(ve.create(pt.iKey(),Tn)),Hn&&Hn.length>0&&Pt.failedEvts.push(ve.create(pt.iKey(),Hn)),Cn){Pt.batches.push(pt),Pt.payloadBlob=ln,Pt.numEvents=Pn;var cr=pt.iKey();(0,h.UA)(Pt.apiKeys,cr)===-1&&Pt.apiKeys.push(cr)}},function(){return{payload:Pt,theBatch:{iKey:pt.iKey(),evts:pt.events()},max:Yt}}),rn},bn.getEventBlob=function(Pt){try{return(0,w.Lm)(Mt,function(){return"Serializer.getEventBlob"},function(){var pt={};pt.name=Pt.name,pt.time=Pt.time,pt.ver=Pt.ver,pt.iKey="o:"+(0,A.jM)(Pt.iKey);var Yt={},rn=Pt[tn];rn&&(pt[tn]=Yt,(0,h.rW)(rn,function(Pn,Cn){var Tn=Yt[Pn]={};Wt(Cn,Tn,"ext."+Pn,!0,null,null,!0)}));var Jt=pt[Lt]={};Jt.baseType=Pt.baseType;var ln=Jt[ht]={};return Wt(Pt.baseData,ln,ht,!1,[ht],function(Pn,Cn,Tn){at(Yt,Pn,Cn,Tn)},vn),Wt(Pt.data,Jt,Lt,!1,[],function(Pn,Cn,Tn){at(Yt,Pn,Cn,Tn)},vn),JSON.stringify(pt)},function(){return{item:Pt}})}catch(pt){return null}};function Ge(Pt,pt){var Yt=Zn[Pt];return Yt===void 0&&(Pt.length>=7&&(Yt=(0,h.xe)(Pt,"ext.metadata")||(0,h.xe)(Pt,"ext.web")),Zn[Pt]=Yt),Yt}o(Ge,"_isReservedField");function Wt(Pt,pt,Yt,rn,Jt,ln,Pn){(0,h.rW)(Pt,function(Cn,Tn){var Hn=null;if(Tn||(0,A.Sn)(Tn)){var er=Yt,hn=Cn,Jn=Jt,Un=pt;if(on&&!rn&&Ct.test(Cn)){var tr=Cn.split("."),Wn=tr.length;if(Wn>1){Jn&&(Jn=Jn.slice());for(var an=0;an<Wn-1;an++){var rr=tr[an];Un=Un[rr]=Un[rr]||{},er+="."+rr,Jn&&Jn.push(rr)}hn=tr[Wn-1]}}var Xe=rn&&Ge(er,hn);if(!Xe&&Ln&&Ln.handleField(er,hn)?Hn=Ln.value(er,hn,Tn,qe):Hn=(0,A.yj)(hn,Tn,qe),Hn){var cr=Hn.value;if(Un[hn]=cr,ln&&ln(Jn,hn,Hn),Pn&&typeof cr=="object"&&!(0,h.kJ)(cr)){var kr=Jn;kr&&(kr=kr.slice(),kr.push(hn)),Wt(Tn,cr,er+"."+hn,rn,kr,ln,Pn)}}}})}o(Wt,"_processPathKeys")})}return o(wt,"Serializer"),wt}();function at(wt,Mt,ft,qe){if(qe&&wt){var Ht=(0,A.Vv)(qe.value,qe.kind,qe.propertyType);if(Ht>-1){var Lt=wt[He];Lt||(Lt=wt[He]={f:{}});var ht=Lt[rt];if(ht||(ht=Lt[rt]={}),Mt)for(var tn=0;tn<Mt.length;tn++){var on=Mt[tn];ht[on]||(ht[on]={f:{}});var vn=ht[on][rt];vn||(vn=ht[on][rt]={}),ht=vn}ht=ht[ft]={},(0,h.kJ)(qe.value)?ht.a={t:Ht}:ht.t=Ht}}}o(at,"_addJSONPropertyMetaData");var Ut=.8,Tt=1.2,ke=3e3,bt=6e5;function se(wt){return!(wt>=300&&wt<500&&wt!=408&&wt!=429||wt==501||wt==505)}o(se,"retryPolicyShouldRetryForStatus");function Kt(wt){var Mt=0,ft=ke*Ut,qe=ke*Tt,Ht=Math.floor(Math.random()*(qe-ft))+ft;return Mt=Math.pow(2,wt)*Ht,Math.min(Mt,bt)}o(Kt,"retryPolicyGetMillisToBackoffForRetry");var cn=1e3,xn=function(){function wt(){var Mt={};function ft(qe){var Ht=[];return qe&&(0,h.tO)(qe,function(Lt){Ht.push((0,h.nd)(Lt))}),Ht}o(ft,"_normalizeTenants"),(0,E.Z)(wt,this,function(qe){qe.setKillSwitchTenants=function(Ht,Lt){if(Ht&&Lt)try{var ht=ft(Ht.split(","));if(Lt==="this-request-only")return ht;for(var tn=parseInt(Lt,10)*cn,on=0;on<ht.length;++on)Mt[ht[on]]=(0,h.m6)()+tn}catch(vn){return[]}return[]},qe.isTenantKilled=function(Ht){var Lt=Mt,ht=(0,h.nd)(Ht);return Lt[ht]!==void 0&&Lt[ht]>(0,h.m6)()?!0:(delete Lt[ht],!1)}})}return o(wt,"KillSwitch"),wt}();const Rn=xn;var k=function(){function wt(){var Mt=!0,ft=!0,qe=!0,Ht="use-collector-delta",Lt=!1;(0,E.Z)(wt,this,function(ht){ht.allowRequestSending=function(){return Mt},ht.firstRequestSent=function(){qe&&(qe=!1,Lt||(Mt=!1))},ht.shouldAddClockSkewHeaders=function(){return ft},ht.getClockSkewHeaderValue=function(){return Ht},ht.setClockSkew=function(tn){Lt||(tn?(Ht=tn,ft=!0,Lt=!0):ft=!1,Mt=!0)}})}return o(wt,"ClockSkewManager"),wt}();const g=k;var p,V="sendAttempt",ue="&"+q+"=true",_e=(p={},p[1]=O,p[100]=O,p[200]="sent",p[8004]=M,p[8003]=M,p),Me={},Qt={};function sn(wt,Mt,ft){Me[wt]=Mt,ft!==!1&&(Qt[Mt]=wt)}o(sn,"_addCollectorHeaderQsMapping"),sn(Ie,Ie,!1),sn(U,U),sn(he,"Client-Id"),sn(Ee,Ee),sn(oe,oe),sn(pe,pe),sn(mt,mt);function Ve(wt){try{return wt.responseText}catch(Mt){}return""}o(Ve,"_getResponseText");function Ke(wt,Mt){var ft=!1;if(wt&&Mt){var qe=(0,h.FY)(wt);if(qe&&qe.length>0)for(var Ht=Mt.toLowerCase(),Lt=0;Lt<qe.length;Lt++){var ht=qe[Lt];if(ht&&(0,h.nr)(Mt,ht)&&ht.toLowerCase()===Ht){ft=!0;break}}}return ft}o(Ke,"_hasHeader");function Ne(wt,Mt,ft,qe){Mt&&ft&&ft.length>0&&(qe&&Me[Mt]?(wt.hdrs[Me[Mt]]=ft,wt.useHdrs=!0):wt.url+="&"+Mt+"="+ft)}o(Ne,"_addRequestDetails");var ze=function(){function wt(Mt,ft,qe,Ht,Lt){this._responseHandlers=[];var ht="?cors=true&"+ne.toLowerCase()+"="+X,tn=new Rn,on=!1,vn=new g,Ln=!1,Zn=0,bn,Ge,Wt,Pt=!0,pt=[],Yt={},rn=[],Jt=null,ln=!1,Pn,Cn=!1,Tn=!1,Hn,er;(0,E.Z)(wt,this,function(hn){var Jn=!0;hn.initialize=function(we,Qe,tt,ot,jt){var Xt;jt||(jt={}),ht=we+ht,Tn=(0,h.o8)(jt.avoidOptions)?!0:!jt.avoidOptions,Wt=Qe,Pn=Qe.getCookieMgr(),ln=!Wt.config.disableEventTimings;var nn=!!Wt.config.enableCompoundKey;bn=tt;var gn=jt.valueSanitizer,H=jt.stringifyObjects;(0,h.o8)(jt.enableCompoundKey)||(nn=!!jt.enableCompoundKey),Hn=jt.xhrTimeout,er=jt.disableXhrSync,Ln=!(0,_.b$)(),Jt=new Rt(Wt,gn,H,nn);var Y=ot,N=jt.alwaysUseXhrOverride?ot:null,me=jt.alwaysUseXhrOverride?ot:null;if(!ot){Pt=!1;var $e=(0,_.k$)();$e&&$e.protocol&&$e.protocol.toLowerCase()==="file:"&&(Jn=!1);var Be=[];(0,_.b$)()?Be=[2,1]:Be=[1,2,3];var kt=jt.transports;kt&&((0,h.hj)(kt)?Be=[kt].concat(Be):(0,h.kJ)(kt)&&(Be=kt.concat(Be))),ot=Un(Be,!1),Y=Un(Be,!0),ot||bn.diagLog().warnToConsole("No available transport to send events")}Ge=(Xt={},Xt[0]=ot,Xt[1]=Y||Un([1,2,3],!0),Xt[2]=N||Un([3,2],!0)||Y||Un([1],!0),Xt[3]=me||Un([2,3],!0)||Y||Un([1],!0),Xt)};function Un(we,Qe){for(var tt=0,ot=null,jt=0;ot==null&&jt<we.length;)tt=we[jt],tt===1?(0,_.cp)()?ot=tr:(0,_.Z3)()&&(ot=an):tt===2&&(0,_.JO)(Qe)?ot=Wn:Ln&&tt===3&&(0,_.MF)()&&(ot=Xe),jt++;return ot?{_transport:tt,_isSync:Qe,sendPOST:ot}:null}o(Un,"_getSenderInterface"),hn._getDbgPlgTargets=function(){return[Ge[0],tn,Jt,Ge]};function tr(we,Qe,tt){var ot=new XDomainRequest;ot.open(Z,we.urlString),we.timeout&&(ot.timeout=we.timeout),ot.onload=function(){var jt=Ve(ot);rr(Qe,200,{},jt),Xr(jt)},ot.onerror=function(){rr(Qe,400,{})},ot.ontimeout=function(){rr(Qe,500,{})},ot.onprogress=function(){},tt?ot.send(we.data):Lt.set(function(){ot.send(we.data)},0)}o(tr,"_xdrSendPost");function Wn(we,Qe,tt){var ot,jt=we.urlString,Xt=!1,nn=!1,gn=(ot={body:we.data,method:Z},ot[te]=!0,ot);tt&&(gn.keepalive=!0,we._sendReason===2&&(Xt=!0,jt+=ue)),Jn&&(gn.credentials="include"),we.headers&&(0,h.FY)(we.headers).length>0&&(gn.headers=we.headers),fetch(jt,gn).then(function(H){var Y={},N="";H.headers&&H.headers.forEach(function(me,$e){Y[$e]=me}),H.body&&H.text().then(function(me){N=me}),nn||(nn=!0,rr(Qe,H.status,Y,N),Xr(N))}).catch(function(H){nn||(nn=!0,rr(Qe,0,{}))}),Xt&&!nn&&(nn=!0,rr(Qe,200,{})),!nn&&we.timeout>0&&Lt.set(function(){nn||(nn=!0,rr(Qe,500,{}))},we.timeout)}o(Wn,"_fetchSendPost");function an(we,Qe,tt){var ot=we.urlString;function jt(H,Y,N){if(!H[N]&&Y&&Y.getResponseHeader){var me=Y.getResponseHeader(N);me&&(H[N]=(0,h.nd)(me))}return H}o(jt,"_appendHeader");function Xt(H){var Y={};return H.getAllResponseHeaders?Y=ta(H.getAllResponseHeaders()):(Y=jt(Y,H,xe),Y=jt(Y,H,ge),Y=jt(Y,H,ie)),Y}o(Xt,"_getAllResponseHeaders");function nn(H,Y){rr(Qe,H.status,Xt(H),Y)}o(nn,"xhrComplete"),tt&&we.disableXhrSync&&(tt=!1);var gn=(0,A.ot)(Z,ot,Jn,!0,tt,we.timeout);(0,h.rW)(we.headers,function(H,Y){gn.setRequestHeader(H,Y)}),gn.onload=function(){var H=Ve(gn);nn(gn,H),Xr(H)},gn.onerror=function(){nn(gn)},gn.ontimeout=function(){nn(gn)},gn.send(we.data)}o(an,"_xhrSendPost");function rr(we,Qe,tt,ot){try{we(Qe,tt,ot)}catch(jt){(0,v.kP)(bn.diagLog(),2,518,(0,_.eU)(jt))}}o(rr,"_doOnComplete");function Xe(we,Qe,tt){var ot=we,jt=200,Xt=ot._thePayload,nn=we.urlString+ue;try{var gn=(0,_.jW)();if(!gn.sendBeacon(nn,we.data))if(Xt){var H=[];(0,h.tO)(Xt.batches,function(Y){if(H&&Y&&Y.count()>0){for(var N=Y.events(),me=0;me<N.length;me++)if(!gn.sendBeacon(nn,Jt.getEventBlob(N[me]))){H.push(Y.split(me));break}}else H.push(Y.split(0))}),dr(H,8003,Xt.sendType,!0)}else jt=0}catch(Y){bn.diagLog().warnToConsole("Failed to send telemetry using sendBeacon API. Ex:"+(0,_.eU)(Y)),jt=0}finally{rr(Qe,jt,{},"")}}o(Xe,"_beaconSendPost");function cr(we){return we===2||we===3}o(cr,"_isBeaconPayload");function kr(we){return Cn&&cr(we)&&(we=2),we}o(kr,"_adjustSendType"),hn.addQueryStringParameter=function(we,Qe){for(var tt=0;tt<pt.length;tt++)if(pt[tt].name===we){pt[tt].value=Qe;return}pt.push({name:we,value:Qe})},hn.addHeader=function(we,Qe){Yt[we]=Qe},hn.canSendRequest=function(){return lr()&&vn.allowRequestSending()},hn.sendQueuedRequests=function(we,Qe){(0,h.o8)(we)&&(we=0),Cn&&(we=kr(we),Qe=2),Gr(rn,we,0)&&oi(Sr(),0,!1,we,Qe||0)},hn.isCompletelyIdle=function(){return!on&&Zn===0&&rn.length===0},hn.setUnloading=function(we){Cn=we},hn.addBatch=function(we){if(we&&we.count()>0){if(tn.isTenantKilled(we.iKey()))return!1;rn.push(we)}return!0},hn.teardown=function(){rn.length>0&&oi(Sr(),0,!0,2,2)},hn.pause=function(){on=!0},hn.resume=function(){on=!1,hn.sendQueuedRequests(0,4)},hn.sendSynchronousBatch=function(we,Qe,tt){we&&we.count()>0&&((0,h.le)(Qe)&&(Qe=1),Cn&&(Qe=kr(Qe),tt=2),oi([we],0,!1,Qe,tt||0))};function lr(){return!on&&Zn<ft}o(lr,"_hasIdleConnection");function Sr(){var we=rn;return rn=[],we}o(Sr,"_clearQueue");function Gr(we,Qe,tt){var ot=!1;return we&&we.length>0&&!on&&Ge[Qe]&&Jt&&(ot=Qe!==0||lr()&&(tt>0||vn.allowRequestSending())),ot}o(Gr,"_canSendPayload");function qn(we){var Qe={};return we&&(0,h.tO)(we,function(tt,ot){Qe[ot]={iKey:tt.iKey(),evts:tt.events()}}),Qe}o(qn,"_createDebugBatches");function oi(we,Qe,tt,ot,jt){if(!(!we||we.length===0)){if(on){dr(we,1,ot);return}ot=kr(ot);try{var Xt=we,nn=ot!==0;(0,w.Lm)(Wt,function(){return"HttpManager:_sendBatches"},function(gn){gn&&(we=we.slice(0));for(var H=[],Y=null,N=(0,A.hK)(),me=Ge[ot]||(nn?Ge[1]:Ge[0]),$e=(Cn||cr(ot)||me&&me._transport===3)&&fr();Gr(we,ot,Qe);){var Be=we.shift();Be&&Be.count()>0&&(tn.isTenantKilled(Be.iKey())?H.push(Be):(Y=Y||Jt.createPayload(Qe,tt,nn,$e,jt,ot),Jt.appendPayload(Y,Be,Mt)?Y.overflow!==null&&(we=[Y.overflow].concat(we),Y.overflow=null,si(Y,N,(0,A.hK)(),jt),N=(0,A.hK)(),Y=null):(si(Y,N,(0,A.hK)(),jt),N=(0,A.hK)(),we=[Be].concat(we),Y=null)))}Y&&si(Y,N,(0,A.hK)(),jt),we.length>0&&(rn=we.concat(rn)),dr(H,8004,ot)},function(){return{batches:qn(Xt),retryCount:Qe,isTeardown:tt,isSynchronous:nn,sendReason:jt,useSendBeacon:cr(ot),sendType:ot}},!nn)}catch(gn){(0,v.kP)(bn.diagLog(),2,48,"Unexpected Exception sending batch: "+(0,_.eU)(gn))}}}o(oi,"_sendBatches");function Zr(we,Qe){var tt={url:ht,hdrs:{},useHdrs:!1};Qe?(tt.hdrs=(0,A.l7)(tt.hdrs,Yt),tt.useHdrs=(0,h.FY)(tt.hdrs).length>0):(0,h.rW)(Yt,function(gn,H){Qt[gn]?Ne(tt,Qt[gn],H,!1):(tt.hdrs[gn]=H,tt.useHdrs=!0)}),Ne(tt,he,"NO_AUTH",Qe),Ne(tt,U,A.vs,Qe);var ot="";(0,h.tO)(we.apiKeys,function(gn){ot.length>0&&(ot+=","),ot+=gn}),Ne(tt,Ee,ot,Qe),Ne(tt,pe,(0,h.m6)().toString(),Qe);var jt=jr(we);if((0,A.Sn)(jt)&&(tt.url+="&ext.intweb.msfpc="+jt),vn.shouldAddClockSkewHeaders()&&Ne(tt,oe,vn.getClockSkewHeaderValue(),Qe),Wt.getWParam){var Xt=Wt.getWParam();Xt>=0&&(tt.url+="&w="+Xt)}for(var nn=0;nn<pt.length;nn++)tt.url+="&"+pt[nn].name+"="+pt[nn].value;return tt}o(Zr,"_buildRequestDetails");function fr(){return!Pt&&Ln&&(0,_.MF)()}o(fr,"_canUseSendBeaconApi");function Wr(we,Qe,tt){we[Qe]=we[Qe]||{},we[Qe][bn.identifier]=tt}o(Wr,"_setTimingValue");function si(we,Qe,tt,ot){if(we&&we.payloadBlob&&we.payloadBlob.length>0){var jt=!!hn.sendHook,Xt=Ge[we.sendType];!cr(we.sendType)&&we.isBeacon&&we.sendReason===2&&(Xt=Ge[2]||Ge[3]||Xt);var nn=Tn;(we.isBeacon||Xt._transport===3)&&(nn=!1);var gn=Zr(we,nn);nn=nn||gn.useHdrs;var H=(0,A.hK)();(0,w.Lm)(Wt,function(){return"HttpManager:_doPayloadSend"},function(){for(var Y=0;Y<we.batches.length;Y++)for(var N=we.batches[Y],me=N.events(),$e=0;$e<me.length;$e++){var Be=me[$e];if(ln){var kt=Be.timings=Be.timings||{};Wr(kt,"sendEventStart",H),Wr(kt,"serializationStart",Qe),Wr(kt,"serializationCompleted",tt)}Be[V]>0?Be[V]++:Be[V]=1}dr(we.batches,1e3+(ot||0),we.sendType,!0);var Nt={data:we.payloadBlob,urlString:gn.url,headers:gn.hdrs,_thePayload:we,_sendReason:ot,timeout:Hn};(0,h.o8)(er)||(Nt.disableXhrSync=!!er),nn&&(Ke(Nt.headers,K)||(Nt.headers[K]=L),Ke(Nt.headers,ne)||(Nt.headers[ne]=X));var mn=null;Xt&&(mn=o(function(yn){vn.firstRequestSent();var $n=o(function(ir,xr){ea(ir,xr,we,ot)},"onComplete"),jn=we.isTeardown||we.isSync;try{Xt.sendPOST(yn,$n,jn),hn.sendListener&&hn.sendListener(Nt,yn,jn,we.isBeacon)}catch(ir){bn.diagLog().warnToConsole("Unexpected exception sending payload. Ex:"+(0,_.eU)(ir)),rr($n,0,{})}},"sender")),(0,w.Lm)(Wt,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(mn)if(we.sendType===0&&Zn++,jt&&!we.isBeacon&&Xt._transport!==3){var yn={data:Nt.data,urlString:Nt.urlString,headers:(0,A.l7)({},Nt.headers),timeout:Nt.timeout,disableXhrSync:Nt.disableXhrSync},$n=!1;(0,w.Lm)(Wt,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{hn.sendHook(yn,function(jn){$n=!0,!Pt&&!jn._thePayload&&(jn._thePayload=jn._thePayload||Nt._thePayload,jn._sendReason=jn._sendReason||Nt._sendReason),mn(jn)},we.isSync||we.isTeardown)}catch(jn){$n||mn(Nt)}})}else mn(Nt)})},function(){return{thePayload:we,serializationStart:Qe,serializationCompleted:tt,sendReason:ot}},we.isSync)}we.sizeExceed&&we.sizeExceed.length>0&&dr(we.sizeExceed,8003,we.sendType),we.failedEvts&&we.failedEvts.length>0&&dr(we.failedEvts,8002,we.sendType)}o(si,"_doPayloadSend");function xa(we,Qe){ln&&(0,h.tO)(we,function(tt){var ot=tt.timings=tt.timings||{};Wr(ot,"sendEventCompleted",Qe)})}o(xa,"_addEventCompletedTimings");function ea(we,Qe,tt,ot){var jt=9e3,Xt=null,nn=!1,gn=!1;try{var H=!0;if(typeof we!==ee.jA){if(Qe){vn.setClockSkew(Qe[xe]);var Y=Qe[ge]||Qe["kill-duration-seconds"];(0,h.tO)(tn.setKillSwitchTenants(Qe[de],Y),function(me){(0,h.tO)(tt.batches,function($e){if($e.iKey()===me){Xt=Xt||[];var Be=$e.split(0);tt.numEvents-=Be.count(),Xt.push(Be)}})})}if(we==200||we==204){jt=200;return}(!se(we)||tt.numEvents<=0)&&(H=!1),jt=9e3+we%1e3}if(H){jt=100;var N=tt.retryCnt;tt.sendType===0&&(N<qe?(nn=!0,ki(function(){tt.sendType===0&&Zn--,oi(tt.batches,N+1,tt.isTeardown,Cn?2:tt.sendType,5)},Cn,Kt(N))):(gn=!0,Cn&&(jt=8001)))}}finally{nn||(vn.setClockSkew(),ba(tt,jt,ot,gn)),dr(Xt,8004,tt.sendType)}}o(ea,"_retryRequestIfNeeded");function ba(we,Qe,tt,ot){try{ot&&bn._backOffTransmission(),Qe===200&&(!ot&&!we.isSync&&bn._clearBackOff(),Qr(we.batches)),dr(we.batches,Qe,we.sendType,!0)}finally{we.sendType===0&&(Zn--,tt!==5&&hn.sendQueuedRequests(we.sendType,tt))}}o(ba,"_handleRequestFinished");function Qr(we){if(ln){var Qe=(0,A.hK)();(0,h.tO)(we,function(tt){tt&&tt.count()>0&&xa(tt.events(),Qe)})}}o(Qr,"_addCompleteTimings");function ki(we,Qe,tt){Qe?we():Lt.set(we,tt)}o(ki,"_doAction");function ta(we){var Qe={};if((0,h.HD)(we)){var tt=(0,h.nd)(we).split(/[\r\n]+/);(0,h.tO)(tt,function(ot){if(ot){var jt=ot.indexOf(": ");if(jt!==-1){var Xt=(0,h.nd)(ot.substring(0,jt)).toLowerCase(),nn=(0,h.nd)(ot.substring(jt+1));Qe[Xt]=nn}else Qe[(0,h.nd)(ot)]=1}})}return Qe}o(ta,"_convertAllHeadersToMap");function jr(we){for(var Qe=0;Qe<we.batches.length;Qe++){var tt=we.batches[Qe].Msfpc();if(tt)return encodeURIComponent(tt)}return""}o(jr,"_getMsfpc");function Xr(we){var Qe=hn._responseHandlers;try{for(var tt=0;tt<Qe.length;tt++)try{Qe[tt](we)}catch(jt){(0,v.kP)(bn.diagLog(),1,519,"Response handler failed: "+jt)}if(we){var ot=JSON.parse(we);(0,A.Sn)(ot.webResult)&&(0,A.Sn)(ot.webResult[Te])&&Pn.set("MSFPC",ot.webResult[Te],365*86400)}}catch(jt){}}o(Xr,"_handleCollectorResponse");function dr(we,Qe,tt,ot){if(we&&we.length>0&&Ht){var jt=Ht[Pi(Qe)];if(jt){var Xt=tt!==0;(0,w.Lm)(Wt,function(){return"HttpManager:_sendBatchesNotification"},function(){ki(function(){try{jt.call(Ht,we,Qe,Xt,tt)}catch(nn){(0,v.kP)(bn.diagLog(),1,74,"send request notification failed: "+nn)}},ot||Xt,0)},function(){return{batches:qn(we),reason:Qe,isSync:Xt,sendSync:ot,sendType:tt}},!Xt)}}}o(dr,"_sendBatchesNotification");function Pi(we){var Qe=_e[we];return(0,A.Sn)(Qe)||(Qe=P,we>=9e3&&we<=9999?Qe=D:we>=8e3&&we<=8999?Qe=M:we>=1e3&&we<=1999&&(Qe=$)),Qe}o(Pi,"_getNotificationAction")})}return o(wt,"HttpManager"),wt}();function lt(wt,Mt){for(var ft=[],qe=2;qe<arguments.length;qe++)ft[qe-2]=arguments[qe];return setTimeout(wt,Mt,ft)}o(lt,"defaultSetTimeout");function gt(wt){clearTimeout(wt)}o(gt,"defaultClearTimeout");function dt(wt,Mt){return{set:wt||lt,clear:Mt||gt}}o(dt,"createTimeoutWrapper");var It=.25,qt=500,Gt=20,je=6,ut=2,et=4,Ot=2,Et=1,pn="eventsDiscarded",J="overrideInstrumentationKey",Le="maxEventRetryAttempts",Ze="maxUnloadEventRetryAttempts",ct="addUnloadCb",$t=function(wt){(0,b.ne)(Mt,wt);function Mt(){var ft=wt.call(this)||this;ft.identifier="PostChannel",ft.priority=1011,ft.version="3.2.3";var qe,Ht=!1,Lt=[],ht=null,tn=!1,on=0,vn=500,Ln=0,Zn=1e4,bn={},Ge=R,Wt=null,Pt=null,pt=0,Yt=0,rn,Jt,ln={},Pn,Cn,Tn=-1,Hn,er=!0,hn=!1,Jn=je,Un=ut,tr,Wn;return(0,E.Z)(Mt,ft,function(an,rr){oi(),an._getDbgPlgTargets=function(){return[Jt]},an.initialize=function(N,me,$e){(0,w.Lm)(me,function(){return"PostChannel:initialize"},function(){var Be=me;rr.initialize(N,me,$e);try{var kt=!!me[ct];tr=(0,F.jU)((0,W.J)(an.identifier),me.evtNamespace&&me.evtNamespace());var Nt=an._getTelCtx();N.extensionConfig[an.identifier]=N.extensionConfig[an.identifier]||{},qe=Nt.getExtCfg(an.identifier),Wn=dt(qe.setTimeoutOverride,qe.clearTimeoutOverride),er=!qe.disableOptimizeObj&&(0,A.mJ)(),Xe(Be),qe.eventsLimitInMem>0&&(Zn=qe.eventsLimitInMem),qe.immediateEventLimit>0&&(vn=qe.immediateEventLimit),qe.autoFlushEventsLimit>0&&(Pn=qe.autoFlushEventsLimit),(0,h.hj)(qe[Le])&&(Jn=qe[Le]),(0,h.hj)(qe[Ze])&&(Un=qe[Ze]),Y(),qe.httpXHROverride&&qe.httpXHROverride.sendPOST&&(rn=qe.httpXHROverride),(0,A.Sn)(N.anonCookieName)&&Jt.addQueryStringParameter("anoncknm",N.anonCookieName),Jt.sendHook=qe.payloadPreprocessor,Jt.sendListener=qe.payloadListener;var mn=qe.overrideEndpointUrl?qe.overrideEndpointUrl:N.endpointUrl;an._notificationManager=N.extensionConfig.NotificationManager,Jt.initialize(mn,an.core,an,rn,qe);var yn=N.disablePageUnloadEvents||[];(0,F.c9)(cr,yn,tr),(0,F.TJ)(cr,yn,tr),(0,F.nD)(kr,N.disablePageShowEvents,tr)}catch($n){throw an.setInitialized(!1),$n}},function(){return{coreConfig:N,core:me,extensions:$e}})},an.processTelemetry=function(N,me){(0,A.if)(N,an.identifier),me=an._getTelCtx(me);var $e=me.getExtCfg(an.identifier),Be=!!qe.disableTelemetry;$e&&(Be=Be||!!$e.disableTelemetry);var kt=N;!Be&&!Ht&&(qe[J]&&(kt.iKey=qe[J]),$e&&$e[J]&&(kt.iKey=$e[J]),lr(kt,!0),hn?Wr(2,2):qn()),an.processNext(kt,me)},an._doTeardown=function(N,me){Wr(2,2),Ht=!0,Jt.teardown(),(0,F.JA)(null,tr),(0,F.C9)(null,tr),(0,F.Yl)(null,tr),oi()};function Xe(N){var me=N.getWParam;N.getWParam=function(){var $e=0;return qe.ignoreMc1Ms0CookieProcessing&&($e=$e|2),$e|me()}}o(Xe,"_hookWParam");function cr(N){var me=N||(0,_.Jj)().event;me.type!=="beforeunload"&&(hn=!0,Jt.setUnloading(hn)),Wr(2,2)}o(cr,"_handleUnloadEvents");function kr(N){hn=!1,Jt.setUnloading(hn)}o(kr,"_handleShowEvents");function lr(N,me){if(N.sendAttempt||(N.sendAttempt=0),N.latency||(N.latency=1),N.ext&&N.ext.trace&&delete N.ext.trace,N.ext&&N.ext.user&&N.ext.user.id&&delete N.ext.user.id,er&&(N.ext=(0,h.Ax)(N.ext),N.baseData&&(N.baseData=(0,h.Ax)(N.baseData)),N.data&&(N.data=(0,h.Ax)(N.data))),N.sync){if(pt||tn)N.latency=3,N.sync=!1;else if(Jt){er&&(N=(0,h.Ax)(N)),Jt.sendSynchronousBatch(ve.create(N.iKey,[N]),N.sync===!0?1:N.sync,3);return}}var $e=N.latency,Be=Ln,kt=Zn;$e===4&&(Be=on,kt=vn);var Nt=!1;if(Be<kt)Nt=!ba(N,me);else{var mn=1,yn=Gt;$e===4&&(mn=4,yn=1),Nt=!0,Qr(N.iKey,N.latency,mn,yn)&&(Nt=!ba(N,me))}Nt&&tt(pn,[N],x.h.QueueFull)}o(lr,"_addEventToQueues"),an.setEventQueueLimits=function(N,me){Zn=N>0?N:1e4,Pn=me>0?me:0,Y();var $e=Ln>N;if(!$e&&Cn>0)for(var Be=1;!$e&&Be<=3;Be++){var kt=ln[Be];kt&&kt.batches&&(0,h.tO)(kt.batches,function(Nt){Nt&&Nt.count()>=Cn&&($e=!0)})}ea(!0,$e)},an.pause=function(){fr(),tn=!0,Jt.pause()},an.resume=function(){tn=!1,Jt.resume(),qn()},an.addResponseHandler=function(N){Jt._responseHandlers.push(N)},an._loadTransmitProfiles=function(N){dr(),(0,h.rW)(N,function(me,$e){var Be=$e.length;if(Be>=2){var kt=Be>2?$e[2]:0;if($e.splice(0,Be-2),$e[1]<0&&($e[0]=-1),$e[1]>0&&$e[0]>0){var Nt=$e[0]/$e[1];$e[0]=Math.ceil(Nt)*$e[1]}kt>=0&&$e[1]>=0&&kt>$e[1]&&(kt=$e[1]),$e.push(kt),bn[me]=$e}})},an.flush=function(N,me,$e){if(N===void 0&&(N=!0),!tn)if($e=$e||1,N)ht==null?(fr(),ta(1,0,$e),ht=Zr(function(){ht=null,jr(me,$e)},0)):Lt.push(me);else{var Be=fr();Sr(1,1,$e),me!=null&&me(),Be&&qn()}},an.setMsaAuthTicket=function(N){Jt.addHeader(Ie,N)},an.hasEvents=Gr,an._setTransmitProfile=function(N){Ge!==N&&bn[N]!==void 0&&(fr(),Ge=N,qn())};function Sr(N,me,$e){var Be=ta(N,me,$e);return Jt.sendQueuedRequests(me,$e),Be}o(Sr,"_sendEventsForLatencyAndAbove");function Gr(){return Ln>0}o(Gr,"_hasEvents");function qn(){if(Tn>=0&&ta(Tn,0,Hn)&&Jt.sendQueuedRequests(0,Hn),on>0&&!Pt&&!tn){var N=bn[Ge][2];N>=0&&(Pt=Zr(function(){Pt=null,Sr(4,0,1),qn()},N))}var me=bn[Ge][1];!Wt&&!ht&&me>=0&&!tn&&(Gr()?Wt=Zr(function(){Wt=null,Sr(Yt===0?3:1,0,1),Yt++,Yt%=2,qn()},me):Yt=0)}o(qn,"_scheduleTimer"),an._backOffTransmission=function(){pt<et&&(pt++,fr(),qn())},an._clearBackOff=function(){pt&&(pt=0,fr(),qn())};function oi(){qe=null,Ht=!1,Lt=[],ht=null,tn=!1,on=0,vn=500,Ln=0,Zn=1e4,bn={},Ge=R,Wt=null,Pt=null,pt=0,Yt=0,rn=null,ln={},Pn=void 0,Cn=0,Tn=-1,Hn=null,er=!0,hn=!1,Jn=je,Un=ut,tr=null,Wn=dt(),Jt=new ze(qt,Ot,Et,{requeue:we,send:jt,sent:Xt,drop:nn,rspFail:gn,oth:H},Wn),Pi(),si(),Y()}o(oi,"_initDefaults");function Zr(N,me){me===0&&pt&&(me=1);var $e=1e3;return pt&&($e=Kt(pt-1)),Wn.set(N,me*$e)}o(Zr,"_createTimer");function fr(){return Wt!==null?(Wn.clear(Wt),Wt=null,Yt=0,!0):!1}o(fr,"_clearScheduledTimer");function Wr(N,me){fr(),ht&&(Wn.clear(ht),ht=null),tn||Sr(1,N,me)}o(Wr,"_releaseAllQueues");function si(){ln[4]={batches:[],iKeyMap:{}},ln[3]={batches:[],iKeyMap:{}},ln[2]={batches:[],iKeyMap:{}},ln[1]={batches:[],iKeyMap:{}}}o(si,"_clearQueues");function xa(N,me,$e){var Be=ln[me];Be||(me=1,Be=ln[me]);var kt=Be.iKeyMap[N];return!kt&&$e&&(kt=ve.create(N),Be.batches.push(kt),Be.iKeyMap[N]=kt),kt}o(xa,"_getEventBatch");function ea(N,me){Jt.canSendRequest()&&!pt&&(Pn>0&&Ln>Pn&&(me=!0),me&&ht==null&&an.flush(N,null,20))}o(ea,"_performAutoFlush");function ba(N,me){er&&(N=(0,h.Ax)(N));var $e=N.latency,Be=xa(N.iKey,$e,!0);return Be.addEvent(N)?($e!==4?(Ln++,me&&N.sendAttempt===0&&ea(!N.sync,Cn>0&&Be.count()>=Cn)):on++,!0):!1}o(ba,"_addEventToProperQueue");function Qr(N,me,$e,Be){for(;$e<=me;){var kt=xa(N,me,!0);if(kt&&kt.count()>0){var Nt=kt.split(0,Be),mn=Nt.count();if(mn>0)return $e===4?on-=mn:Ln-=mn,ot(pn,[Nt],x.h.QueueFull),!0}$e++}return ki(),!1}o(Qr,"_dropEventWithLatencyOrLess");function ki(){for(var N=0,me=0,$e=o(function(kt){var Nt=ln[kt];Nt&&Nt.batches&&(0,h.tO)(Nt.batches,function(mn){kt===4?N+=mn.count():me+=mn.count()})},"_loop_1"),Be=1;Be<=4;Be++)$e(Be);Ln=me,on=N}o(ki,"_resetQueueCounts");function ta(N,me,$e){var Be=!1,kt=me===0;return!kt||Jt.canSendRequest()?(0,w.Lm)(an.core,function(){return"PostChannel._queueBatches"},function(){for(var Nt=[],mn=4;mn>=N;){var yn=ln[mn];yn&&yn.batches&&yn.batches.length>0&&((0,h.tO)(yn.batches,function($n){Jt.addBatch($n)?Be=Be||$n&&$n.count()>0:Nt=Nt.concat($n.events()),mn===4?on-=$n.count():Ln-=$n.count()}),yn.batches=[],yn.iKeyMap={}),mn--}Nt.length>0&&tt(pn,Nt,x.h.KillSwitch),Be&&Tn>=N&&(Tn=-1,Hn=0)},function(){return{latency:N,sendType:me,sendReason:$e}},!kt):(Tn=Tn>=0?Math.min(Tn,N):N,Hn=Math.max(Hn,$e)),Be}o(ta,"_queueBatches");function jr(N,me){Sr(1,0,me),ki(),Xr(function(){N&&N(),Lt.length>0?ht=Zr(function(){ht=null,jr(Lt.shift(),me)},0):(ht=null,qn())})}o(jr,"_flushImpl");function Xr(N){Jt.isCompletelyIdle()?N():ht=Zr(function(){ht=null,Xr(N)},It)}o(Xr,"_waitForIdleManager");function dr(){fr(),Pi(),Ge=R,qn()}o(dr,"_resetTransmitProfiles");function Pi(){bn={},bn[R]=[2,1,0],bn[T]=[6,3,0],bn[B]=[18,9,0]}o(Pi,"_initializeProfiles");function we(N,me){var $e=[],Be=Jn;hn&&(Be=Un),(0,h.tO)(N,function(kt){kt&&kt.count()>0&&(0,h.tO)(kt.events(),function(Nt){Nt&&(Nt.sync&&(Nt.latency=4,Nt.sync=!1),Nt.sendAttempt<Be?((0,A.if)(Nt,an.identifier),lr(Nt,!1)):$e.push(Nt))})}),$e.length>0&&tt(pn,$e,x.h.NonRetryableStatus),hn&&Wr(2,2)}o(we,"_requeueEvents");function Qe(N,me){var $e=an._notificationManager||{},Be=$e[N];if(Be)try{Be.apply($e,me)}catch(kt){(0,v.kP)(an.diagLog(),1,74,N+" notification failed: "+kt)}}o(Qe,"_callNotification");function tt(N,me){for(var $e=[],Be=2;Be<arguments.length;Be++)$e[Be-2]=arguments[Be];me&&me.length>0&&Qe(N,[me].concat($e))}o(tt,"_notifyEvents");function ot(N,me){for(var $e=[],Be=2;Be<arguments.length;Be++)$e[Be-2]=arguments[Be];me&&me.length>0&&(0,h.tO)(me,function(kt){kt&&kt.count()>0&&Qe(N,[kt.events()].concat($e))})}o(ot,"_notifyBatchEvents");function jt(N,me,$e){N&&N.length>0&&Qe("eventsSendRequest",[me>=1e3&&me<=1999?me-1e3:0,$e!==!0])}o(jt,"_sendingEvent");function Xt(N,me){ot("eventsSent",N,me),qn()}o(Xt,"_eventsSentEvent");function nn(N,me){ot(pn,N,me>=8e3&&me<=8999?me-8e3:x.h.Unknown)}o(nn,"_eventsDropped");function gn(N){ot(pn,N,x.h.NonRetryableStatus),qn()}o(gn,"_eventsResponseFail");function H(N,me){ot(pn,N,x.h.Unknown),qn()}o(H,"_otherEvent");function Y(){!qe||!qe.disableAutoBatchFlushLimit?Cn=Math.max(qt*(Ot+1),Zn/6):Cn=0}o(Y,"_setAutoLimits"),(0,h.l_)(an,"_setTimeoutOverride",function(){return Wn.set},function(N){Wn=dt(N,Wn.clear)}),(0,h.l_)(an,"_clearTimeoutOverride",function(){return Wn.clear},function(N){Wn=dt(Wn.set,N)})}),ft}return o(Mt,"PostChannel"),Mt}(I.i);const De=$t},4873:(ae,S,d)=>{"use strict";d.d(S,{By:()=>E});var b=d(6708);function E(W){var A={};return(0,b.rW)(W,function(h,_){A[h]=_,A[_]=h}),(0,b._A)(A)}o(E,"createEnumStyle");function w(W){var A={};return objForEachKey(W,function(h,_){A[h]=h,A[_]=h}),deepFreeze(A)}o(w,"createEnumMap");function F(W){var A={};return objForEachKey(W,function(h,_){A[h]=_[1],A[_[0]]=_[1]}),deepFreeze(A)}o(F,"createValueMap")},5928:(ae,S,d)=>{"use strict";d.d(S,{h:()=>E});var b=d(4873),E=(0,b.By)({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5})},4063:(ae,S,d)=>{"use strict";d.d(S,{i:()=>_});var b=d(1679),E=d(1589),w=d(6708),F=d(3171),W=d(310),A=d(6041),h="getPlugin",_=function(){function x(){var v=this,I,R,T,B,Z;$(),(0,b.Z)(x,v,function(O){O.initialize=function(D,P,L,X){M(D,P,X),I=!0},O.teardown=function(D,P){var L=O.core;if(!L||D&&L!==D.core())return;var X,K=!1,ne=D||(0,E.Bt)(null,L,T&&T[h]?T[h]():T),de=P||{reason:0,isAsync:!1};function ge(){K||(K=!0,B.run(ne,P),(0,w.tO)(Z,function(ie){ie.rm()}),Z=[],X===!0&&ne.processNext(de),$())}return o(ge,"_unloadCallback"),!O[A.Ho]||O[A.Ho](ne,de,ge)!==!0?ge():X=!0,X},O.update=function(D,P){var L=O.core;if(!L||D&&L!==D.core())return;var X,K=!1,ne=D||(0,E.xy)(null,L,T&&T[h]?T[h]():T),de=P||{reason:0};function ge(){K||(K=!0,M(ne.getCfg(),ne.core(),ne.getNext()))}return o(ge,"_updateCallback"),!O._doUpdate||O._doUpdate(ne,de,ge)!==!0?ge():X=!0,X},O._addHook=function(D){D&&((0,w.kJ)(D)?Z=Z.concat(D):Z.push(D))},(0,w.Oi)(O,"_addUnloadCb",function(){return B},"add")}),v.diagLog=function(O){return te(O).diagLog()},v[A.Vr]=function(){return I},v.setInitialized=function(O){I=O},v[A.El]=function(O){T=O},v.processNext=function(O,D){D?D.processNext(O):T&&(0,w.mf)(T.processTelemetry)&&T.processTelemetry(O,null)},v._getTelCtx=te;function te(O){O===void 0&&(O=null);var D=O;if(!D){var P=R||(0,E.CD)(null,{},v.core);T&&T[h]?D=P.createNew(null,T[h]):D=P.createNew(null,T)}return D}o(te,"_getTelCtx");function M(O,D,P){O&&(0,w.sO)(O,F.F,[],null,w.le),!P&&D&&(P=D.getProcessTelContext().getNext());var L=T;T&&T[h]&&(L=T[h]()),v.core=D,R=(0,E.CD)(P,O,D,L)}o(M,"_setDefaults");function $(){I=!1,v.core=null,R=null,T=null,Z=[],B=(0,W.Y)()}o($,"_initDefaults")}return o(x,"BaseTelemetryPlugin"),x}()},3171:(ae,S,d)=>{"use strict";d.d(S,{z:()=>b,F:()=>E});var b="iKey",E="extensionConfig"},3242:(ae,S,d)=>{"use strict";d.d(S,{kj:()=>O,JP:()=>L,Nz:()=>X,p7:()=>K,UY:()=>U});var b=d(7630),E=d(6708),w=d(6041),F=d(5018),W="toGMTString",A="toUTCString",h="cookie",_="expires",x="enabled",v="isCookieUseDisabled",I="disableCookiesUsage",R="_ckMgr",T=null,B=null,Z=null,te=(0,b.Me)(),M={},$={};function O(he,oe){var pe=X[R]||$[R];return pe||(pe=X[R]=X(he,oe),$[R]=pe),pe}o(O,"_gblCookieMgr");function D(he){return he?he.isEnabled():!0}o(D,"_isMgrEnabled");function P(he){var oe=he.cookieCfg=he.cookieCfg||{};if((0,E.sO)(oe,"domain",he.cookieDomain,E.BX,E.le),(0,E.sO)(oe,"path",he.cookiePath||"/",null,E.le),(0,E.le)(oe[x])){var pe=void 0;(0,E.o8)(he[v])||(pe=!he[v]),(0,E.o8)(he[I])||(pe=!he[I]),oe[x]=pe}return oe}o(P,"_createCookieMgrConfig");function L(he,oe){var pe;if(he)pe=he.getCookieMgr();else if(oe){var Ee=oe.cookieCfg;Ee[R]?pe=Ee[R]:pe=X(oe)}return pe||(pe=O(oe,(he||{}).logger)),pe}o(L,"safeGetCookieMgr");function X(he,oe){var pe=P(he||$),Ee=pe.path||"/",Ie=pe.domain,mt=pe[x]!==!1,Ye={isEnabled:function(){var q=mt&&K(oe),Te=$[R];return q&&Te&&Ye!==Te&&(q=D(Te)),q},setEnabled:function(q){mt=q!==!1},set:function(q,Te,Re,nt,ve){var ee=!1;if(D(Ye)){var ye={},Ce=(0,E.nd)(Te||w.SM),ce=Ce.indexOf(";");if(ce!==-1&&(Ce=(0,E.nd)(Te.substring(0,ce)),ye=ne(Te.substring(ce+1))),(0,E.sO)(ye,"domain",nt||Ie,E.fQ,E.o8),!(0,E.le)(Re)){var Fe=(0,b.w1)();if((0,E.o8)(ye[_])){var Ae=(0,E.m6)(),He=Ae+Re*1e3;if(He>0){var rt=new Date;rt.setTime(He),(0,E.sO)(ye,_,de(rt,Fe?W:A)||de(rt,Fe?W:A)||w.SM,E.fQ)}}Fe||(0,E.sO)(ye,"max-age",w.SM+Re,null,E.o8)}var Ct=(0,b.k$)();Ct&&Ct.protocol==="https:"&&((0,E.sO)(ye,"secure",null,null,E.o8),B===null&&(B=!U(((0,b.jW)()||{}).userAgent)),B&&(0,E.sO)(ye,"SameSite","None",null,E.o8)),(0,E.sO)(ye,"path",ve||Ee,null,E.o8);var Rt=pe.setCookie||xe;Rt(q,ge(Ce,ye)),ee=!0}return ee},get:function(q){var Te=w.SM;return D(Ye)&&(Te=(pe.getCookie||ie)(q)),Te},del:function(q,Te){var Re=!1;return D(Ye)&&(Re=Ye.purge(q,Te)),Re},purge:function(q,Te){var Re,nt=!1;if(K(oe)){var ve=(Re={},Re.path=Te||"/",Re[_]="Thu, 01 Jan 1970 00:00:01 GMT",Re);(0,b.w1)()||(ve["max-age"]="0");var ee=pe.delCookie||xe;ee(q,ge(w.SM,ve)),nt=!0}return nt}};return Ye[R]=Ye,Ye}o(X,"createCookieMgr");function K(he){if(T===null){T=!1;try{var oe=te||{};T=oe[h]!==void 0}catch(pe){(0,F.kP)(he,2,68,"Cannot access document.cookie - "+(0,E.jj)(pe),{exception:(0,b.eU)(pe)})}}return T}o(K,"areCookiesSupported");function ne(he){var oe={};if(he&&he.length){var pe=(0,E.nd)(he).split(";");(0,E.tO)(pe,function(Ee){if(Ee=(0,E.nd)(Ee||w.SM),Ee){var Ie=Ee.indexOf("=");Ie===-1?oe[Ee]=null:oe[(0,E.nd)(Ee.substring(0,Ie))]=(0,E.nd)(Ee.substring(Ie+1))}})}return oe}o(ne,"_extractParts");function de(he,oe){return(0,E.mf)(he[oe])?he[oe]():null}o(de,"_formatDate");function ge(he,oe){var pe=he||w.SM;return(0,E.rW)(oe,function(Ee,Ie){pe+="; "+Ee+((0,E.le)(Ie)?w.SM:"="+Ie)}),pe}o(ge,"_formatCookieValue");function ie(he){var oe=w.SM;if(te){var pe=te[h]||w.SM;Z!==pe&&(M=ne(pe),Z=pe),oe=(0,E.nd)(M[he]||w.SM)}return oe}o(ie,"_getCookieValue");function xe(he,oe){te&&(te[h]=he+"="+oe)}o(xe,"_setCookieValue");function U(he){return(0,E.HD)(he)?!!((0,E._Q)(he,"CPU iPhone OS 12")||(0,E._Q)(he,"iPad; CPU OS 12")||(0,E._Q)(he,"Macintosh; Intel Mac OS X 10_14")&&(0,E._Q)(he,"Version/")&&(0,E._Q)(he,"Safari")||(0,E._Q)(he,"Macintosh; Intel Mac OS X 10_14")&&(0,E.Id)(he,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||(0,E._Q)(he,"Chrome/5")||(0,E._Q)(he,"Chrome/6")||(0,E._Q)(he,"UnrealEngine")&&!(0,E._Q)(he,"Chrome")||(0,E._Q)(he,"UCBrowser/12")||(0,E._Q)(he,"UCBrowser/11")):!1}o(U,"uaDisallowsSameSiteNone")},5843:(ae,S,d)=>{"use strict";d.d(S,{GW:()=>I,Jj:()=>R,DO:()=>B,zB:()=>M});var b=d(2091),E=d(3242),w=d(7630),F=d(6708),W=d(4869),A=d(4878),h=d(6041),_=null,x,v=null;function I(){function K(){return(0,A.az)(15)}return o(K,"randomHexDigit"),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(te,function(ne){var de=K()|0,ge=ne==="x"?de:de&3|8;return ge.toString(16)})}o(I,"newGuid");function R(){var K=(0,w.r)();return K&&K.now?K.now():(0,F.m6)()}o(R,"perfNow");function T(K,ne){if(K&&ne){var de=K.length,ge=de-ne.length;return K.substring(ge>=0?ge:0,de)===ne}return!1}o(T,"strEndsWith");function B(){for(var K=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],ne=h.SM,de,ge=0;ge<4;ge++)de=(0,A._l)(),ne+=K[de&15]+K[de>>4&15]+K[de>>8&15]+K[de>>12&15]+K[de>>16&15]+K[de>>20&15]+K[de>>24&15]+K[de>>28&15];var ie=K[8+((0,A._l)()&3)|0];return ne.substr(0,8)+ne.substr(9,4)+"4"+ne.substr(13,3)+ie+ne.substr(16,3)+ne.substr(19,12)}o(B,"generateW3CId");var Z={_canUseCookies:void 0,isTypeof:F.Ym,isUndefined:F.o8,isNullOrUndefined:F.le,hasOwnProperty:F.nr,isFunction:F.mf,isObject:F.Kn,isDate:F.J_,isArray:F.kJ,isError:F.VZ,isString:F.HD,isNumber:F.hj,isBoolean:F.jn,toISOString:F.Y6,arrForEach:F.tO,arrIndexOf:F.UA,arrMap:F.Mr,arrReduce:F.Xz,strTrim:F.nd,objCreate:b.pu,objKeys:F.FY,objDefineAccessors:F.l_,addEventHandler:W.Ib,dateNow:F.m6,isIE:w.w1,disableCookies:O,newGuid:I,perfNow:R,newId:A.pZ,randomValue:A.az,random32:A._l,mwcRandomSeed:A.CN,mwcRandom32:A.F6,generateW3CId:B},te=/[xy]/g,M={Attach:W.pZ,AttachEvent:W.pZ,Detach:W.pD,DetachEvent:W.pD};function $(K,ne){var de=(0,E.kj)(K,ne),ge=Z._canUseCookies;return _===null&&(_=[],x=ge,(0,F.l_)(Z,"_canUseCookies",function(){return x},function(ie){x=ie,(0,F.tO)(_,function(xe){xe.setEnabled(ie)})})),(0,F.UA)(_,de)===-1&&_.push(de),(0,F.jn)(ge)&&de.setEnabled(ge),(0,F.jn)(x)&&de.setEnabled(x),de}o($,"_legacyCookieMgr");function O(){$().setEnabled(!1)}o(O,"disableCookies");function D(K){return $(null,K).isEnabled()}o(D,"canUseCookies");function P(K,ne){return $(null,K).get(ne)}o(P,"getCookie");function L(K,ne,de,ge){$(null,K).set(ne,de,null,ge)}o(L,"setCookie");function X(K,ne){return $(null,K).del(ne)}o(X,"deleteCookie")},5883:(ae,S,d)=>{"use strict";d.d(S,{J:()=>I,K:()=>R});var b=d(4392),E=d(6708),w=d(4878),F=b.RJ,W="2.8.4",A="."+(0,w.pZ)(6),h=0;function _(T,B,Z){if(F)try{return F(T,B,{value:Z,enumerable:!1,configurable:!0}),!0}catch(te){}return!1}o(_,"_createAccessor");function x(T){return T.nodeType===1||T.nodeType===9||!+T.nodeType}o(x,"_canAcceptData");function v(T,B){var Z=B[T.id];if(!Z){Z={};try{x(B)&&(_(B,T.id,Z)||(B[T.id]=Z))}catch(te){}}return Z}o(v,"_getCache");function I(T,B){return B===void 0&&(B=!1),(0,E.Gf)(T+h+++(B?"."+W:"")+A)}o(I,"createUniqueNamespace");function R(T){var B={id:I("_aiData-"+(T||"")+"."+W),accept:function(Z){return x(Z)},get:function(Z,te,M,$){var O=Z[B.id];return O?O[(0,E.Gf)(te)]:($&&(O=v(B,Z),O[(0,E.Gf)(te)]=M),M)},kill:function(Z,te){if(Z&&Z[te])try{delete Z[te]}catch(M){}}};return B}o(R,"createElmNodeData")},7158:(ae,S,d)=>{"use strict";d.d(S,{j:()=>h,p:()=>_});var b=d(7630),E=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],w=null,F;function W(x,v){return function(){var I=arguments,R=h(v);if(R){var T=R.listener;T&&T[x]&&T[x].apply(T,I)}}}o(W,"_listenerProxyFunc");function A(){var x=(0,b.a8)("Microsoft");return x&&(w=x.ApplicationInsights),w}o(A,"_getExtensionNamespace");function h(x){var v=w;return!v&&x.disableDbgExt!==!0&&(v=w||A()),v?v.ChromeDbgExt:null}o(h,"getDebugExt");function _(x){if(!F){F={};for(var v=0;v<E.length;v++)F[E[v]]=W(E[v],x)}return F}o(_,"getDebugListener")},5018:(ae,S,d)=>{"use strict";d.d(S,{lQ:()=>T,vH:()=>B,AQ:()=>Z,kP:()=>M,jV:()=>$});var b=d(7630),E=d(1679),w=d(6708),F=d(7158),W=d(6041),A="AI (Internal): ",h="AI: ",_="AITR_",x="errorToConsole",v="warnToConsole";function I(D){return D?'"'+D.replace(/\"/g,W.SM)+'"':W.SM}o(I,"_sanitizeDiagnosticText");function R(D,P){var L=(0,b.dr)();if(L){var X="log";L[D]&&(X=D),(0,w.mf)(L[X])&&L[X](P)}}o(R,"_logToConsole");var T=function(){function D(P,L,X,K){X===void 0&&(X=!1);var ne=this;ne.messageId=P,ne.message=(X?h:A)+P;var de=W.SM;(0,b.nS)()&&(de=(0,b.xA)().stringify(K));var ge=(L?" message:"+I(L):W.SM)+(K?" props:"+I(de):W.SM);ne.message+=ge}return o(D,"_InternalLogMessage"),D.dataType="MessageData",D}();function B(D,P){return(D||{}).logger||new Z(P)}o(B,"safeGetLogger");var Z=function(){function D(P){this.identifier="DiagnosticLogger",this.queue=[];var L=0,X={};(0,E.Z)(D,this,function(K){(0,w.le)(P)&&(P={}),K.consoleLoggingLevel=function(){return ne("loggingLevelConsole",0)},K.telemetryLoggingLevel=function(){return ne("loggingLevelTelemetry",1)},K.maxInternalMessageLimit=function(){return ne("maxMessageLimit",25)},K.enableDebugExceptions=function(){return ne("enableDebugExceptions",!1)},K.throwInternal=function(ie,xe,U,he,oe){oe===void 0&&(oe=!1);var pe=new T(xe,U,oe,he);if(K.enableDebugExceptions())throw(0,b.eU)(pe);var Ee=ie===1?x:v;if((0,w.o8)(pe.message))ge("throw"+(ie===1?"Critical":"Warning"),pe);else{var Ie=K.consoleLoggingLevel();if(oe){var mt=+pe.messageId;!X[mt]&&Ie>=ie&&(K[Ee](pe.message),X[mt]=!0)}else Ie>=ie&&K[Ee](pe.message);K.logInternalMessage(ie,pe)}},K.warnToConsole=function(ie){R("warn",ie),ge("warning",ie)},K.errorToConsole=function(ie){R("error",ie),ge("error",ie)},K.resetInternalMessageCount=function(){L=0,X={}},K.logInternalMessage=function(ie,xe){if(!de()){var U=!0,he=_+xe.messageId;if(X[he]?U=!1:X[he]=!0,U&&(ie<=K.telemetryLoggingLevel()&&(K.queue.push(xe),L++,ge(ie===1?"error":"warn",xe)),L===K.maxInternalMessageLimit())){var oe="Internal events throttle limit per PageView reached for this app.",pe=new T(23,oe,!1);K.queue.push(pe),ie===1?K.errorToConsole(oe):K.warnToConsole(oe)}}};function ne(ie,xe){var U=P[ie];return(0,w.le)(U)?xe:U}o(ne,"_getConfigValue");function de(){return L>=K.maxInternalMessageLimit()}o(de,"_areInternalMessagesThrottled");function ge(ie,xe){var U=(0,F.j)(P);U&&U.diagLog&&U.diagLog(ie,xe)}o(ge,"_debugExtMsg")})}return o(D,"DiagnosticLogger"),D}();function te(D){return D||new Z}o(te,"_getLogger");function M(D,P,L,X,K,ne){ne===void 0&&(ne=!1),(D||new Z).throwInternal(P,L,X,K,ne)}o(M,"_throwInternal");function $(D,P){te(D).warnToConsole(P)}o($,"_warnToConsole");function O(D,P,L){te(D).logInternalMessage(P,L)}o(O,"_logInternalMessage")},7630:(ae,S,d)=>{"use strict";d.d(S,{dI:()=>de,a8:()=>ge,Ym:()=>ie,Jj:()=>xe,Nv:()=>U,Me:()=>he,d6:()=>oe,jW:()=>pe,fE:()=>Ee,s1:()=>Ie,k$:()=>mt,dr:()=>Ye,r:()=>q,nS:()=>Te,xA:()=>Re,MX:()=>nt,gz:()=>ve,b$:()=>ee,w1:()=>ye,sA:()=>Ce,eU:()=>ce,MF:()=>Ae,JO:()=>He,cp:()=>rt,Z3:()=>Ct,ed:()=>at,pI:()=>Ut});var b=d(4392),E=d(2091),w=d(6041),F=d(6708),W="window",A="document",h="documentMode",_="navigator",x="history",v="location",I="console",R="performance",T="JSON",B="crypto",Z="msCrypto",te="ReactNative",M="msie",$="trident/",O="XMLHttpRequest",D=null,P=null,L=!1,X=null,K=null;function ne(Tt,ke){var bt=!1;if(Tt){try{if(bt=ke in Tt,!bt){var se=Tt[b.hB];se&&(bt=ke in se)}}catch(cn){}if(!bt)try{var Kt=new Tt;bt=!(0,F.o8)(Kt[ke])}catch(cn){}}return bt}o(ne,"_hasProperty");function de(Tt){L=Tt}o(de,"setEnableEnvMocks");function ge(Tt){var ke=(0,E.Rd)();return ke&&ke[Tt]?ke[Tt]:Tt===W&&ie()?window:null}o(ge,"getGlobalInst");function ie(){return Boolean(typeof window===b.fK&&window)}o(ie,"hasWindow");function xe(){return ie()?window:ge(W)}o(xe,"getWindow");function U(){return Boolean(typeof document===b.fK&&document)}o(U,"hasDocument");function he(){return U()?document:ge(A)}o(he,"getDocument");function oe(){return Boolean(typeof navigator===b.fK&&navigator)}o(oe,"hasNavigator");function pe(){return oe()?navigator:ge(_)}o(pe,"getNavigator");function Ee(){return Boolean(typeof history===b.fK&&history)}o(Ee,"hasHistory");function Ie(){return Ee()?history:ge(x)}o(Ie,"getHistory");function mt(Tt){if(Tt&&L){var ke=ge("__mockLocation");if(ke)return ke}return typeof location===b.fK&&location?location:ge(v)}o(mt,"getLocation");function Ye(){return typeof console!==b.jA?console:ge(I)}o(Ye,"getConsole");function q(){return ge(R)}o(q,"getPerformance");function Te(){return Boolean(typeof JSON===b.fK&&JSON||ge(T)!==null)}o(Te,"hasJSON");function Re(){return Te()?JSON||ge(T):null}o(Re,"getJSON");function nt(){return ge(B)}o(nt,"getCrypto");function ve(){return ge(Z)}o(ve,"getMsCrypto");function ee(){var Tt=pe();return Tt&&Tt.product?Tt.product===te:!1}o(ee,"isReactNative");function ye(){var Tt=pe();if(Tt&&(Tt.userAgent!==P||D===null)){P=Tt.userAgent;var ke=(P||w.SM).toLowerCase();D=(0,F._Q)(ke,M)||(0,F._Q)(ke,$)}return D}o(ye,"isIE");function Ce(Tt){if(Tt===void 0&&(Tt=null),!Tt){var ke=pe()||{};Tt=ke?(ke.userAgent||w.SM).toLowerCase():w.SM}var bt=(Tt||w.SM).toLowerCase();if((0,F._Q)(bt,M)){var se=he()||{};return Math.max(parseInt(bt.split(M)[1]),se[h]||0)}else if((0,F._Q)(bt,$)){var Kt=parseInt(bt.split($)[1]);if(Kt)return Kt+4}return null}o(Ce,"getIEVersion");function ce(Tt){var ke=Object[b.hB].toString.call(Tt),bt=w.SM;return ke==="[object Error]"?bt="{ stack: '"+Tt.stack+"', message: '"+Tt.message+"', name: '"+Tt.name+"'":Te()&&(bt=Re().stringify(Tt)),ke+bt}o(ce,"dumpObj");function Fe(Tt){if(!Tt||!isString(Tt)){var ke=pe()||{};Tt=ke?(ke.userAgent||strEmpty).toLowerCase():strEmpty}var bt=(Tt||strEmpty).toLowerCase();return bt.indexOf("safari")>=0}o(Fe,"isSafari");function Ae(){return K===null&&(K=oe()&&Boolean(pe().sendBeacon)),K}o(Ae,"isBeaconsSupported");function He(Tt){var ke=!1;try{ke=!!ge("fetch");var bt=ge("Request");ke&&Tt&&bt&&(ke=ne(bt,"keepalive"))}catch(se){}return ke}o(He,"isFetchSupported");function rt(){return X===null&&(X=typeof XDomainRequest!==b.jA,X&&Ct()&&(X=X&&!ne(ge(O),"withCredentials"))),X}o(rt,"useXDomainRequest");function Ct(){var Tt=!1;try{var ke=ge(O);Tt=!!ke}catch(bt){}return Tt}o(Ct,"isXhrSupported");function Rt(Tt,ke){if(Tt)for(var bt=0;bt<Tt.length;bt++){var se=Tt[bt];if(se.name&&se.name===ke)return se}return{}}o(Rt,"_getNamedValue");function at(Tt){var ke=he();return ke&&Tt?Rt(ke.querySelectorAll("meta"),Tt).content:null}o(at,"findMetaTag");function Ut(Tt){var ke,bt=q();if(bt){var se=bt.getEntriesByType("navigation")||[];ke=Rt((se.length>0?se[0]:{}).serverTiming,Tt).description}return ke}o(Ut,"findNamedServerTiming")},4869:(ae,S,d)=>{"use strict";d.d(S,{um:()=>K,jU:()=>U,XO:()=>he,QY:()=>oe,pZ:()=>pe,pD:()=>Ee,Ib:()=>Ie,C1:()=>mt,yw:()=>q,nJ:()=>Te,c9:()=>Re,JA:()=>nt,TJ:()=>ve,C9:()=>ee,nD:()=>ye,Yl:()=>Ce});var b=d(5883),E=d(7630),w=d(6708),F="on",W="attachEvent",A="addEventListener",h="detachEvent",_="removeEventListener",x="events",v="visibilitychange",I="pagehide",R="pageshow",T="unload",B="beforeunload",Z=(0,b.J)("aiEvtPageHide"),te=(0,b.J)("aiEvtPageShow"),M=/\.[\.]+/g,$=/[\.]+$/,O=1,D=(0,b.K)("events"),P=/^([^.]*)(?:\.(.+)|)/;function L(ce){return ce&&ce.replace?ce.replace(/^\s*\.*|\.*\s*$/g,""):ce}o(L,"_normalizeNamespace");function X(ce,Fe){if(Fe){var Ae="";(0,w.kJ)(Fe)?(Ae="",(0,w.tO)(Fe,function(rt){rt=L(rt),rt&&(rt[0]!=="."&&(rt="."+rt),Ae+=rt)})):Ae=L(Fe),Ae&&(Ae[0]!=="."&&(Ae="."+Ae),ce=(ce||"")+Ae)}var He=P.exec(ce||"")||[];return{type:He[1],ns:(He[2]||"").replace(M,".").replace($,"").split(".").sort().join(".")}}o(X,"_getEvtNamespace");function K(ce,Fe,Ae){var He=[],rt=D.get(ce,x,{},!1),Ct=X(Fe,Ae);return(0,w.rW)(rt,function(Rt,at){(0,w.tO)(at,function(Ut){(!Ct.type||Ct.type===Ut.evtName.type)&&(!Ct.ns||Ct.ns===Ct.ns)&&He.push({name:Ut.evtName.type+(Ut.evtName.ns?"."+Ut.evtName.ns:""),handler:Ut.handler})})}),He}o(K,"__getRegisteredEvents");function ne(ce,Fe,Ae){Ae===void 0&&(Ae=!0);var He=D.get(ce,x,{},Ae),rt=He[Fe];return rt||(rt=He[Fe]=[]),rt}o(ne,"_getRegisteredEvents");function de(ce,Fe,Ae,He){ce&&Fe&&Fe.type&&(ce[_]?ce[_](Fe.type,Ae,He):ce[h]&&ce[h](F+Fe.type,Ae))}o(de,"_doDetach");function ge(ce,Fe,Ae,He){var rt=!1;return ce&&Fe&&Fe.type&&Ae&&(ce[A]?(ce[A](Fe.type,Ae,He),rt=!0):ce[W]&&(ce[W](F+Fe.type,Ae),rt=!0)),rt}o(ge,"_doAttach");function ie(ce,Fe,Ae,He){for(var rt=Fe.length;rt--;){var Ct=Fe[rt];Ct&&(!Ae.ns||Ae.ns===Ct.evtName.ns)&&(!He||He(Ct))&&(de(ce,Ct.evtName,Ct.handler,Ct.capture),Fe.splice(rt,1))}}o(ie,"_doUnregister");function xe(ce,Fe,Ae){if(Fe.type)ie(ce,ne(ce,Fe.type),Fe,Ae);else{var He=D.get(ce,x,{});(0,w.rW)(He,function(rt,Ct){ie(ce,Ct,Fe,Ae)}),(0,w.FY)(He).length===0&&D.kill(ce,x)}}o(xe,"_unregisterEvents");function U(ce,Fe){var Ae;return Fe?((0,w.kJ)(Fe)?Ae=[ce].concat(Fe):Ae=[ce,Fe],Ae=X("xx",Ae).ns.split(".")):Ae=ce,Ae}o(U,"mergeEvtNamespace");function he(ce,Fe,Ae,He,rt){rt===void 0&&(rt=!1);var Ct=!1;if(ce)try{var Rt=X(Fe,He);if(Ct=ge(ce,Rt,Ae,rt),Ct&&D.accept(ce)){var at={guid:O++,evtName:Rt,handler:Ae,capture:rt};ne(ce,Rt.type).push(at)}}catch(Ut){}return Ct}o(he,"eventOn");function oe(ce,Fe,Ae,He,rt){if(rt===void 0&&(rt=!1),ce)try{var Ct=X(Fe,He),Rt=!1;xe(ce,Ct,function(at){return Ct.ns&&!Ae||at.handler===Ae?(Rt=!0,!0):!1}),Rt||de(ce,Ct,Ae,rt)}catch(at){}}o(oe,"eventOff");function pe(ce,Fe,Ae,He){return He===void 0&&(He=!1),he(ce,Fe,Ae,null,He)}o(pe,"attachEvent");function Ee(ce,Fe,Ae,He){He===void 0&&(He=!1),oe(ce,Fe,Ae,null,He)}o(Ee,"detachEvent");function Ie(ce,Fe,Ae){var He=!1,rt=(0,E.Jj)();rt&&(He=he(rt,ce,Fe,Ae),He=he(rt.body,ce,Fe,Ae)||He);var Ct=(0,E.Me)();return Ct&&(He=he(Ct,ce,Fe,Ae)||He),He}o(Ie,"addEventHandler");function mt(ce,Fe,Ae){var He=(0,E.Jj)();He&&(oe(He,ce,Fe,Ae),oe(He.body,ce,Fe,Ae));var rt=(0,E.Me)();rt&&oe(rt,ce,Fe,Ae)}o(mt,"removeEventHandler");function Ye(ce,Fe,Ae,He){var rt=!1;return Fe&&ce&&ce.length>0&&(0,w.tO)(ce,function(Ct){Ct&&(!Ae||(0,w.UA)(Ae,Ct)===-1)&&(rt=Ie(Ct,Fe,He)||rt)}),rt}o(Ye,"_addEventListeners");function q(ce,Fe,Ae,He){var rt=!1;return Fe&&ce&&(0,w.kJ)(ce)&&(rt=Ye(ce,Fe,Ae,He),!rt&&Ae&&Ae.length>0&&(rt=Ye(ce,Fe,null,He))),rt}o(q,"addEventListeners");function Te(ce,Fe,Ae){ce&&(0,w.kJ)(ce)&&(0,w.tO)(ce,function(He){He&&mt(He,Fe,Ae)})}o(Te,"removeEventListeners");function Re(ce,Fe,Ae){return q([B,T,I],ce,Fe,Ae)}o(Re,"addPageUnloadEventListener");function nt(ce,Fe){Te([B,T,I],ce,Fe)}o(nt,"removePageUnloadEventListener");function ve(ce,Fe,Ae){function He(Rt){var at=(0,E.Me)();ce&&at&&at.visibilityState==="hidden"&&ce(Rt)}o(He,"_handlePageVisibility");var rt=U(Z,Ae),Ct=Ye([I],ce,Fe,rt);return(!Fe||(0,w.UA)(Fe,v)===-1)&&(Ct=Ye([v],He,Fe,rt)||Ct),!Ct&&Fe&&(Ct=ve(ce,null,Ae)),Ct}o(ve,"addPageHideEventListener");function ee(ce,Fe){var Ae=U(Z,Fe);Te([I],ce,Ae),Te([v],null,Ae)}o(ee,"removePageHideEventListener");function ye(ce,Fe,Ae){function He(Rt){var at=(0,E.Me)();ce&&at&&at.visibilityState==="visible"&&ce(Rt)}o(He,"_handlePageVisibility");var rt=U(te,Ae),Ct=Ye([R],ce,Fe,rt);return Ct=Ye([v],He,Fe,rt)||Ct,!Ct&&Fe&&(Ct=ye(ce,null,Ae)),Ct}o(ye,"addPageShowEventListener");function Ce(ce,Fe){var Ae=U(te,Fe);Te([R],ce,Ae),Te([v],null,Ae)}o(Ce,"removePageShowEventListener")},6708:(ae,S,d)=>{"use strict";d.d(S,{Ym:()=>Ee,o8:()=>Ie,le:()=>Ye,BX:()=>q,nr:()=>Te,Kn:()=>Re,mf:()=>nt,Gf:()=>ee,rW:()=>ye,Id:()=>Ce,xe:()=>Fe,_Q:()=>He,J_:()=>rt,kJ:()=>Ct,VZ:()=>at,HD:()=>Ut,hj:()=>Tt,jn:()=>ke,Y6:()=>Kt,tO:()=>xn,UA:()=>Rn,Mr:()=>k,Xz:()=>g,nd:()=>p,FY:()=>_e,l_:()=>Me,_A:()=>sn,FL:()=>Ve,Xi:()=>Ke,m6:()=>Ne,jj:()=>ze,sO:()=>lt,qK:()=>gt,F:()=>dt,fQ:()=>It,_y:()=>qt,cf:()=>je,Oi:()=>ut,Vb:()=>et,Ax:()=>Et,mm:()=>pn});var b=d(4392),E=d(2091),w=d(6041),F="toISOString",W="endsWith",A="startsWith",h="indexOf",_="map",x="reduce",v="trim",I="toString",R="__proto__",T="constructor",B=b.RJ,Z=b.Pw.freeze,te=b.Pw.seal,M=b.Pw.keys,$=String[b.hB],O=$[v],D=$[W],P=$[A],L=Date[b.hB],X=L[F],K=Array.isArray,ne=b.V4[I],de=b.CY[I],ge=de.call(b.Pw),ie=/-([a-z])/g,xe=/([^\w\d_$])/g,U=/^(\d+[\w\d_$])/,he=Object.getPrototypeOf;function oe(J){if(J){if(he)return he(J);var Le=J[R]||J[b.hB]||J[T];if(Le)return Le}return null}o(oe,"_getObjProto");function pe(J){return ne.call(J)}o(pe,"objToString");function Ee(J,Le){return typeof J===Le}o(Ee,"isTypeof");function Ie(J){return J===void 0||typeof J===b.jA}o(Ie,"isUndefined");function mt(J){return!Ie(J)}o(mt,"isNotUndefined");function Ye(J){return J===null||Ie(J)}o(Ye,"isNullOrUndefined");function q(J){return!Ye(J)}o(q,"isNotNullOrUndefined");function Te(J,Le){return!!(J&&b.CY.call(J,Le))}o(Te,"hasOwnProperty");function Re(J){return!!(J&&typeof J===b.fK)}o(Re,"isObject");function nt(J){return!!(J&&typeof J===b.cb)}o(nt,"isFunction");function ve(J){return J&&nt(J.then)}o(ve,"isPromiseLike");function ee(J){var Le=J;return Le&&Ut(Le)&&(Le=Le.replace(ie,function(Ze,ct){return ct.toUpperCase()}),Le=Le.replace(xe,"_"),Le=Le.replace(U,function(Ze,ct){return"_"+ct})),Le}o(ee,"normalizeJsName");function ye(J,Le){if(J)for(var Ze in J)b.CY.call(J,Ze)&&Le.call(J,Ze,J[Ze])}o(ye,"objForEachKey");function Ce(J,Le){var Ze=!1;return J&&Le&&!(Ze=J===Le)&&(Ze=D?J[W](Le):ce(J,Le)),Ze}o(Ce,"strEndsWith");function ce(J,Le){var Ze=!1,ct=Le?Le.length:0,$t=J?J.length:0;if(ct&&$t&&$t>=ct&&!(Ze=J===Le)){for(var De=$t-1,wt=ct-1;wt>=0;wt--){if(J[De]!=Le[wt])return!1;De--}Ze=!0}return Ze}o(ce,"_strEndsWithPoly");function Fe(J,Le){var Ze=!1;return J&&Le&&!(Ze=J===Le)&&(Ze=P?J[A](Le):Ae(J,Le)),Ze}o(Fe,"strStartsWith");function Ae(J,Le){var Ze=!1,ct=Le?Le.length:0;if(J&&ct&&J.length>=ct&&!(Ze=J===Le)){for(var $t=0;$t<ct;$t++)if(J[$t]!==Le[$t])return!1;Ze=!0}return Ze}o(Ae,"_strStartsWithPoly");function He(J,Le){return J&&Le?J.indexOf(Le)!==-1:!1}o(He,"strContains");function rt(J){return!!(J&&ne.call(J)==="[object Date]")}o(rt,"isDate");var Ct=K||Rt;function Rt(J){return!!(J&&ne.call(J)==="[object Array]")}o(Rt,"_isArrayPoly");function at(J){return!!(J&&ne.call(J)==="[object Error]")}o(at,"isError");function Ut(J){return typeof J=="string"}o(Ut,"isString");function Tt(J){return typeof J=="number"}o(Tt,"isNumber");function ke(J){return typeof J=="boolean"}o(ke,"isBoolean");function bt(J){return typeof J=="symbol"}o(bt,"isSymbol");function se(J){var Le=!1;if(J&&typeof J=="object"){var Ze=he?he(J):oe(J);Ze?(Ze[T]&&b.CY.call(Ze,T)&&(Ze=Ze[T]),Le=typeof Ze===b.cb&&de.call(Ze)===ge):Le=!0}return Le}o(se,"isPlainObject");function Kt(J){if(J)return X?J[F]():cn(J)}o(Kt,"toISOString");function cn(J){if(J&&J.getUTCFullYear){var Le=o(function(Ze){var ct=String(Ze);return ct.length===1&&(ct="0"+ct),ct},"pad");return J.getUTCFullYear()+"-"+Le(J.getUTCMonth()+1)+"-"+Le(J.getUTCDate())+"T"+Le(J.getUTCHours())+":"+Le(J.getUTCMinutes())+":"+Le(J.getUTCSeconds())+"."+String((J.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}o(cn,"_toISOStringPoly");function xn(J,Le,Ze){var ct=J.length;try{for(var $t=0;$t<ct&&!($t in J&&Le.call(Ze||J,J[$t],$t,J)===-1);$t++);}catch(De){}}o(xn,"arrForEach");function Rn(J,Le,Ze){if(J){if(J[h])return J[h](Le,Ze);var ct=J.length,$t=Ze||0;try{for(var De=Math.max($t>=0?$t:ct-Math.abs($t),0);De<ct;De++)if(De in J&&J[De]===Le)return De}catch(wt){}}return-1}o(Rn,"arrIndexOf");function k(J,Le,Ze){var ct;if(J){if(J[_])return J[_](Le,Ze);var $t=J.length,De=Ze||J;ct=new Array($t);try{for(var wt=0;wt<$t;wt++)wt in J&&(ct[wt]=Le.call(De,J[wt],J))}catch(Mt){}}return ct}o(k,"arrMap");function g(J,Le,Ze){var ct;if(J){if(J[x])return J[x](Le,Ze);var $t=J.length,De=0;if(arguments.length>=3)ct=arguments[2];else{for(;De<$t&&!(De in J);)De++;ct=J[De++]}for(;De<$t;)De in J&&(ct=Le(ct,J[De],De,J)),De++}return ct}o(g,"arrReduce");function p(J){return J&&(J=O&&J[v]?J[v]():J.replace?J.replace(/^\s+|\s+$/g,""):J),J}o(p,"strTrim");var V=!{toString:null}.propertyIsEnumerable("toString"),ue=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function _e(J){var Le=typeof J;if(Le!==b.cb&&(Le!==b.fK||J===null)&&(0,E.ZU)("objKeys called on non-object"),!V&&M)return M(J);var Ze=[];for(var ct in J)J&&b.CY.call(J,ct)&&Ze.push(ct);if(V)for(var $t=ue.length,De=0;De<$t;De++)J&&b.CY.call(J,ue[De])&&Ze.push(ue[De]);return Ze}o(_e,"objKeys");function Me(J,Le,Ze,ct){if(B)try{var $t={enumerable:!0,configurable:!0};return Ze&&($t.get=Ze),ct&&($t.set=ct),B(J,Le,$t),!0}catch(De){}return!1}o(Me,"objDefineAccessors");function Qt(J){return J}o(Qt,"_doNothing");function sn(J){return Z&&ye(J,function(Le,Ze){(Ct(Ze)||Re(Ze))&&Z(Ze)}),Ve(J)}o(sn,"deepFreeze");var Ve=Z||Qt,Ke=te||Qt;function Ne(){var J=Date;return J.now?J.now():new J().getTime()}o(Ne,"dateNow");function ze(J){return at(J)?J.name:w.SM}o(ze,"getExceptionName");function lt(J,Le,Ze,ct,$t){var De=Ze;return J&&(De=J[Le],De!==Ze&&(!$t||$t(De))&&(!ct||ct(Ze))&&(De=Ze,J[Le]=De)),De}o(lt,"setValue");function gt(J,Le,Ze){var ct;return J?(ct=J[Le],!ct&&Ye(ct)&&(ct=Ie(Ze)?{}:Ze,J[Le]=ct)):ct=Ie(Ze)?{}:Ze,ct}o(gt,"getSetValue");function dt(J){return!J}o(dt,"isNotTruthy");function It(J){return!!J}o(It,"isTruthy");function qt(J){throw new Error(J)}o(qt,"throwError");function Gt(J,Le){var Ze=null,ct=null;return nt(J)?Ze=J:ct=J,function(){var $t=arguments;if(Ze&&(ct=Ze()),ct)return ct[Le].apply(ct,$t)}}o(Gt,"_createProxyFunction");function je(J,Le,Ze){if(J&&Le&&Re(J)&&Re(Le)){var ct=o(function(De){if(Ut(De)){var wt=Le[De];nt(wt)?(!Ze||Ze(De,!0,Le,J))&&(J[De]=Gt(Le,De)):(!Ze||Ze(De,!1,Le,J))&&(Te(J,De)&&delete J[De],Me(J,De,function(){return Le[De]},function(Mt){Le[De]=Mt})||(J[De]=wt))}},"_loop_1");for(var $t in Le)ct($t)}return J}o(je,"proxyAssign");function ut(J,Le,Ze,ct,$t){J&&Le&&Ze&&($t!==!1||Ie(J[Le]))&&(J[Le]=Gt(Ze,ct))}o(ut,"proxyFunctionAs");function et(J,Le,Ze,ct){return J&&Le&&Re(J)&&Ct(Ze)&&xn(Ze,function($t){Ut($t)&&ut(J,$t,Le,$t,ct)}),J}o(et,"proxyFunctions");function Ot(J){return function(){function Le(){var Ze=this;J&&ye(J,function(ct,$t){Ze[ct]=$t})}return o(Le,"class_1"),Le}()}o(Ot,"createClassFromInterface");function Et(J){return J&&b.rl&&(J=(0,b.Pw)((0,b.rl)({},J))),J}o(Et,"optimizeObject");function pn(J,Le,Ze,ct,$t,De){var wt=arguments,Mt=wt[0]||{},ft=wt.length,qe=!1,Ht=1;for(ft>0&&ke(Mt)&&(qe=Mt,Mt=wt[Ht]||{},Ht++),Re(Mt)||(Mt={});Ht<ft;Ht++){var Lt=wt[Ht],ht=Ct(Lt),tn=Re(Lt);for(var on in Lt){var vn=ht&&on in Lt||tn&&b.CY.call(Lt,on);if(!!vn){var Ln=Lt[on],Zn=void 0;if(qe&&Ln&&((Zn=Ct(Ln))||se(Ln))){var bn=Mt[on];Zn?Ct(bn)||(bn=[]):se(bn)||(bn={}),Ln=pn(qe,bn,Ln)}Ln!==void 0&&(Mt[on]=Ln)}}}return Mt}o(pn,"objExtend")},6041:(ae,S,d)=>{"use strict";d.d(S,{SM:()=>b,i9:()=>E,Nz:()=>w,El:()=>F,Vr:()=>W,vE:()=>A,Gc:()=>h,Rw:()=>_,C0:()=>x,Ho:()=>v,Z_:()=>I,Mf:()=>R,nE:()=>T,dV:()=>Z,XP:()=>te,eO:()=>M,H4:()=>$,rX:()=>O,SN:()=>D});var b="",E="processTelemetry",w="priority",F="setNextPlugin",W="isInitialized",A="teardown",h="core",_="update",x="disabled",v="_doTeardown",I="processNext",R="resume",T="pause",B="NotificationListener",Z="add"+B,te="remove"+B,M="eventsSent",$="eventsDiscarded",O="eventsSendRequest",D="perfEvent"},9288:(ae,S,d)=>{"use strict";d.d(S,{zn:()=>W,Jk:()=>A,Lm:()=>_,j5:()=>v});var b=d(1679),E=d(6708),w="ctx",F=null,W=function(){function I(R,T,B){var Z=this,te=!1;if(Z.start=(0,E.m6)(),Z.name=R,Z.isAsync=B,Z.isChildEvt=function(){return!1},(0,E.mf)(T)){var M;te=(0,E.l_)(Z,"payload",function(){return!M&&(0,E.mf)(T)&&(M=T(),T=null),M})}Z.getCtx=function($){return $?$===I.ParentContextKey||$===I.ChildrenContextKey?Z[$]:(Z[w]||{})[$]:null},Z.setCtx=function($,O){if($)if($===I.ParentContextKey)Z[$]||(Z.isChildEvt=function(){return!0}),Z[$]=O;else if($===I.ChildrenContextKey)Z[$]=O;else{var D=Z[w]=Z[w]||{};D[$]=O}},Z.complete=function(){var $=0,O=Z.getCtx(I.ChildrenContextKey);if((0,E.kJ)(O))for(var D=0;D<O.length;D++){var P=O[D];P&&($+=P.time)}Z.time=(0,E.m6)()-Z.start,Z.exTime=Z.time-$,Z.complete=function(){},!te&&(0,E.mf)(T)&&(Z.payload=T())}}return o(I,"PerfEvent"),I.ParentContextKey="parent",I.ChildrenContextKey="childEvts",I}(),A=function(){function I(R){this.ctx={},(0,b.Z)(I,this,function(T){T.create=function(B,Z,te){return new W(B,Z,te)},T.fire=function(B){B&&(B.complete(),R&&(0,E.mf)(R.perfEvent)&&R.perfEvent(B))},T.setCtx=function(B,Z){if(B){var te=T[w]=T[w]||{};te[B]=Z}},T.getCtx=function(B){return(T[w]||{})[B]}})}return o(I,"PerfManager"),I}(),h="CoreUtils.doPerf";function _(I,R,T,B,Z){if(I){var te=I;if((0,E.mf)(te.getPerfMgr)&&(te=te.getPerfMgr()),te){var M=void 0,$=te.getCtx(h);try{if(M=te.create(R(),B,Z),M){if($&&M.setCtx&&(M.setCtx(W.ParentContextKey,$),$.getCtx&&$.setCtx)){var O=$.getCtx(W.ChildrenContextKey);O||(O=[],$.setCtx(W.ChildrenContextKey,O)),O.push(M)}return te.setCtx(h,M),T(M)}}catch(D){M&&M.setCtx&&M.setCtx("exception",D)}finally{M&&te.fire(M),te.setCtx(h,$)}}}return T()}o(_,"doPerf");function x(I){F=I}o(x,"setGblPerfMgr");function v(){return F}o(v,"getGblPerfMgr")},1589:(ae,S,d)=>{"use strict";d.d(S,{CD:()=>T,Bt:()=>B,xy:()=>Z,jV:()=>te,Vi:()=>$});var b=d(5018),E=d(6708),w=d(9288),F=d(7630),W=d(6041),A=d(3833),h="TelemetryPluginChain",_="_hasRun",x="_getTelCtx",v=0;function I(O,D,P){for(;O;){if(O.getPlugin()===P)return O;O=O.getNext()}return te([P],D.config||{},D)}o(I,"_getNextProxyStart");function R(O,D,P,L){var X=null,K=[];L!==null&&(X=L?I(O,P,L):O);var ne={_next:ge,ctx:{core:function(){return P},diagLog:function(){return(0,b.vH)(P,D)},getCfg:function(){return D},getExtCfg:ie,getConfig:xe,hasNext:function(){return!!X},getNext:function(){return X},setNext:function(he){X=he},iterate:U,onComplete:de}};function de(he,oe){for(var pe=[],Ee=2;Ee<arguments.length;Ee++)pe[Ee-2]=arguments[Ee];he&&K.push({func:he,self:(0,E.o8)(oe)?ne.ctx:oe,args:pe})}o(de,"_addOnComplete");function ge(){var he=X;if(X=he?he.getNext():null,!he){var oe=K;oe&&oe.length>0&&((0,E.tO)(oe,function(pe){try{pe.func.call(pe.self,pe.args)}catch(Ee){(0,b.kP)(P.logger,2,73,"Unexpected Exception during onComplete - "+(0,F.eU)(Ee))}}),K=[])}return he}o(ge,"_moveNext");function ie(he,oe,pe){oe===void 0&&(oe={}),pe===void 0&&(pe=0);var Ee;if(D){var Ie=D.extensionConfig;Ie&&he&&(Ee=Ie[he])}if(!Ee)Ee=oe;else if((0,E.Kn)(oe)&&pe!==0){var mt=(0,E.mm)(!0,oe,Ee);D&&pe===2&&(0,E.rW)(oe,function(Ye){if((0,E.le)(mt[Ye])){var q=D[Ye];(0,E.le)(q)||(mt[Ye]=q)}}),Ee=mt}return Ee}o(ie,"_getExtCfg");function xe(he,oe,pe){pe===void 0&&(pe=!1);var Ee,Ie=ie(he,null);return Ie&&!(0,E.le)(Ie[oe])?Ee=Ie[oe]:D&&!(0,E.le)(D[oe])&&(Ee=D[oe]),(0,E.le)(Ee)?pe:Ee}o(xe,"_getConfig");function U(he){for(var oe;oe=ne._next();){var pe=oe.getPlugin();pe&&he(pe)}}return o(U,"_iterateChain"),ne}o(R,"_createInternalContext");function T(O,D,P,L){var X=R(O,D,P,L),K=X.ctx;function ne(ge){var ie=X._next();return ie&&ie.processTelemetry(ge,K),!ie}o(ne,"_processNext");function de(ge,ie){return ge===void 0&&(ge=null),(0,E.kJ)(ge)&&(ge=te(ge,D,P,ie)),T(ge||K.getNext(),D,P,ie)}return o(de,"_createNew"),K.processNext=ne,K.createNew=de,K}o(T,"createProcessTelemetryContext");function B(O,D,P){var L=D.config||{},X=R(O,L,D,P),K=X.ctx;function ne(ge){var ie=X._next();return ie&&ie.unload(K,ge),!ie}o(ne,"_processNext");function de(ge,ie){return ge===void 0&&(ge=null),(0,E.kJ)(ge)&&(ge=te(ge,L,D,ie)),B(ge||K.getNext(),D,ie)}return o(de,"_createNew"),K.processNext=ne,K.createNew=de,K}o(B,"createProcessTelemetryUnloadContext");function Z(O,D,P){var L=D.config||{},X=R(O,L,D,P),K=X.ctx;function ne(ge){return K.iterate(function(ie){(0,E.mf)(ie.update)&&ie.update(K,ge)})}o(ne,"_processNext");function de(ge,ie){return ge===void 0&&(ge=null),(0,E.kJ)(ge)&&(ge=te(ge,L,D,ie)),Z(ge||K.getNext(),D,ie)}return o(de,"_createNew"),K.processNext=ne,K.createNew=de,K}o(Z,"createProcessTelemetryUpdateContext");function te(O,D,P,L){var X=null,K=!L;if((0,E.kJ)(O)&&O.length>0){var ne=null;(0,E.tO)(O,function(de){if(!K&&L===de&&(K=!0),K&&de&&(0,E.mf)(de.processTelemetry)){var ge=M(de,D,P);X||(X=ge),ne&&ne._setNext(ge),ne=ge}})}return L&&!X?te([L],D,P):X}o(te,"createTelemetryProxyChain");function M(O,D,P){var L=null,X=(0,E.mf)(O.processTelemetry),K=(0,E.mf)(O.setNextPlugin),ne;O?ne=O.identifier+"-"+O.priority+"-"+v++:ne="Unknown-0-"+v++;var de={getPlugin:function(){return O},getNext:function(){return L},processTelemetry:xe,unload:U,update:he,_id:ne,_setNext:function(oe){L=oe}};function ge(){var oe;return O&&(0,E.mf)(O[x])&&(oe=O[x]()),oe||(oe=T(de,D,P)),oe}o(ge,"_getTelCtx");function ie(oe,pe,Ee,Ie,mt){var Ye=!1,q=O?O.identifier:h,Te=oe[_];return Te||(Te=oe[_]={}),oe.setNext(L),O&&(0,w.Lm)(oe[W.Gc](),function(){return q+":"+Ee},function(){Te[ne]=!0;try{var Re=L?L._id:W.SM;Re&&(Te[Re]=!1),Ye=pe(oe)}catch(ve){var nt=L?Te[L._id]:!0;nt&&(Ye=!0),(!L||!nt)&&(0,b.kP)(oe.diagLog(),1,73,"Plugin ["+q+"] failed during "+Ee+" - "+(0,F.eU)(ve)+", run flags: "+(0,F.eU)(Te))}},Ie,mt),Ye}o(ie,"_processChain");function xe(oe,pe){pe=pe||ge();function Ee(Ie){if(!O||!X)return!1;var mt=(0,A.OY)(O);return mt.teardown||mt[W.C0]?!1:(K&&O.setNextPlugin(L),O.processTelemetry(oe,Ie),!0)}o(Ee,"_callProcessTelemetry"),ie(pe,Ee,"processTelemetry",function(){return{item:oe}},!oe.sync)||pe.processNext(oe)}o(xe,"_processTelemetry");function U(oe,pe){function Ee(){var Ie=!1;if(O){var mt=(0,A.OY)(O),Ye=O[W.Gc]||mt.core;O&&(!Ye||Ye===oe[W.Gc]())&&!mt[W.vE]&&(mt[W.Gc]=null,mt[W.vE]=!0,mt[W.Vr]=!1,O[W.vE]&&O[W.vE](oe,pe)===!0&&(Ie=!0))}return Ie}o(Ee,"_callTeardown"),ie(oe,Ee,"unload",function(){},pe.isAsync)||oe.processNext(pe)}o(U,"_unloadPlugin");function he(oe,pe){function Ee(){var Ie=!1;if(O){var mt=(0,A.OY)(O),Ye=O[W.Gc]||mt.core;O&&(!Ye||Ye===oe[W.Gc]())&&!mt[W.vE]&&O[W.Rw]&&O[W.Rw](oe,pe)===!0&&(Ie=!0)}return Ie}o(Ee,"_callUpdate"),ie(oe,Ee,"update",function(){},!1)||oe.processNext(pe)}return o(he,"_updatePlugin"),(0,E.FL)(de)}o(M,"createTelemetryPluginProxy");var $=function(){function O(D,P,L,X){var K=this,ne=T(D,P,L,X);(0,E.Vb)(K,ne,(0,E.FY)(ne))}return o(O,"ProcessTelemetryContext"),O}()},4878:(ae,S,d)=>{"use strict";d.d(S,{az:()=>I,_l:()=>R,CN:()=>T,F6:()=>B,pZ:()=>Z});var b=d(7630),E=d(6708),w=d(6041),F=4294967296,W=4294967295,A=!1,h=123456789,_=987654321;function x(te){te<0&&(te>>>=0),h=123456789+te&W,_=987654321-te&W,A=!0}o(x,"_mwcSeed");function v(){try{var te=(0,E.m6)()&2147483647;x((Math.random()*F^te)+te)}catch(M){}}o(v,"_autoSeedMwc");function I(te){return te>0?Math.floor(R()/W*(te+1))>>>0:0}o(I,"randomValue");function R(te){var M=0,$=(0,b.MX)()||(0,b.gz)();return $&&$.getRandomValues&&(M=$.getRandomValues(new Uint32Array(1))[0]&W),M===0&&(0,b.w1)()&&(A||v(),M=B()&W),M===0&&(M=Math.floor(F*Math.random()|0)),te||(M>>>=0),M}o(R,"random32");function T(te){te?x(te):v()}o(T,"mwcRandomSeed");function B(te){_=36969*(_&65535)+(_>>16)&W,h=18e3*(h&65535)+(h>>16)&W;var M=(_<<16)+(h&65535)>>>0&W|0;return te||(M>>>=0),M}o(B,"mwcRandom32");function Z(te){te===void 0&&(te=22);for(var M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$=R()>>>0,O=0,D=w.SM;D.length<te;)O++,D+=M.charAt($&63),$>>>=6,O===5&&($=(R()<<2&4294967295|$&3)>>>0,O=0);return D}o(Z,"newId")},3833:(ae,S,d)=>{"use strict";d.d(S,{OY:()=>h,bP:()=>_,AA:()=>x,Yn:()=>I});var b=d(6708),E=d(6041),w=d(5883),F=d(4206),W="_doUnload",A=(0,w.K)("plugin");function h(R){return A.get(R,"state",{},!0)}o(h,"_getPluginState");function _(R,T){for(var B=[],Z=null,te=R.getNext(),M;te;){var $=te.getPlugin();if($){Z&&(0,b.mf)(Z[E.El])&&(0,b.mf)($[E.i9])&&Z[E.El]($);var O=!1;(0,b.mf)($[E.Vr])?O=$[E.Vr]():(M=h($),O=M[E.Vr]),O||B.push($),Z=$,te=te.getNext()}}(0,b.tO)(B,function(D){var P=R.core();D.initialize(R.getCfg(),P,T,R.getNext()),M=h(D),!D[E.Gc]&&!M[E.Gc]&&(M[E.Gc]=P),M[E.Vr]=!0,delete M[E.vE]})}o(_,"initializePlugins");function x(R){return R.sort(function(T,B){var Z=0;if(B){var te=(0,b.mf)(B[E.i9]);(0,b.mf)(T[E.i9])?Z=te?T[E.Nz]-B[E.Nz]:1:te&&(Z=-1)}else Z=T?1:-1;return Z})}o(x,"sortPlugins");function v(R,T,B,Z){var te=0;function M(){for(;te<R.length;){var $=R[te++];if($){var O=$[W]||$[strDoTeardown];if(isFunction(O)&&O.call($,T,B,M)===!0)return!0}}}return o(M,"_doUnload"),M()}o(v,"unloadComponents");function I(R){var T={};return{getName:function(){return T.name},setName:function(B){R&&R.setName(B),T.name=B},getTraceId:function(){return T.traceId},setTraceId:function(B){R&&R.setTraceId(B),(0,F.jN)(B)&&(T.traceId=B)},getSpanId:function(){return T.spanId},setSpanId:function(B){R&&R.setSpanId(B),(0,F.Lc)(B)&&(T.spanId=B)},getTraceFlags:function(){return T.traceFlags},setTraceFlags:function(B){R&&R.setTraceFlags(B),T.traceFlags=B}}}o(I,"createDistributedTraceContext")},310:(ae,S,d)=>{"use strict";d.d(S,{Y:()=>F});var b=d(5018),E=d(7630),w=d(6708);function F(){var W=[];function A(_){_&&W.push(_)}o(A,"_addHandler");function h(_,x){(0,w.tO)(W,function(v){try{v(_,x)}catch(I){(0,b.kP)(_.diagLog(),2,73,"Unexpected error calling unload handler - "+(0,E.eU)(I))}}),W=[]}return o(h,"_runHandlers"),{add:A,run:h}}o(F,"createUnloadHandlerContainer")},4206:(ae,S,d)=>{"use strict";d.d(S,{SU:()=>T,j_:()=>B,jN:()=>Z,Lc:()=>te,J6:()=>M,Pn:()=>$,aR:()=>O,lq:()=>D});var b=d(5843),E=d(7630),w=d(6708),F=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]*)?$/,W="00",A="ff",h="00000000000000000000000000000000",_="0000000000000000",x=1;function v(P,L,X){return P&&P.length===L&&P!==X?!!P.match(/^[\da-f]*$/):!1}o(v,"_isValid");function I(P,L,X){return v(P,L)?P:X}o(I,"_formatValue");function R(P){(isNaN(P)||P<0||P>255)&&(P=1);for(var L=P.toString(16);L.length<2;)L="0"+L;return L}o(R,"_formatFlags");function T(P,L,X,K){return{version:v(K,2,A)?K:W,traceId:Z(P)?P:(0,b.DO)(),spanId:te(L)?L:(0,b.DO)().substr(0,16),traceFlags:X>=0&&X<=255?X:1}}o(T,"createTraceParent");function B(P){if(!P||((0,w.kJ)(P)&&(P=P[0]||""),!P||!(0,w.HD)(P)||P.length>8192))return null;var L=F.exec((0,w.nd)(P));return!L||L[1]===A||L[2]===h||L[3]===_?null:{version:L[1],traceId:L[2],spanId:L[3],traceFlags:parseInt(L[4],16)}}o(B,"parseTraceParent");function Z(P){return v(P,32,h)}o(Z,"isValidTraceId");function te(P){return v(P,16,_)}o(te,"isValidSpanId");function M(P){return!(!P||!v(P.version,2,A)||!v(P.traceId,32,h)||!v(P.spanId,16,_)||!v(R(P.traceFlags),2))}o(M,"isValidTraceParent");function $(P){return M(P)?(P.traceFlags&x)===x:!1}o($,"isSampledFlag");function O(P){if(P){var L=R(P.traceFlags);v(L,2)||(L="01");var X=P.version||W;return X!=="00"&&X!=="ff"&&(X=W),"".concat(X,"-").concat(I(P.traceId,32,h),"-").concat(I(P.spanId,16,_),"-").concat(L)}return""}o(O,"formatTraceParent");function D(){var P="traceparent",L=B((0,E.ed)(P));return L||(L=B((0,E.pI)(P))),L}o(D,"findW3cTraceParent")},4392:(ae,S,d)=>{"use strict";d.d(S,{cb:()=>b,fK:()=>E,jA:()=>w,hB:()=>F,bO:()=>W,Pw:()=>h,V4:()=>_,rl:()=>x,yu:()=>v,RJ:()=>I,CY:()=>R});var b="function",E="object",w="undefined",F="prototype",W="hasOwnProperty",A="default",h=Object,_=h[F],x=h.assign,v=h.create,I=h.defineProperty,R=_[W]},2091:(ae,S,d)=>{"use strict";d.d(S,{Rd:()=>w,ZU:()=>F,pu:()=>W});var b=d(4392),E=null;function w(A){return A===void 0&&(A=!0),(!E||!A)&&(typeof globalThis!==b.jA&&globalThis&&(E=globalThis),typeof self!==b.jA&&self&&(E=self),typeof window!==b.jA&&window&&(E=window),typeof d.g!==b.jA&&d.g&&(E=d.g)),E}o(w,"getGlobal");function F(A){throw new TypeError(A)}o(F,"throwTypeError");function W(A){var h=b.yu;if(h)return h(A);if(A==null)return{};var _=typeof A;_!==b.fK&&_!==b.cb&&F("Object prototype may only be an Object:"+A);function x(){}return o(x,"tmpFunc"),x[b.hB]=A,new x}o(W,"objCreateFn")},1088:(ae,S,d)=>{"use strict";d.d(S,{uc:()=>R,ne:()=>B,$h:()=>K});var b=d(4392),E=d(2091),w=((0,E.Rd)()||{}).Symbol,F=((0,E.Rd)()||{}).Reflect,W=!!w,A=!!F,h="decorate",_="metadata",x="getOwnPropertySymbols",v="iterator",I=o(function(ie){for(var xe,U=1,he=arguments.length;U<he;U++){xe=arguments[U];for(var oe in xe)b.V4[b.bO].call(xe,oe)&&(ie[oe]=xe[oe])}return ie},"__objAssignFnImpl"),R=b.rl||I,T=o(function(ie,xe){return T=b.Pw.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,he){U.__proto__=he}||function(U,he){for(var oe in he)he[b.bO](oe)&&(U[oe]=he[oe])},T(ie,xe)},"extendStaticsFn");function B(ie,xe){typeof xe!==b.cb&&xe!==null&&(0,E.ZU)("Class extends value "+String(xe)+" is not a constructor or null"),T(ie,xe);function U(){this.constructor=ie}o(U,"__"),ie[b.hB]=xe===null?(0,E.pu)(xe):(U[b.hB]=xe[b.hB],new U)}o(B,"__extendsFn");function Z(ie,xe){var U={};for(var he in ie)ObjHasOwnProperty.call(ie,he)&&xe.indexOf(he)<0&&(U[he]=ie[he]);if(ie!=null&&typeof ObjClass[x]===strShimFunction)for(var oe=0,pe=ObjClass[x](ie);oe<pe.length;oe++)xe.indexOf(pe[oe])<0&&ObjProto.propertyIsEnumerable.call(ie,pe[oe])&&(U[pe[oe]]=ie[pe[oe]]);return U}o(Z,"__restFn");function te(ie,xe,U,he){var oe=arguments.length,pe=oe<3?xe:he===null?he=ObjClass.getOwnPropertyDescriptor(xe,U):he,Ee;if(A&&typeof F[h]===strShimFunction)pe=F[h](ie,xe,U,he);else for(var Ie=ie.length-1;Ie>=0;Ie--)(Ee=ie[Ie])&&(pe=(oe<3?Ee(pe):oe>3?Ee(xe,U,pe):Ee(xe,U))||pe);return oe>3&&pe&&ObjDefineProperty(xe,U,pe),pe}o(te,"__decorateFn");function M(ie,xe){return function(U,he){xe(U,he,ie)}}o(M,"__paramFn");function $(ie,xe){if(A&&F[_]===strShimFunction)return F[_](ie,xe)}o($,"__metadataFn");function O(ie,xe){for(var U in ie)U!==strDefault&&!ObjHasOwnProperty.call(xe,U)&&D(xe,ie,U)}o(O,"__exportStarFn");function D(ie,xe,U,he){he===void 0&&(he=U),ObjCreate?ObjDefineProperty(ie,he,{enumerable:!0,get:function(){return xe[U]}}):ie[he]=xe[U]}o(D,"__createBindingFn");function P(ie){var xe=typeof w===strShimFunction&&w[v],U=xe&&ie[xe],he=0;if(U)return U.call(ie);if(ie&&typeof ie.length=="number")return{next:function(){return ie&&he>=ie.length&&(ie=void 0),{value:ie&&ie[he++],done:!ie}}};throwTypeError(xe?"Object is not iterable.":"Symbol.iterator is not defined.")}o(P,"__valuesFn");function L(ie,xe){var U=typeof w===strShimFunction&&ie[w[v]];if(!U)return ie;var he=U.call(ie),oe,pe=[],Ee;try{for(;(xe===void 0||xe-- >0)&&!(oe=he.next()).done;)pe.push(oe.value)}catch(Ie){Ee={error:Ie}}finally{try{oe&&!oe.done&&(U=he.return)&&U.call(he)}finally{if(Ee)throw Ee.error}}return pe}o(L,"__readFn");function X(){for(var ie=arguments,xe=0,U=0,he=ie.length;U<he;U++)xe+=ie[U].length;for(var oe=Array(xe),pe=0,U=0;U<he;U++)for(var Ee=ie[U],Ie=0,mt=Ee.length;Ie<mt;Ie++,pe++)oe[pe]=Ee[Ie];return oe}o(X,"__spreadArraysFn");function K(ie,xe){for(var U=0,he=xe.length,oe=ie.length;U<he;U++,oe++)ie[oe]=xe[U];return ie}o(K,"__spreadArrayFn");function ne(ie,xe){return ObjDefineProperty?ObjDefineProperty(ie,"raw",{value:xe}):ie.raw=xe,ie}o(ne,"__makeTemplateObjectFn");function de(ie){if(ie&&ie.__esModule)return ie;var xe={};if(ie!=null)for(var U in ie)U!==strDefault&&Object.prototype.hasOwnProperty.call(ie,U)&&D(xe,ie,U);return ObjCreate?ObjDefineProperty(xe,strDefault,{enumerable:!0,value:ie}):xe[strDefault]=ie,xe}o(de,"__importStarFn");function ge(ie){return ie&&ie.__esModule?ie:{strDefault:ie}}o(ge,"__importDefaultFn")},1679:(ae,S,d)=>{"use strict";d.d(S,{Z:()=>mt});/*!
 * Microsoft Dynamic Proto Utility, 1.1.6
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */var b="constructor",E="prototype",w="function",F="_dynInstFuncs",W="_isDynProxy",A="_dynClass",h="_dynCls$",_="_dynInstChk",x=_,v="_dfOpts",I="_unknown_",R="__proto__",T="_dyn"+R,B="_dynInstProto",Z="useBaseInst",te="setInstFuncs",M=Object,$=M.getPrototypeOf,O=M.getOwnPropertyNames,D=0;function P(q,Te){return q&&M[E].hasOwnProperty.call(q,Te)}o(P,"_hasOwnProperty");function L(q){return q&&(q===M[E]||q===Array[E])}o(L,"_isObjectOrArrayPrototype");function X(q){return L(q)||q===Function[E]}o(X,"_isObjectArrayOrFunctionPrototype");function K(q){var Te;if(q){if($)return $(q);var Re=q[R]||q[E]||(q[b]?q[b][E]:null);Te=q[T]||Re,P(q,T)||(delete q[B],Te=q[T]=q[B]||q[T],q[B]=Re)}return Te}o(K,"_getObjProto");function ne(q,Te){var Re=[];if(O)Re=O(q);else for(var nt in q)typeof nt=="string"&&P(q,nt)&&Re.push(nt);if(Re&&Re.length>0)for(var ve=0;ve<Re.length;ve++)Te(Re[ve])}o(ne,"_forEachProp");function de(q,Te,Re){return Te!==b&&typeof q[Te]===w&&(Re||P(q,Te))}o(de,"_isDynamicCandidate");function ge(q){throw new TypeError("DynamicProto: "+q)}o(ge,"_throwTypeError");function ie(q){var Te={};return ne(q,function(Re){!Te[Re]&&de(q,Re,!1)&&(Te[Re]=q[Re])}),Te}o(ie,"_getInstanceFuncs");function xe(q,Te){for(var Re=q.length-1;Re>=0;Re--)if(q[Re]===Te)return!0;return!1}o(xe,"_hasVisited");function U(q,Te,Re,nt){function ve(ce,Fe,Ae){var He=Fe[Ae];if(He[W]&&nt){var rt=ce[F]||{};rt[x]!==!1&&(He=(rt[Fe[A]]||{})[Ae]||He)}return function(){return He.apply(ce,arguments)}}o(ve,"_instFuncProxy");var ee={};ne(Re,function(ce){ee[ce]=ve(Te,Re,ce)});for(var ye=K(q),Ce=[];ye&&!X(ye)&&!xe(Ce,ye);)ne(ye,function(ce){!ee[ce]&&de(ye,ce,!$)&&(ee[ce]=ve(Te,ye,ce))}),Ce.push(ye),ye=K(ye);return ee}o(U,"_getBaseFuncs");function he(q,Te,Re,nt){var ve=null;if(q&&P(Re,A)){var ee=q[F]||{};if(ve=(ee[Re[A]]||{})[Te],ve||ge("Missing ["+Te+"] "+w),!ve[_]&&ee[x]!==!1){for(var ye=!P(q,Te),Ce=K(q),ce=[];ye&&Ce&&!X(Ce)&&!xe(ce,Ce);){var Fe=Ce[Te];if(Fe){ye=Fe===nt;break}ce.push(Ce),Ce=K(Ce)}try{ye&&(q[Te]=ve),ve[_]=1}catch(Ae){ee[x]=!1}}}return ve}o(he,"_getInstFunc");function oe(q,Te,Re){var nt=Te[q];return nt===Re&&(nt=K(Te)[q]),typeof nt!==w&&ge("["+q+"] is not a "+w),nt}o(oe,"_getProtoFunc");function pe(q,Te,Re,nt,ve){function ee(ce,Fe){var Ae=o(function(){var He=he(this,Fe,ce,Ae)||oe(Fe,ce,Ae);return He.apply(this,arguments)},"dynProtoProxy");return Ae[W]=1,Ae}if(o(ee,"_createDynamicPrototype"),!L(q)){var ye=Re[F]=Re[F]||{},Ce=ye[Te]=ye[Te]||{};ye[x]!==!1&&(ye[x]=!!ve),ne(Re,function(ce){de(Re,ce,!1)&&Re[ce]!==nt[ce]&&(Ce[ce]=Re[ce],delete Re[ce],(!P(q,ce)||q[ce]&&!q[ce][W])&&(q[ce]=ee(q,ce)))})}}o(pe,"_populatePrototype");function Ee(q,Te){if($){for(var Re=[],nt=K(Te);nt&&!X(nt)&&!xe(Re,nt);){if(nt===q)return!0;Re.push(nt),nt=K(nt)}return!1}return!0}o(Ee,"_checkPrototype");function Ie(q,Te){return P(q,E)?q.name||Te||I:((q||{})[b]||{}).name||Te||I}o(Ie,"_getObjName");function mt(q,Te,Re,nt){P(q,E)||ge("theClass is an invalid class definition.");var ve=q[E];Ee(ve,Te)||ge("["+Ie(q)+"] is not in class hierarchy of ["+Ie(Te)+"]");var ee=null;P(ve,A)?ee=ve[A]:(ee=h+Ie(q,"_")+"$"+D,D++,ve[A]=ee);var ye=mt[v],Ce=!!ye[Z];Ce&&nt&&nt[Z]!==void 0&&(Ce=!!nt[Z]);var ce=ie(Te),Fe=U(ve,Te,ce,Ce);Re(Te,Fe);var Ae=!!$&&!!ye[te];Ae&&nt&&(Ae=!!nt[te]),pe(ve,ee,Te,ce,Ae!==!1)}o(mt,"dynamicProto");var Ye={setInstFuncs:!0,useBaseInst:!0};mt[v]=Ye},6232:(ae,S,d)=>{"use strict";const b=d(8641),E=d(8692),w=d(1474),F=d(5870),W=o((A,h={})=>{let _=[];if(Array.isArray(A))for(let x of A){let v=W.create(x,h);Array.isArray(v)?_.push(...v):_.push(v)}else _=[].concat(W.create(A,h));return h&&h.expand===!0&&h.nodupes===!0&&(_=[...new Set(_)]),_},"braces");W.parse=(A,h={})=>F(A,h),W.stringify=(A,h={})=>b(typeof A=="string"?W.parse(A,h):A,h),W.compile=(A,h={})=>(typeof A=="string"&&(A=W.parse(A,h)),E(A,h)),W.expand=(A,h={})=>{typeof A=="string"&&(A=W.parse(A,h));let _=w(A,h);return h.noempty===!0&&(_=_.filter(Boolean)),h.nodupes===!0&&(_=[...new Set(_)]),_},W.create=(A,h={})=>A===""||A.length<3?[A]:h.expand!==!0?W.compile(A,h):W.expand(A,h),ae.exports=W},8692:(ae,S,d)=>{"use strict";const b=d(1516),E=d(3596),w=o((F,W={})=>{let A=o((h,_={})=>{let x=E.isInvalidBrace(_),v=h.invalid===!0&&W.escapeInvalid===!0,I=x===!0||v===!0,R=W.escapeInvalid===!0?"\\":"",T="";if(h.isOpen===!0||h.isClose===!0)return R+h.value;if(h.type==="open")return I?R+h.value:"(";if(h.type==="close")return I?R+h.value:")";if(h.type==="comma")return h.prev.type==="comma"?"":I?h.value:"|";if(h.value)return h.value;if(h.nodes&&h.ranges>0){let B=E.reduce(h.nodes),Z=b(...B,{...W,wrap:!1,toRegex:!0});if(Z.length!==0)return B.length>1&&Z.length>1?`(${Z})`:Z}if(h.nodes)for(let B of h.nodes)T+=A(B,h);return T},"walk");return A(F)},"compile");ae.exports=w},7007:ae=>{"use strict";ae.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}},1474:(ae,S,d)=>{"use strict";const b=d(1516),E=d(8641),w=d(3596),F=o((A="",h="",_=!1)=>{let x=[];if(A=[].concat(A),h=[].concat(h),!h.length)return A;if(!A.length)return _?w.flatten(h).map(v=>`{${v}}`):h;for(let v of A)if(Array.isArray(v))for(let I of v)x.push(F(I,h,_));else for(let I of h)_===!0&&typeof I=="string"&&(I=`{${I}}`),x.push(Array.isArray(I)?F(v,I,_):v+I);return w.flatten(x)},"append"),W=o((A,h={})=>{let _=h.rangeLimit===void 0?1e3:h.rangeLimit,x=o((v,I={})=>{v.queue=[];let R=I,T=I.queue;for(;R.type!=="brace"&&R.type!=="root"&&R.parent;)R=R.parent,T=R.queue;if(v.invalid||v.dollar){T.push(F(T.pop(),E(v,h)));return}if(v.type==="brace"&&v.invalid!==!0&&v.nodes.length===2){T.push(F(T.pop(),["{}"]));return}if(v.nodes&&v.ranges>0){let M=w.reduce(v.nodes);if(w.exceedsLimit(...M,h.step,_))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let $=b(...M,h);$.length===0&&($=E(v,h)),T.push(F(T.pop(),$)),v.nodes=[];return}let B=w.encloseBrace(v),Z=v.queue,te=v;for(;te.type!=="brace"&&te.type!=="root"&&te.parent;)te=te.parent,Z=te.queue;for(let M=0;M<v.nodes.length;M++){let $=v.nodes[M];if($.type==="comma"&&v.type==="brace"){M===1&&Z.push(""),Z.push("");continue}if($.type==="close"){T.push(F(T.pop(),Z,B));continue}if($.value&&$.type!=="open"){Z.push(F(Z.pop(),$.value));continue}$.nodes&&x($,v)}return Z},"walk");return w.flatten(x(A))},"expand");ae.exports=W},5870:(ae,S,d)=>{"use strict";const b=d(8641),{MAX_LENGTH:E,CHAR_BACKSLASH:w,CHAR_BACKTICK:F,CHAR_COMMA:W,CHAR_DOT:A,CHAR_LEFT_PARENTHESES:h,CHAR_RIGHT_PARENTHESES:_,CHAR_LEFT_CURLY_BRACE:x,CHAR_RIGHT_CURLY_BRACE:v,CHAR_LEFT_SQUARE_BRACKET:I,CHAR_RIGHT_SQUARE_BRACKET:R,CHAR_DOUBLE_QUOTE:T,CHAR_SINGLE_QUOTE:B,CHAR_NO_BREAK_SPACE:Z,CHAR_ZERO_WIDTH_NOBREAK_SPACE:te}=d(7007),M=o(($,O={})=>{if(typeof $!="string")throw new TypeError("Expected a string");let D=O||{},P=typeof D.maxLength=="number"?Math.min(E,D.maxLength):E;if($.length>P)throw new SyntaxError(`Input length (${$.length}), exceeds max characters (${P})`);let L={type:"root",input:$,nodes:[]},X=[L],K=L,ne=L,de=0,ge=$.length,ie=0,xe=0,U,he={};const oe=o(()=>$[ie++],"advance"),pe=o(Ee=>{if(Ee.type==="text"&&ne.type==="dot"&&(ne.type="text"),ne&&ne.type==="text"&&Ee.type==="text"){ne.value+=Ee.value;return}return K.nodes.push(Ee),Ee.parent=K,Ee.prev=ne,ne=Ee,Ee},"push");for(pe({type:"bos"});ie<ge;)if(K=X[X.length-1],U=oe(),!(U===te||U===Z)){if(U===w){pe({type:"text",value:(O.keepEscaping?U:"")+oe()});continue}if(U===R){pe({type:"text",value:"\\"+U});continue}if(U===I){de++;let Ee=!0,Ie;for(;ie<ge&&(Ie=oe());){if(U+=Ie,Ie===I){de++;continue}if(Ie===w){U+=oe();continue}if(Ie===R&&(de--,de===0))break}pe({type:"text",value:U});continue}if(U===h){K=pe({type:"paren",nodes:[]}),X.push(K),pe({type:"text",value:U});continue}if(U===_){if(K.type!=="paren"){pe({type:"text",value:U});continue}K=X.pop(),pe({type:"text",value:U}),K=X[X.length-1];continue}if(U===T||U===B||U===F){let Ee=U,Ie;for(O.keepQuotes!==!0&&(U="");ie<ge&&(Ie=oe());){if(Ie===w){U+=Ie+oe();continue}if(Ie===Ee){O.keepQuotes===!0&&(U+=Ie);break}U+=Ie}pe({type:"text",value:U});continue}if(U===x){xe++;let Ee=ne.value&&ne.value.slice(-1)==="$"||K.dollar===!0;K=pe({type:"brace",open:!0,close:!1,dollar:Ee,depth:xe,commas:0,ranges:0,nodes:[]}),X.push(K),pe({type:"open",value:U});continue}if(U===v){if(K.type!=="brace"){pe({type:"text",value:U});continue}let Ee="close";K=X.pop(),K.close=!0,pe({type:Ee,value:U}),xe--,K=X[X.length-1];continue}if(U===W&&xe>0){if(K.ranges>0){K.ranges=0;let Ee=K.nodes.shift();K.nodes=[Ee,{type:"text",value:b(K)}]}pe({type:"comma",value:U}),K.commas++;continue}if(U===A&&xe>0&&K.commas===0){let Ee=K.nodes;if(xe===0||Ee.length===0){pe({type:"text",value:U});continue}if(ne.type==="dot"){if(K.range=[],ne.value+=U,ne.type="range",K.nodes.length!==3&&K.nodes.length!==5){K.invalid=!0,K.ranges=0,ne.type="text";continue}K.ranges++,K.args=[];continue}if(ne.type==="range"){Ee.pop();let Ie=Ee[Ee.length-1];Ie.value+=ne.value+U,ne=Ie,K.ranges--;continue}pe({type:"dot",value:U});continue}pe({type:"text",value:U})}do if(K=X.pop(),K.type!=="root"){K.nodes.forEach(mt=>{mt.nodes||(mt.type==="open"&&(mt.isOpen=!0),mt.type==="close"&&(mt.isClose=!0),mt.nodes||(mt.type="text"),mt.invalid=!0)});let Ee=X[X.length-1],Ie=Ee.nodes.indexOf(K);Ee.nodes.splice(Ie,1,...K.nodes)}while(X.length>0);return pe({type:"eos"}),L},"parse");ae.exports=M},8641:(ae,S,d)=>{"use strict";const b=d(3596);ae.exports=(E,w={})=>{let F=o((W,A={})=>{let h=w.escapeInvalid&&b.isInvalidBrace(A),_=W.invalid===!0&&w.escapeInvalid===!0,x="";if(W.value)return(h||_)&&b.isOpenOrClose(W)?"\\"+W.value:W.value;if(W.value)return W.value;if(W.nodes)for(let v of W.nodes)x+=F(v);return x},"stringify");return F(E)}},3596:(ae,S)=>{"use strict";S.isInteger=d=>typeof d=="number"?Number.isInteger(d):typeof d=="string"&&d.trim()!==""?Number.isInteger(Number(d)):!1,S.find=(d,b)=>d.nodes.find(E=>E.type===b),S.exceedsLimit=(d,b,E=1,w)=>w===!1||!S.isInteger(d)||!S.isInteger(b)?!1:(Number(b)-Number(d))/Number(E)>=w,S.escapeNode=(d,b=0,E)=>{let w=d.nodes[b];!w||(E&&w.type===E||w.type==="open"||w.type==="close")&&w.escaped!==!0&&(w.value="\\"+w.value,w.escaped=!0)},S.encloseBrace=d=>d.type!=="brace"?!1:d.commas>>0+d.ranges>>0==0?(d.invalid=!0,!0):!1,S.isInvalidBrace=d=>d.type!=="brace"?!1:d.invalid===!0||d.dollar?!0:d.commas>>0+d.ranges>>0==0||d.open!==!0||d.close!==!0?(d.invalid=!0,!0):!1,S.isOpenOrClose=d=>d.type==="open"||d.type==="close"?!0:d.open===!0||d.close===!0,S.reduce=d=>d.reduce((b,E)=>(E.type==="text"&&b.push(E.value),E.type==="range"&&(E.type="text"),b),[]),S.flatten=(...d)=>{const b=[],E=o(w=>{for(let F=0;F<w.length;F++){let W=w[F];Array.isArray(W)?E(W,b):W!==void 0&&b.push(W)}return b},"flat");return E(d),b}},1516:(ae,S,d)=>{"use strict";/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */const b=d(6529),E=d(2999),w=o(D=>D!==null&&typeof D=="object"&&!Array.isArray(D),"isObject"),F=o(D=>P=>D===!0?Number(P):String(P),"transform"),W=o(D=>typeof D=="number"||typeof D=="string"&&D!=="","isValidValue"),A=o(D=>Number.isInteger(+D),"isNumber"),h=o(D=>{let P=`${D}`,L=-1;if(P[0]==="-"&&(P=P.slice(1)),P==="0")return!1;for(;P[++L]==="0";);return L>0},"zeros"),_=o((D,P,L)=>typeof D=="string"||typeof P=="string"?!0:L.stringify===!0,"stringify"),x=o((D,P,L)=>{if(P>0){let X=D[0]==="-"?"-":"";X&&(D=D.slice(1)),D=X+D.padStart(X?P-1:P,"0")}return L===!1?String(D):D},"pad"),v=o((D,P)=>{let L=D[0]==="-"?"-":"";for(L&&(D=D.slice(1),P--);D.length<P;)D="0"+D;return L?"-"+D:D},"toMaxLen"),I=o((D,P)=>{D.negatives.sort((de,ge)=>de<ge?-1:de>ge?1:0),D.positives.sort((de,ge)=>de<ge?-1:de>ge?1:0);let L=P.capture?"":"?:",X="",K="",ne;return D.positives.length&&(X=D.positives.join("|")),D.negatives.length&&(K=`-(${L}${D.negatives.join("|")})`),X&&K?ne=`${X}|${K}`:ne=X||K,P.wrap?`(${L}${ne})`:ne},"toSequence"),R=o((D,P,L,X)=>{if(L)return E(D,P,{wrap:!1,...X});let K=String.fromCharCode(D);if(D===P)return K;let ne=String.fromCharCode(P);return`[${K}-${ne}]`},"toRange"),T=o((D,P,L)=>{if(Array.isArray(D)){let X=L.wrap===!0,K=L.capture?"":"?:";return X?`(${K}${D.join("|")})`:D.join("|")}return E(D,P,L)},"toRegex"),B=o((...D)=>new RangeError("Invalid range arguments: "+b.inspect(...D)),"rangeError"),Z=o((D,P,L)=>{if(L.strictRanges===!0)throw B([D,P]);return[]},"invalidRange"),te=o((D,P)=>{if(P.strictRanges===!0)throw new TypeError(`Expected step "${D}" to be a number`);return[]},"invalidStep"),M=o((D,P,L=1,X={})=>{let K=Number(D),ne=Number(P);if(!Number.isInteger(K)||!Number.isInteger(ne)){if(X.strictRanges===!0)throw B([D,P]);return[]}K===0&&(K=0),ne===0&&(ne=0);let de=K>ne,ge=String(D),ie=String(P),xe=String(L);L=Math.max(Math.abs(L),1);let U=h(ge)||h(ie)||h(xe),he=U?Math.max(ge.length,ie.length,xe.length):0,oe=U===!1&&_(D,P,X)===!1,pe=X.transform||F(oe);if(X.toRegex&&L===1)return R(v(D,he),v(P,he),!0,X);let Ee={negatives:[],positives:[]},Ie=o(q=>Ee[q<0?"negatives":"positives"].push(Math.abs(q)),"push"),mt=[],Ye=0;for(;de?K>=ne:K<=ne;)X.toRegex===!0&&L>1?Ie(K):mt.push(x(pe(K,Ye),he,oe)),K=de?K-L:K+L,Ye++;return X.toRegex===!0?L>1?I(Ee,X):T(mt,null,{wrap:!1,...X}):mt},"fillNumbers"),$=o((D,P,L=1,X={})=>{if(!A(D)&&D.length>1||!A(P)&&P.length>1)return Z(D,P,X);let K=X.transform||(oe=>String.fromCharCode(oe)),ne=`${D}`.charCodeAt(0),de=`${P}`.charCodeAt(0),ge=ne>de,ie=Math.min(ne,de),xe=Math.max(ne,de);if(X.toRegex&&L===1)return R(ie,xe,!1,X);let U=[],he=0;for(;ge?ne>=de:ne<=de;)U.push(K(ne,he)),ne=ge?ne-L:ne+L,he++;return X.toRegex===!0?T(U,null,{wrap:!1,options:X}):U},"fillLetters"),O=o((D,P,L,X={})=>{if(P==null&&W(D))return[D];if(!W(D)||!W(P))return Z(D,P,X);if(typeof L=="function")return O(D,P,1,{transform:L});if(w(L))return O(D,P,0,L);let K={...X};return K.capture===!0&&(K.wrap=!0),L=L||K.step||1,A(L)?A(D)&&A(P)?M(D,P,L,K):$(D,P,Math.max(Math.abs(L),1),K):L!=null&&!w(L)?te(L,K):O(D,P,1,L)},"fill");ae.exports=O},3338:ae=>{"use strict";/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */ae.exports=function(S){return typeof S=="number"?S-S==0:typeof S=="string"&&S.trim()!==""?Number.isFinite?Number.isFinite(+S):isFinite(+S):!1}},5179:(ae,S,d)=>{ae=d.nmd(ae);var b=200,E="__lodash_hash_undefined__",w=1,F=2,W=9007199254740991,A="[object Arguments]",h="[object Array]",_="[object AsyncFunction]",x="[object Boolean]",v="[object Date]",I="[object Error]",R="[object Function]",T="[object GeneratorFunction]",B="[object Map]",Z="[object Number]",te="[object Null]",M="[object Object]",$="[object Promise]",O="[object Proxy]",D="[object RegExp]",P="[object Set]",L="[object String]",X="[object Symbol]",K="[object Undefined]",ne="[object WeakMap]",de="[object ArrayBuffer]",ge="[object DataView]",ie="[object Float32Array]",xe="[object Float64Array]",U="[object Int8Array]",he="[object Int16Array]",oe="[object Int32Array]",pe="[object Uint8Array]",Ee="[object Uint8ClampedArray]",Ie="[object Uint16Array]",mt="[object Uint32Array]",Ye=/[\\^$.*+?()[\]{}|]/g,q=/^\[object .+?Constructor\]$/,Te=/^(?:0|[1-9]\d*)$/,Re={};Re[ie]=Re[xe]=Re[U]=Re[he]=Re[oe]=Re[pe]=Re[Ee]=Re[Ie]=Re[mt]=!0,Re[A]=Re[h]=Re[de]=Re[x]=Re[ge]=Re[v]=Re[I]=Re[R]=Re[B]=Re[Z]=Re[M]=Re[D]=Re[P]=Re[L]=Re[ne]=!1;var nt=typeof d.g=="object"&&d.g&&d.g.Object===Object&&d.g,ve=typeof self=="object"&&self&&self.Object===Object&&self,ee=nt||ve||Function("return this")(),ye=S&&!S.nodeType&&S,Ce=ye&&!0&&ae&&!ae.nodeType&&ae,ce=Ce&&Ce.exports===ye,Fe=ce&&nt.process,Ae=function(){try{return Fe&&Fe.binding&&Fe.binding("util")}catch(H){}}(),He=Ae&&Ae.isTypedArray;function rt(H,Y){for(var N=-1,me=H==null?0:H.length,$e=0,Be=[];++N<me;){var kt=H[N];Y(kt,N,H)&&(Be[$e++]=kt)}return Be}o(rt,"arrayFilter");function Ct(H,Y){for(var N=-1,me=Y.length,$e=H.length;++N<me;)H[$e+N]=Y[N];return H}o(Ct,"arrayPush");function Rt(H,Y){for(var N=-1,me=H==null?0:H.length;++N<me;)if(Y(H[N],N,H))return!0;return!1}o(Rt,"arraySome");function at(H,Y){for(var N=-1,me=Array(H);++N<H;)me[N]=Y(N);return me}o(at,"baseTimes");function Ut(H){return function(Y){return H(Y)}}o(Ut,"baseUnary");function Tt(H,Y){return H.has(Y)}o(Tt,"cacheHas");function ke(H,Y){return H==null?void 0:H[Y]}o(ke,"getValue");function bt(H){var Y=-1,N=Array(H.size);return H.forEach(function(me,$e){N[++Y]=[$e,me]}),N}o(bt,"mapToArray");function se(H,Y){return function(N){return H(Y(N))}}o(se,"overArg");function Kt(H){var Y=-1,N=Array(H.size);return H.forEach(function(me){N[++Y]=me}),N}o(Kt,"setToArray");var cn=Array.prototype,xn=Function.prototype,Rn=Object.prototype,k=ee["__core-js_shared__"],g=xn.toString,p=Rn.hasOwnProperty,V=function(){var H=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||"");return H?"Symbol(src)_1."+H:""}(),ue=Rn.toString,_e=RegExp("^"+g.call(p).replace(Ye,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Me=ce?ee.Buffer:void 0,Qt=ee.Symbol,sn=ee.Uint8Array,Ve=Rn.propertyIsEnumerable,Ke=cn.splice,Ne=Qt?Qt.toStringTag:void 0,ze=Object.getOwnPropertySymbols,lt=Me?Me.isBuffer:void 0,gt=se(Object.keys,Object),dt=qn(ee,"DataView"),It=qn(ee,"Map"),qt=qn(ee,"Promise"),Gt=qn(ee,"Set"),je=qn(ee,"WeakMap"),ut=qn(Object,"create"),et=Qr(dt),Ot=Qr(It),Et=Qr(qt),pn=Qr(Gt),J=Qr(je),Le=Qt?Qt.prototype:void 0,Ze=Le?Le.valueOf:void 0;function ct(H){var Y=-1,N=H==null?0:H.length;for(this.clear();++Y<N;){var me=H[Y];this.set(me[0],me[1])}}o(ct,"Hash");function $t(){this.__data__=ut?ut(null):{},this.size=0}o($t,"hashClear");function De(H){var Y=this.has(H)&&delete this.__data__[H];return this.size-=Y?1:0,Y}o(De,"hashDelete");function wt(H){var Y=this.__data__;if(ut){var N=Y[H];return N===E?void 0:N}return p.call(Y,H)?Y[H]:void 0}o(wt,"hashGet");function Mt(H){var Y=this.__data__;return ut?Y[H]!==void 0:p.call(Y,H)}o(Mt,"hashHas");function ft(H,Y){var N=this.__data__;return this.size+=this.has(H)?0:1,N[H]=ut&&Y===void 0?E:Y,this}o(ft,"hashSet"),ct.prototype.clear=$t,ct.prototype.delete=De,ct.prototype.get=wt,ct.prototype.has=Mt,ct.prototype.set=ft;function qe(H){var Y=-1,N=H==null?0:H.length;for(this.clear();++Y<N;){var me=H[Y];this.set(me[0],me[1])}}o(qe,"ListCache");function Ht(){this.__data__=[],this.size=0}o(Ht,"listCacheClear");function Lt(H){var Y=this.__data__,N=er(Y,H);if(N<0)return!1;var me=Y.length-1;return N==me?Y.pop():Ke.call(Y,N,1),--this.size,!0}o(Lt,"listCacheDelete");function ht(H){var Y=this.__data__,N=er(Y,H);return N<0?void 0:Y[N][1]}o(ht,"listCacheGet");function tn(H){return er(this.__data__,H)>-1}o(tn,"listCacheHas");function on(H,Y){var N=this.__data__,me=er(N,H);return me<0?(++this.size,N.push([H,Y])):N[me][1]=Y,this}o(on,"listCacheSet"),qe.prototype.clear=Ht,qe.prototype.delete=Lt,qe.prototype.get=ht,qe.prototype.has=tn,qe.prototype.set=on;function vn(H){var Y=-1,N=H==null?0:H.length;for(this.clear();++Y<N;){var me=H[Y];this.set(me[0],me[1])}}o(vn,"MapCache");function Ln(){this.size=0,this.__data__={hash:new ct,map:new(It||qe),string:new ct}}o(Ln,"mapCacheClear");function Zn(H){var Y=Gr(this,H).delete(H);return this.size-=Y?1:0,Y}o(Zn,"mapCacheDelete");function bn(H){return Gr(this,H).get(H)}o(bn,"mapCacheGet");function Ge(H){return Gr(this,H).has(H)}o(Ge,"mapCacheHas");function Wt(H,Y){var N=Gr(this,H),me=N.size;return N.set(H,Y),this.size+=N.size==me?0:1,this}o(Wt,"mapCacheSet"),vn.prototype.clear=Ln,vn.prototype.delete=Zn,vn.prototype.get=bn,vn.prototype.has=Ge,vn.prototype.set=Wt;function Pt(H){var Y=-1,N=H==null?0:H.length;for(this.__data__=new vn;++Y<N;)this.add(H[Y])}o(Pt,"SetCache");function pt(H){return this.__data__.set(H,E),this}o(pt,"setCacheAdd");function Yt(H){return this.__data__.has(H)}o(Yt,"setCacheHas"),Pt.prototype.add=Pt.prototype.push=pt,Pt.prototype.has=Yt;function rn(H){var Y=this.__data__=new qe(H);this.size=Y.size}o(rn,"Stack");function Jt(){this.__data__=new qe,this.size=0}o(Jt,"stackClear");function ln(H){var Y=this.__data__,N=Y.delete(H);return this.size=Y.size,N}o(ln,"stackDelete");function Pn(H){return this.__data__.get(H)}o(Pn,"stackGet");function Cn(H){return this.__data__.has(H)}o(Cn,"stackHas");function Tn(H,Y){var N=this.__data__;if(N instanceof qe){var me=N.__data__;if(!It||me.length<b-1)return me.push([H,Y]),this.size=++N.size,this;N=this.__data__=new vn(me)}return N.set(H,Y),this.size=N.size,this}o(Tn,"stackSet"),rn.prototype.clear=Jt,rn.prototype.delete=ln,rn.prototype.get=Pn,rn.prototype.has=Cn,rn.prototype.set=Tn;function Hn(H,Y){var N=jr(H),me=!N&&ta(H),$e=!N&&!me&&dr(H),Be=!N&&!me&&!$e&&jt(H),kt=N||me||$e||Be,Nt=kt?at(H.length,String):[],mn=Nt.length;for(var yn in H)(Y||p.call(H,yn))&&!(kt&&(yn=="length"||$e&&(yn=="offset"||yn=="parent")||Be&&(yn=="buffer"||yn=="byteLength"||yn=="byteOffset")||Wr(yn,mn)))&&Nt.push(yn);return Nt}o(Hn,"arrayLikeKeys");function er(H,Y){for(var N=H.length;N--;)if(ki(H[N][0],Y))return N;return-1}o(er,"assocIndexOf");function hn(H,Y,N){var me=Y(H);return jr(H)?me:Ct(me,N(H))}o(hn,"baseGetAllKeys");function Jn(H){return H==null?H===void 0?K:te:Ne&&Ne in Object(H)?oi(H):ba(H)}o(Jn,"baseGetTag");function Un(H){return ot(H)&&Jn(H)==A}o(Un,"baseIsArguments");function tr(H,Y,N,me,$e){return H===Y?!0:H==null||Y==null||!ot(H)&&!ot(Y)?H!==H&&Y!==Y:Wn(H,Y,N,me,tr,$e)}o(tr,"baseIsEqual");function Wn(H,Y,N,me,$e,Be){var kt=jr(H),Nt=jr(Y),mn=kt?h:fr(H),yn=Nt?h:fr(Y);mn=mn==A?M:mn,yn=yn==A?M:yn;var $n=mn==M,jn=yn==M,ir=mn==yn;if(ir&&dr(H)){if(!dr(Y))return!1;kt=!0,$n=!1}if(ir&&!$n)return Be||(Be=new rn),kt||jt(H)?cr(H,Y,N,me,$e,Be):kr(H,Y,mn,N,me,$e,Be);if(!(N&w)){var xr=$n&&p.call(H,"__wrapped__"),Pr=jn&&p.call(Y,"__wrapped__");if(xr||Pr){var li=xr?H.value():H,Jr=Pr?Y.value():Y;return Be||(Be=new rn),$e(li,Jr,N,me,Be)}}return ir?(Be||(Be=new rn),lr(H,Y,N,me,$e,Be)):!1}o(Wn,"baseIsEqualDeep");function an(H){if(!tt(H)||xa(H))return!1;var Y=we(H)?_e:q;return Y.test(Qr(H))}o(an,"baseIsNative");function rr(H){return ot(H)&&Qe(H.length)&&!!Re[Jn(H)]}o(rr,"baseIsTypedArray");function Xe(H){if(!ea(H))return gt(H);var Y=[];for(var N in Object(H))p.call(H,N)&&N!="constructor"&&Y.push(N);return Y}o(Xe,"baseKeys");function cr(H,Y,N,me,$e,Be){var kt=N&w,Nt=H.length,mn=Y.length;if(Nt!=mn&&!(kt&&mn>Nt))return!1;var yn=Be.get(H);if(yn&&Be.get(Y))return yn==Y;var $n=-1,jn=!0,ir=N&F?new Pt:void 0;for(Be.set(H,Y),Be.set(Y,H);++$n<Nt;){var xr=H[$n],Pr=Y[$n];if(me)var li=kt?me(Pr,xr,$n,Y,H,Be):me(xr,Pr,$n,H,Y,Be);if(li!==void 0){if(li)continue;jn=!1;break}if(ir){if(!Rt(Y,function(Jr,Oi){if(!Tt(ir,Oi)&&(xr===Jr||$e(xr,Jr,N,me,Be)))return ir.push(Oi)})){jn=!1;break}}else if(!(xr===Pr||$e(xr,Pr,N,me,Be))){jn=!1;break}}return Be.delete(H),Be.delete(Y),jn}o(cr,"equalArrays");function kr(H,Y,N,me,$e,Be,kt){switch(N){case ge:if(H.byteLength!=Y.byteLength||H.byteOffset!=Y.byteOffset)return!1;H=H.buffer,Y=Y.buffer;case de:return!(H.byteLength!=Y.byteLength||!Be(new sn(H),new sn(Y)));case x:case v:case Z:return ki(+H,+Y);case I:return H.name==Y.name&&H.message==Y.message;case D:case L:return H==Y+"";case B:var Nt=bt;case P:var mn=me&w;if(Nt||(Nt=Kt),H.size!=Y.size&&!mn)return!1;var yn=kt.get(H);if(yn)return yn==Y;me|=F,kt.set(H,Y);var $n=cr(Nt(H),Nt(Y),me,$e,Be,kt);return kt.delete(H),$n;case X:if(Ze)return Ze.call(H)==Ze.call(Y)}return!1}o(kr,"equalByTag");function lr(H,Y,N,me,$e,Be){var kt=N&w,Nt=Sr(H),mn=Nt.length,yn=Sr(Y),$n=yn.length;if(mn!=$n&&!kt)return!1;for(var jn=mn;jn--;){var ir=Nt[jn];if(!(kt?ir in Y:p.call(Y,ir)))return!1}var xr=Be.get(H);if(xr&&Be.get(Y))return xr==Y;var Pr=!0;Be.set(H,Y),Be.set(Y,H);for(var li=kt;++jn<mn;){ir=Nt[jn];var Jr=H[ir],Oi=Y[ir];if(me)var Os=kt?me(Oi,Jr,ir,Y,H,Be):me(Jr,Oi,ir,H,Y,Be);if(!(Os===void 0?Jr===Oi||$e(Jr,Oi,N,me,Be):Os)){Pr=!1;break}li||(li=ir=="constructor")}if(Pr&&!li){var Va=H.constructor,Ga=Y.constructor;Va!=Ga&&"constructor"in H&&"constructor"in Y&&!(typeof Va=="function"&&Va instanceof Va&&typeof Ga=="function"&&Ga instanceof Ga)&&(Pr=!1)}return Be.delete(H),Be.delete(Y),Pr}o(lr,"equalObjects");function Sr(H){return hn(H,Xt,Zr)}o(Sr,"getAllKeys");function Gr(H,Y){var N=H.__data__;return si(Y)?N[typeof Y=="string"?"string":"hash"]:N.map}o(Gr,"getMapData");function qn(H,Y){var N=ke(H,Y);return an(N)?N:void 0}o(qn,"getNative");function oi(H){var Y=p.call(H,Ne),N=H[Ne];try{H[Ne]=void 0;var me=!0}catch(Be){}var $e=ue.call(H);return me&&(Y?H[Ne]=N:delete H[Ne]),$e}o(oi,"getRawTag");var Zr=ze?function(H){return H==null?[]:(H=Object(H),rt(ze(H),function(Y){return Ve.call(H,Y)}))}:nn,fr=Jn;(dt&&fr(new dt(new ArrayBuffer(1)))!=ge||It&&fr(new It)!=B||qt&&fr(qt.resolve())!=$||Gt&&fr(new Gt)!=P||je&&fr(new je)!=ne)&&(fr=o(function(H){var Y=Jn(H),N=Y==M?H.constructor:void 0,me=N?Qr(N):"";if(me)switch(me){case et:return ge;case Ot:return B;case Et:return $;case pn:return P;case J:return ne}return Y},"getTag"));function Wr(H,Y){return Y=Y==null?W:Y,!!Y&&(typeof H=="number"||Te.test(H))&&H>-1&&H%1==0&&H<Y}o(Wr,"isIndex");function si(H){var Y=typeof H;return Y=="string"||Y=="number"||Y=="symbol"||Y=="boolean"?H!=="__proto__":H===null}o(si,"isKeyable");function xa(H){return!!V&&V in H}o(xa,"isMasked");function ea(H){var Y=H&&H.constructor,N=typeof Y=="function"&&Y.prototype||Rn;return H===N}o(ea,"isPrototype");function ba(H){return ue.call(H)}o(ba,"objectToString");function Qr(H){if(H!=null){try{return g.call(H)}catch(Y){}try{return H+""}catch(Y){}}return""}o(Qr,"toSource");function ki(H,Y){return H===Y||H!==H&&Y!==Y}o(ki,"eq");var ta=Un(function(){return arguments}())?Un:function(H){return ot(H)&&p.call(H,"callee")&&!Ve.call(H,"callee")},jr=Array.isArray;function Xr(H){return H!=null&&Qe(H.length)&&!we(H)}o(Xr,"isArrayLike");var dr=lt||gn;function Pi(H,Y){return tr(H,Y)}o(Pi,"isEqual");function we(H){if(!tt(H))return!1;var Y=Jn(H);return Y==R||Y==T||Y==_||Y==O}o(we,"isFunction");function Qe(H){return typeof H=="number"&&H>-1&&H%1==0&&H<=W}o(Qe,"isLength");function tt(H){var Y=typeof H;return H!=null&&(Y=="object"||Y=="function")}o(tt,"isObject");function ot(H){return H!=null&&typeof H=="object"}o(ot,"isObjectLike");var jt=He?Ut(He):rr;function Xt(H){return Xr(H)?Hn(H):Xe(H)}o(Xt,"keys");function nn(){return[]}o(nn,"stubArray");function gn(){return!1}o(gn,"stubFalse"),ae.exports=Pi},919:(ae,S,d)=>{"use strict";const b=d(6391),E=d(6232),w=d(6796),F=d(292),W=o(h=>h===""||h==="./","isEmptyString"),A=o((h,_,x)=>{_=[].concat(_),h=[].concat(h);let v=new Set,I=new Set,R=new Set,T=0,B=o(M=>{R.add(M.output),x&&x.onResult&&x.onResult(M)},"onResult");for(let M=0;M<_.length;M++){let $=w(String(_[M]),{...x,onResult:B},!0),O=$.state.negated||$.state.negatedExtglob;O&&T++;for(let D of h){let P=$(D,!0);!(O?!P.isMatch:P.isMatch)||(O?v.add(P.output):(v.delete(P.output),I.add(P.output)))}}let te=(T===_.length?[...R]:[...I]).filter(M=>!v.has(M));if(x&&te.length===0){if(x.failglob===!0)throw new Error(`No matches found for "${_.join(", ")}"`);if(x.nonull===!0||x.nullglob===!0)return x.unescape?_.map(M=>M.replace(/\\/g,"")):_}return te},"micromatch");A.match=A,A.matcher=(h,_)=>w(h,_),A.isMatch=(h,_,x)=>w(_,x)(h),A.any=A.isMatch,A.not=(h,_,x={})=>{_=[].concat(_).map(String);let v=new Set,I=[],R=o(B=>{x.onResult&&x.onResult(B),I.push(B.output)},"onResult"),T=new Set(A(h,_,{...x,onResult:R}));for(let B of I)T.has(B)||v.add(B);return[...v]},A.contains=(h,_,x)=>{if(typeof h!="string")throw new TypeError(`Expected a string: "${b.inspect(h)}"`);if(Array.isArray(_))return _.some(v=>A.contains(h,v,x));if(typeof _=="string"){if(W(h)||W(_))return!1;if(h.includes(_)||h.startsWith("./")&&h.slice(2).includes(_))return!0}return A.isMatch(h,_,{...x,contains:!0})},A.matchKeys=(h,_,x)=>{if(!F.isObject(h))throw new TypeError("Expected the first argument to be an object");let v=A(Object.keys(h),_,x),I={};for(let R of v)I[R]=h[R];return I},A.some=(h,_,x)=>{let v=[].concat(h);for(let I of[].concat(_)){let R=w(String(I),x);if(v.some(T=>R(T)))return!0}return!1},A.every=(h,_,x)=>{let v=[].concat(h);for(let I of[].concat(_)){let R=w(String(I),x);if(!v.every(T=>R(T)))return!1}return!0},A.all=(h,_,x)=>{if(typeof h!="string")throw new TypeError(`Expected a string: "${b.inspect(h)}"`);return[].concat(_).every(v=>w(v,x)(h))},A.capture=(h,_,x)=>{let v=F.isWindows(x),R=w.makeRe(String(h),{...x,capture:!0}).exec(v?F.toPosixSlashes(_):_);if(R)return R.slice(1).map(T=>T===void 0?"":T)},A.makeRe=(...h)=>w.makeRe(...h),A.scan=(...h)=>w.scan(...h),A.parse=(h,_)=>{let x=[];for(let v of[].concat(h||[]))for(let I of E(String(v),_))x.push(w.parse(I,_));return x},A.braces=(h,_)=>{if(typeof h!="string")throw new TypeError("Expected a string");return _&&_.nobrace===!0||!/\{.*\}/.test(h)?[h]:E(h,_)},A.braceExpand=(h,_)=>{if(typeof h!="string")throw new TypeError("Expected a string");return A.braces(h,{..._,expand:!0})},ae.exports=A},6796:(ae,S,d)=>{"use strict";ae.exports=d(5761)},3889:(ae,S,d)=>{"use strict";const b=d(6470),E="\\\\/",w=`[^${E}]`,F="\\.",W="\\+",A="\\?",h="\\/",_="(?=.)",x="[^/]",v=`(?:${h}|$)`,I=`(?:^|${h})`,R=`${F}{1,2}${v}`,T=`(?!${F})`,B=`(?!${I}${R})`,Z=`(?!${F}{0,1}${v})`,te=`(?!${R})`,M=`[^.${h}]`,$=`${x}*?`,O={DOT_LITERAL:F,PLUS_LITERAL:W,QMARK_LITERAL:A,SLASH_LITERAL:h,ONE_CHAR:_,QMARK:x,END_ANCHOR:v,DOTS_SLASH:R,NO_DOT:T,NO_DOTS:B,NO_DOT_SLASH:Z,NO_DOTS_SLASH:te,QMARK_NO_DOT:M,STAR:$,START_ANCHOR:I},D={...O,SLASH_LITERAL:`[${E}]`,QMARK:w,STAR:`${w}*?`,DOTS_SLASH:`${F}{1,2}(?:[${E}]|$)`,NO_DOT:`(?!${F})`,NO_DOTS:`(?!(?:^|[${E}])${F}{1,2}(?:[${E}]|$))`,NO_DOT_SLASH:`(?!${F}{0,1}(?:[${E}]|$))`,NO_DOTS_SLASH:`(?!${F}{1,2}(?:[${E}]|$))`,QMARK_NO_DOT:`[^.${E}]`,START_ANCHOR:`(?:^|[${E}])`,END_ANCHOR:`(?:[${E}]|$)`},P={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};ae.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:P,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:b.sep,extglobChars(L){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${L.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(L){return L===!0?D:O}}},3969:(ae,S,d)=>{"use strict";const b=d(3889),E=d(292),{MAX_LENGTH:w,POSIX_REGEX_SOURCE:F,REGEX_NON_SPECIAL_CHARS:W,REGEX_SPECIAL_CHARS_BACKREF:A,REPLACEMENTS:h}=b,_=o((I,R)=>{if(typeof R.expandRange=="function")return R.expandRange(...I,R);I.sort();const T=`[${I.join("-")}]`;try{new RegExp(T)}catch(B){return I.map(Z=>E.escapeRegex(Z)).join("..")}return T},"expandRange"),x=o((I,R)=>`Missing ${I}: "${R}" - use "\\\\${R}" to match literal characters`,"syntaxError"),v=o((I,R)=>{if(typeof I!="string")throw new TypeError("Expected a string");I=h[I]||I;const T={...R},B=typeof T.maxLength=="number"?Math.min(w,T.maxLength):w;let Z=I.length;if(Z>B)throw new SyntaxError(`Input length: ${Z}, exceeds maximum allowed length: ${B}`);const te={type:"bos",value:"",output:T.prepend||""},M=[te],$=T.capture?"":"?:",O=E.isWindows(R),D=b.globChars(O),P=b.extglobChars(D),{DOT_LITERAL:L,PLUS_LITERAL:X,SLASH_LITERAL:K,ONE_CHAR:ne,DOTS_SLASH:de,NO_DOT:ge,NO_DOT_SLASH:ie,NO_DOTS_SLASH:xe,QMARK:U,QMARK_NO_DOT:he,STAR:oe,START_ANCHOR:pe}=D,Ee=o(ke=>`(${$}(?:(?!${pe}${ke.dot?de:L}).)*?)`,"globstar"),Ie=T.dot?"":ge,mt=T.dot?U:he;let Ye=T.bash===!0?Ee(T):oe;T.capture&&(Ye=`(${Ye})`),typeof T.noext=="boolean"&&(T.noextglob=T.noext);const q={input:I,index:-1,start:0,dot:T.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:M};I=E.removePrefix(I,q),Z=I.length;const Te=[],Re=[],nt=[];let ve=te,ee;const ye=o(()=>q.index===Z-1,"eos"),Ce=q.peek=(ke=1)=>I[q.index+ke],ce=q.advance=()=>I[++q.index]||"",Fe=o(()=>I.slice(q.index+1),"remaining"),Ae=o((ke="",bt=0)=>{q.consumed+=ke,q.index+=bt},"consume"),He=o(ke=>{q.output+=ke.output!=null?ke.output:ke.value,Ae(ke.value)},"append"),rt=o(()=>{let ke=1;for(;Ce()==="!"&&(Ce(2)!=="("||Ce(3)==="?");)ce(),q.start++,ke++;return ke%2==0?!1:(q.negated=!0,q.start++,!0)},"negate"),Ct=o(ke=>{q[ke]++,nt.push(ke)},"increment"),Rt=o(ke=>{q[ke]--,nt.pop()},"decrement"),at=o(ke=>{if(ve.type==="globstar"){const bt=q.braces>0&&(ke.type==="comma"||ke.type==="brace"),se=ke.extglob===!0||Te.length&&(ke.type==="pipe"||ke.type==="paren");ke.type!=="slash"&&ke.type!=="paren"&&!bt&&!se&&(q.output=q.output.slice(0,-ve.output.length),ve.type="star",ve.value="*",ve.output=Ye,q.output+=ve.output)}if(Te.length&&ke.type!=="paren"&&(Te[Te.length-1].inner+=ke.value),(ke.value||ke.output)&&He(ke),ve&&ve.type==="text"&&ke.type==="text"){ve.value+=ke.value,ve.output=(ve.output||"")+ke.value;return}ke.prev=ve,M.push(ke),ve=ke},"push"),Ut=o((ke,bt)=>{const se={...P[bt],conditions:1,inner:""};se.prev=ve,se.parens=q.parens,se.output=q.output;const Kt=(T.capture?"(":"")+se.open;Ct("parens"),at({type:ke,value:bt,output:q.output?"":ne}),at({type:"paren",extglob:!0,value:ce(),output:Kt}),Te.push(se)},"extglobOpen"),Tt=o(ke=>{let bt=ke.close+(T.capture?")":""),se;if(ke.type==="negate"){let Kt=Ye;if(ke.inner&&ke.inner.length>1&&ke.inner.includes("/")&&(Kt=Ee(T)),(Kt!==Ye||ye()||/^\)+$/.test(Fe()))&&(bt=ke.close=`)$))${Kt}`),ke.inner.includes("*")&&(se=Fe())&&/^\.[^\\/.]+$/.test(se)){const cn=v(se,{...R,fastpaths:!1}).output;bt=ke.close=`)${cn})${Kt})`}ke.prev.type==="bos"&&(q.negatedExtglob=!0)}at({type:"paren",extglob:!0,value:ee,output:bt}),Rt("parens")},"extglobClose");if(T.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(I)){let ke=!1,bt=I.replace(A,(se,Kt,cn,xn,Rn,k)=>xn==="\\"?(ke=!0,se):xn==="?"?Kt?Kt+xn+(Rn?U.repeat(Rn.length):""):k===0?mt+(Rn?U.repeat(Rn.length):""):U.repeat(cn.length):xn==="."?L.repeat(cn.length):xn==="*"?Kt?Kt+xn+(Rn?Ye:""):Ye:Kt?se:`\\${se}`);return ke===!0&&(T.unescape===!0?bt=bt.replace(/\\/g,""):bt=bt.replace(/\\+/g,se=>se.length%2==0?"\\\\":se?"\\":"")),bt===I&&T.contains===!0?(q.output=I,q):(q.output=E.wrapOutput(bt,q,R),q)}for(;!ye();){if(ee=ce(),ee==="\0")continue;if(ee==="\\"){const se=Ce();if(se==="/"&&T.bash!==!0||se==="."||se===";")continue;if(!se){ee+="\\",at({type:"text",value:ee});continue}const Kt=/^\\+/.exec(Fe());let cn=0;if(Kt&&Kt[0].length>2&&(cn=Kt[0].length,q.index+=cn,cn%2!=0&&(ee+="\\")),T.unescape===!0?ee=ce():ee+=ce(),q.brackets===0){at({type:"text",value:ee});continue}}if(q.brackets>0&&(ee!=="]"||ve.value==="["||ve.value==="[^")){if(T.posix!==!1&&ee===":"){const se=ve.value.slice(1);if(se.includes("[")&&(ve.posix=!0,se.includes(":"))){const Kt=ve.value.lastIndexOf("["),cn=ve.value.slice(0,Kt),xn=ve.value.slice(Kt+2),Rn=F[xn];if(Rn){ve.value=cn+Rn,q.backtrack=!0,ce(),!te.output&&M.indexOf(ve)===1&&(te.output=ne);continue}}}(ee==="["&&Ce()!==":"||ee==="-"&&Ce()==="]")&&(ee=`\\${ee}`),ee==="]"&&(ve.value==="["||ve.value==="[^")&&(ee=`\\${ee}`),T.posix===!0&&ee==="!"&&ve.value==="["&&(ee="^"),ve.value+=ee,He({value:ee});continue}if(q.quotes===1&&ee!=='"'){ee=E.escapeRegex(ee),ve.value+=ee,He({value:ee});continue}if(ee==='"'){q.quotes=q.quotes===1?0:1,T.keepQuotes===!0&&at({type:"text",value:ee});continue}if(ee==="("){Ct("parens"),at({type:"paren",value:ee});continue}if(ee===")"){if(q.parens===0&&T.strictBrackets===!0)throw new SyntaxError(x("opening","("));const se=Te[Te.length-1];if(se&&q.parens===se.parens+1){Tt(Te.pop());continue}at({type:"paren",value:ee,output:q.parens?")":"\\)"}),Rt("parens");continue}if(ee==="["){if(T.nobracket===!0||!Fe().includes("]")){if(T.nobracket!==!0&&T.strictBrackets===!0)throw new SyntaxError(x("closing","]"));ee=`\\${ee}`}else Ct("brackets");at({type:"bracket",value:ee});continue}if(ee==="]"){if(T.nobracket===!0||ve&&ve.type==="bracket"&&ve.value.length===1){at({type:"text",value:ee,output:`\\${ee}`});continue}if(q.brackets===0){if(T.strictBrackets===!0)throw new SyntaxError(x("opening","["));at({type:"text",value:ee,output:`\\${ee}`});continue}Rt("brackets");const se=ve.value.slice(1);if(ve.posix!==!0&&se[0]==="^"&&!se.includes("/")&&(ee=`/${ee}`),ve.value+=ee,He({value:ee}),T.literalBrackets===!1||E.hasRegexChars(se))continue;const Kt=E.escapeRegex(ve.value);if(q.output=q.output.slice(0,-ve.value.length),T.literalBrackets===!0){q.output+=Kt,ve.value=Kt;continue}ve.value=`(${$}${Kt}|${ve.value})`,q.output+=ve.value;continue}if(ee==="{"&&T.nobrace!==!0){Ct("braces");const se={type:"brace",value:ee,output:"(",outputIndex:q.output.length,tokensIndex:q.tokens.length};Re.push(se),at(se);continue}if(ee==="}"){const se=Re[Re.length-1];if(T.nobrace===!0||!se){at({type:"text",value:ee,output:ee});continue}let Kt=")";if(se.dots===!0){const cn=M.slice(),xn=[];for(let Rn=cn.length-1;Rn>=0&&(M.pop(),cn[Rn].type!=="brace");Rn--)cn[Rn].type!=="dots"&&xn.unshift(cn[Rn].value);Kt=_(xn,T),q.backtrack=!0}if(se.comma!==!0&&se.dots!==!0){const cn=q.output.slice(0,se.outputIndex),xn=q.tokens.slice(se.tokensIndex);se.value=se.output="\\{",ee=Kt="\\}",q.output=cn;for(const Rn of xn)q.output+=Rn.output||Rn.value}at({type:"brace",value:ee,output:Kt}),Rt("braces"),Re.pop();continue}if(ee==="|"){Te.length>0&&Te[Te.length-1].conditions++,at({type:"text",value:ee});continue}if(ee===","){let se=ee;const Kt=Re[Re.length-1];Kt&&nt[nt.length-1]==="braces"&&(Kt.comma=!0,se="|"),at({type:"comma",value:ee,output:se});continue}if(ee==="/"){if(ve.type==="dot"&&q.index===q.start+1){q.start=q.index+1,q.consumed="",q.output="",M.pop(),ve=te;continue}at({type:"slash",value:ee,output:K});continue}if(ee==="."){if(q.braces>0&&ve.type==="dot"){ve.value==="."&&(ve.output=L);const se=Re[Re.length-1];ve.type="dots",ve.output+=ee,ve.value+=ee,se.dots=!0;continue}if(q.braces+q.parens===0&&ve.type!=="bos"&&ve.type!=="slash"){at({type:"text",value:ee,output:L});continue}at({type:"dot",value:ee,output:L});continue}if(ee==="?"){if(!(ve&&ve.value==="(")&&T.noextglob!==!0&&Ce()==="("&&Ce(2)!=="?"){Ut("qmark",ee);continue}if(ve&&ve.type==="paren"){const Kt=Ce();let cn=ee;if(Kt==="<"&&!E.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(ve.value==="("&&!/[!=<:]/.test(Kt)||Kt==="<"&&!/<([!=]|\w+>)/.test(Fe()))&&(cn=`\\${ee}`),at({type:"text",value:ee,output:cn});continue}if(T.dot!==!0&&(ve.type==="slash"||ve.type==="bos")){at({type:"qmark",value:ee,output:he});continue}at({type:"qmark",value:ee,output:U});continue}if(ee==="!"){if(T.noextglob!==!0&&Ce()==="("&&(Ce(2)!=="?"||!/[!=<:]/.test(Ce(3)))){Ut("negate",ee);continue}if(T.nonegate!==!0&&q.index===0){rt();continue}}if(ee==="+"){if(T.noextglob!==!0&&Ce()==="("&&Ce(2)!=="?"){Ut("plus",ee);continue}if(ve&&ve.value==="("||T.regex===!1){at({type:"plus",value:ee,output:X});continue}if(ve&&(ve.type==="bracket"||ve.type==="paren"||ve.type==="brace")||q.parens>0){at({type:"plus",value:ee});continue}at({type:"plus",value:X});continue}if(ee==="@"){if(T.noextglob!==!0&&Ce()==="("&&Ce(2)!=="?"){at({type:"at",extglob:!0,value:ee,output:""});continue}at({type:"text",value:ee});continue}if(ee!=="*"){(ee==="$"||ee==="^")&&(ee=`\\${ee}`);const se=W.exec(Fe());se&&(ee+=se[0],q.index+=se[0].length),at({type:"text",value:ee});continue}if(ve&&(ve.type==="globstar"||ve.star===!0)){ve.type="star",ve.star=!0,ve.value+=ee,ve.output=Ye,q.backtrack=!0,q.globstar=!0,Ae(ee);continue}let ke=Fe();if(T.noextglob!==!0&&/^\([^?]/.test(ke)){Ut("star",ee);continue}if(ve.type==="star"){if(T.noglobstar===!0){Ae(ee);continue}const se=ve.prev,Kt=se.prev,cn=se.type==="slash"||se.type==="bos",xn=Kt&&(Kt.type==="star"||Kt.type==="globstar");if(T.bash===!0&&(!cn||ke[0]&&ke[0]!=="/")){at({type:"star",value:ee,output:""});continue}const Rn=q.braces>0&&(se.type==="comma"||se.type==="brace"),k=Te.length&&(se.type==="pipe"||se.type==="paren");if(!cn&&se.type!=="paren"&&!Rn&&!k){at({type:"star",value:ee,output:""});continue}for(;ke.slice(0,3)==="/**";){const g=I[q.index+4];if(g&&g!=="/")break;ke=ke.slice(3),Ae("/**",3)}if(se.type==="bos"&&ye()){ve.type="globstar",ve.value+=ee,ve.output=Ee(T),q.output=ve.output,q.globstar=!0,Ae(ee);continue}if(se.type==="slash"&&se.prev.type!=="bos"&&!xn&&ye()){q.output=q.output.slice(0,-(se.output+ve.output).length),se.output=`(?:${se.output}`,ve.type="globstar",ve.output=Ee(T)+(T.strictSlashes?")":"|$)"),ve.value+=ee,q.globstar=!0,q.output+=se.output+ve.output,Ae(ee);continue}if(se.type==="slash"&&se.prev.type!=="bos"&&ke[0]==="/"){const g=ke[1]!==void 0?"|$":"";q.output=q.output.slice(0,-(se.output+ve.output).length),se.output=`(?:${se.output}`,ve.type="globstar",ve.output=`${Ee(T)}${K}|${K}${g})`,ve.value+=ee,q.output+=se.output+ve.output,q.globstar=!0,Ae(ee+ce()),at({type:"slash",value:"/",output:""});continue}if(se.type==="bos"&&ke[0]==="/"){ve.type="globstar",ve.value+=ee,ve.output=`(?:^|${K}|${Ee(T)}${K})`,q.output=ve.output,q.globstar=!0,Ae(ee+ce()),at({type:"slash",value:"/",output:""});continue}q.output=q.output.slice(0,-ve.output.length),ve.type="globstar",ve.output=Ee(T),ve.value+=ee,q.output+=ve.output,q.globstar=!0,Ae(ee);continue}const bt={type:"star",value:ee,output:Ye};if(T.bash===!0){bt.output=".*?",(ve.type==="bos"||ve.type==="slash")&&(bt.output=Ie+bt.output),at(bt);continue}if(ve&&(ve.type==="bracket"||ve.type==="paren")&&T.regex===!0){bt.output=ee,at(bt);continue}(q.index===q.start||ve.type==="slash"||ve.type==="dot")&&(ve.type==="dot"?(q.output+=ie,ve.output+=ie):T.dot===!0?(q.output+=xe,ve.output+=xe):(q.output+=Ie,ve.output+=Ie),Ce()!=="*"&&(q.output+=ne,ve.output+=ne)),at(bt)}for(;q.brackets>0;){if(T.strictBrackets===!0)throw new SyntaxError(x("closing","]"));q.output=E.escapeLast(q.output,"["),Rt("brackets")}for(;q.parens>0;){if(T.strictBrackets===!0)throw new SyntaxError(x("closing",")"));q.output=E.escapeLast(q.output,"("),Rt("parens")}for(;q.braces>0;){if(T.strictBrackets===!0)throw new SyntaxError(x("closing","}"));q.output=E.escapeLast(q.output,"{"),Rt("braces")}if(T.strictSlashes!==!0&&(ve.type==="star"||ve.type==="bracket")&&at({type:"maybe_slash",value:"",output:`${K}?`}),q.backtrack===!0){q.output="";for(const ke of q.tokens)q.output+=ke.output!=null?ke.output:ke.value,ke.suffix&&(q.output+=ke.suffix)}return q},"parse");v.fastpaths=(I,R)=>{const T={...R},B=typeof T.maxLength=="number"?Math.min(w,T.maxLength):w,Z=I.length;if(Z>B)throw new SyntaxError(`Input length: ${Z}, exceeds maximum allowed length: ${B}`);I=h[I]||I;const te=E.isWindows(R),{DOT_LITERAL:M,SLASH_LITERAL:$,ONE_CHAR:O,DOTS_SLASH:D,NO_DOT:P,NO_DOTS:L,NO_DOTS_SLASH:X,STAR:K,START_ANCHOR:ne}=b.globChars(te),de=T.dot?L:P,ge=T.dot?X:P,ie=T.capture?"":"?:",xe={negated:!1,prefix:""};let U=T.bash===!0?".*?":K;T.capture&&(U=`(${U})`);const he=o(Ie=>Ie.noglobstar===!0?U:`(${ie}(?:(?!${ne}${Ie.dot?D:M}).)*?)`,"globstar"),oe=o(Ie=>{switch(Ie){case"*":return`${de}${O}${U}`;case".*":return`${M}${O}${U}`;case"*.*":return`${de}${U}${M}${O}${U}`;case"*/*":return`${de}${U}${$}${O}${ge}${U}`;case"**":return de+he(T);case"**/*":return`(?:${de}${he(T)}${$})?${ge}${O}${U}`;case"**/*.*":return`(?:${de}${he(T)}${$})?${ge}${U}${M}${O}${U}`;case"**/.*":return`(?:${de}${he(T)}${$})?${M}${O}${U}`;default:{const mt=/^(.*?)\.(\w+)$/.exec(Ie);if(!mt)return;const Ye=oe(mt[1]);return Ye?Ye+M+mt[2]:void 0}}},"create"),pe=E.removePrefix(I,xe);let Ee=oe(pe);return Ee&&T.strictSlashes!==!0&&(Ee+=`${$}?`),Ee},ae.exports=v},5761:(ae,S,d)=>{"use strict";const b=d(6470),E=d(9826),w=d(3969),F=d(292),W=d(3889),A=o(_=>_&&typeof _=="object"&&!Array.isArray(_),"isObject"),h=o((_,x,v=!1)=>{if(Array.isArray(_)){const $=_.map(D=>h(D,x,v));return o(D=>{for(const P of $){const L=P(D);if(L)return L}return!1},"arrayMatcher")}const I=A(_)&&_.tokens&&_.input;if(_===""||typeof _!="string"&&!I)throw new TypeError("Expected pattern to be a non-empty string");const R=x||{},T=F.isWindows(x),B=I?h.compileRe(_,x):h.makeRe(_,x,!1,!0),Z=B.state;delete B.state;let te=o(()=>!1,"isIgnored");if(R.ignore){const $={...x,ignore:null,onMatch:null,onResult:null};te=h(R.ignore,$,v)}const M=o(($,O=!1)=>{const{isMatch:D,match:P,output:L}=h.test($,B,x,{glob:_,posix:T}),X={glob:_,state:Z,regex:B,posix:T,input:$,output:L,match:P,isMatch:D};return typeof R.onResult=="function"&&R.onResult(X),D===!1?(X.isMatch=!1,O?X:!1):te($)?(typeof R.onIgnore=="function"&&R.onIgnore(X),X.isMatch=!1,O?X:!1):(typeof R.onMatch=="function"&&R.onMatch(X),O?X:!0)},"matcher");return v&&(M.state=Z),M},"picomatch");h.test=(_,x,v,{glob:I,posix:R}={})=>{if(typeof _!="string")throw new TypeError("Expected input to be a string");if(_==="")return{isMatch:!1,output:""};const T=v||{},B=T.format||(R?F.toPosixSlashes:null);let Z=_===I,te=Z&&B?B(_):_;return Z===!1&&(te=B?B(_):_,Z=te===I),(Z===!1||T.capture===!0)&&(T.matchBase===!0||T.basename===!0?Z=h.matchBase(_,x,v,R):Z=x.exec(te)),{isMatch:Boolean(Z),match:Z,output:te}},h.matchBase=(_,x,v,I=F.isWindows(v))=>(x instanceof RegExp?x:h.makeRe(x,v)).test(b.basename(_)),h.isMatch=(_,x,v)=>h(x,v)(_),h.parse=(_,x)=>Array.isArray(_)?_.map(v=>h.parse(v,x)):w(_,{...x,fastpaths:!1}),h.scan=(_,x)=>E(_,x),h.compileRe=(_,x,v=!1,I=!1)=>{if(v===!0)return _.output;const R=x||{},T=R.contains?"":"^",B=R.contains?"":"$";let Z=`${T}(?:${_.output})${B}`;_&&_.negated===!0&&(Z=`^(?!${Z}).*$`);const te=h.toRegex(Z,x);return I===!0&&(te.state=_),te},h.makeRe=(_,x={},v=!1,I=!1)=>{if(!_||typeof _!="string")throw new TypeError("Expected a non-empty string");let R={negated:!1,fastpaths:!0};return x.fastpaths!==!1&&(_[0]==="."||_[0]==="*")&&(R.output=w.fastpaths(_,x)),R.output||(R=w(_,x)),h.compileRe(R,x,v,I)},h.toRegex=(_,x)=>{try{const v=x||{};return new RegExp(_,v.flags||(v.nocase?"i":""))}catch(v){if(x&&x.debug===!0)throw v;return/$^/}},h.constants=W,ae.exports=h},9826:(ae,S,d)=>{"use strict";const b=d(292),{CHAR_ASTERISK:E,CHAR_AT:w,CHAR_BACKWARD_SLASH:F,CHAR_COMMA:W,CHAR_DOT:A,CHAR_EXCLAMATION_MARK:h,CHAR_FORWARD_SLASH:_,CHAR_LEFT_CURLY_BRACE:x,CHAR_LEFT_PARENTHESES:v,CHAR_LEFT_SQUARE_BRACKET:I,CHAR_PLUS:R,CHAR_QUESTION_MARK:T,CHAR_RIGHT_CURLY_BRACE:B,CHAR_RIGHT_PARENTHESES:Z,CHAR_RIGHT_SQUARE_BRACKET:te}=d(3889),M=o(D=>D===_||D===F,"isPathSeparator"),$=o(D=>{D.isPrefix!==!0&&(D.depth=D.isGlobstar?1/0:1)},"depth"),O=o((D,P)=>{const L=P||{},X=D.length-1,K=L.parts===!0||L.scanToEnd===!0,ne=[],de=[],ge=[];let ie=D,xe=-1,U=0,he=0,oe=!1,pe=!1,Ee=!1,Ie=!1,mt=!1,Ye=!1,q=!1,Te=!1,Re=!1,nt=!1,ve=0,ee,ye,Ce={value:"",depth:0,isGlob:!1};const ce=o(()=>xe>=X,"eos"),Fe=o(()=>ie.charCodeAt(xe+1),"peek"),Ae=o(()=>(ee=ye,ie.charCodeAt(++xe)),"advance");for(;xe<X;){ye=Ae();let at;if(ye===F){q=Ce.backslashes=!0,ye=Ae(),ye===x&&(Ye=!0);continue}if(Ye===!0||ye===x){for(ve++;ce()!==!0&&(ye=Ae());){if(ye===F){q=Ce.backslashes=!0,Ae();continue}if(ye===x){ve++;continue}if(Ye!==!0&&ye===A&&(ye=Ae())===A){if(oe=Ce.isBrace=!0,Ee=Ce.isGlob=!0,nt=!0,K===!0)continue;break}if(Ye!==!0&&ye===W){if(oe=Ce.isBrace=!0,Ee=Ce.isGlob=!0,nt=!0,K===!0)continue;break}if(ye===B&&(ve--,ve===0)){Ye=!1,oe=Ce.isBrace=!0,nt=!0;break}}if(K===!0)continue;break}if(ye===_){if(ne.push(xe),de.push(Ce),Ce={value:"",depth:0,isGlob:!1},nt===!0)continue;if(ee===A&&xe===U+1){U+=2;continue}he=xe+1;continue}if(L.noext!==!0&&(ye===R||ye===w||ye===E||ye===T||ye===h)===!0&&Fe()===v){if(Ee=Ce.isGlob=!0,Ie=Ce.isExtglob=!0,nt=!0,ye===h&&xe===U&&(Re=!0),K===!0){for(;ce()!==!0&&(ye=Ae());){if(ye===F){q=Ce.backslashes=!0,ye=Ae();continue}if(ye===Z){Ee=Ce.isGlob=!0,nt=!0;break}}continue}break}if(ye===E){if(ee===E&&(mt=Ce.isGlobstar=!0),Ee=Ce.isGlob=!0,nt=!0,K===!0)continue;break}if(ye===T){if(Ee=Ce.isGlob=!0,nt=!0,K===!0)continue;break}if(ye===I){for(;ce()!==!0&&(at=Ae());){if(at===F){q=Ce.backslashes=!0,Ae();continue}if(at===te){pe=Ce.isBracket=!0,Ee=Ce.isGlob=!0,nt=!0;break}}if(K===!0)continue;break}if(L.nonegate!==!0&&ye===h&&xe===U){Te=Ce.negated=!0,U++;continue}if(L.noparen!==!0&&ye===v){if(Ee=Ce.isGlob=!0,K===!0){for(;ce()!==!0&&(ye=Ae());){if(ye===v){q=Ce.backslashes=!0,ye=Ae();continue}if(ye===Z){nt=!0;break}}continue}break}if(Ee===!0){if(nt=!0,K===!0)continue;break}}L.noext===!0&&(Ie=!1,Ee=!1);let He=ie,rt="",Ct="";U>0&&(rt=ie.slice(0,U),ie=ie.slice(U),he-=U),He&&Ee===!0&&he>0?(He=ie.slice(0,he),Ct=ie.slice(he)):Ee===!0?(He="",Ct=ie):He=ie,He&&He!==""&&He!=="/"&&He!==ie&&M(He.charCodeAt(He.length-1))&&(He=He.slice(0,-1)),L.unescape===!0&&(Ct&&(Ct=b.removeBackslashes(Ct)),He&&q===!0&&(He=b.removeBackslashes(He)));const Rt={prefix:rt,input:D,start:U,base:He,glob:Ct,isBrace:oe,isBracket:pe,isGlob:Ee,isExtglob:Ie,isGlobstar:mt,negated:Te,negatedExtglob:Re};if(L.tokens===!0&&(Rt.maxDepth=0,M(ye)||de.push(Ce),Rt.tokens=de),L.parts===!0||L.tokens===!0){let at;for(let Ut=0;Ut<ne.length;Ut++){const Tt=at?at+1:U,ke=ne[Ut],bt=D.slice(Tt,ke);L.tokens&&(Ut===0&&U!==0?(de[Ut].isPrefix=!0,de[Ut].value=rt):de[Ut].value=bt,$(de[Ut]),Rt.maxDepth+=de[Ut].depth),(Ut!==0||bt!=="")&&ge.push(bt),at=ke}if(at&&at+1<D.length){const Ut=D.slice(at+1);ge.push(Ut),L.tokens&&(de[de.length-1].value=Ut,$(de[de.length-1]),Rt.maxDepth+=de[de.length-1].depth)}Rt.slashes=ne,Rt.parts=ge}return Rt},"scan");ae.exports=O},292:(ae,S,d)=>{"use strict";var b=d(6038);const E=d(6470),w=b.platform==="win32",{REGEX_BACKSLASH:F,REGEX_REMOVE_BACKSLASH:W,REGEX_SPECIAL_CHARS:A,REGEX_SPECIAL_CHARS_GLOBAL:h}=d(3889);S.isObject=_=>_!==null&&typeof _=="object"&&!Array.isArray(_),S.hasRegexChars=_=>A.test(_),S.isRegexChar=_=>_.length===1&&S.hasRegexChars(_),S.escapeRegex=_=>_.replace(h,"\\$1"),S.toPosixSlashes=_=>_.replace(F,"/"),S.removeBackslashes=_=>_.replace(W,x=>x==="\\"?"":x),S.supportsLookbehinds=()=>{const _=b.version.slice(1).split(".").map(Number);return _.length===3&&_[0]>=9||_[0]===8&&_[1]>=10},S.isWindows=_=>_&&typeof _.windows=="boolean"?_.windows:w===!0||E.sep==="\\",S.escapeLast=(_,x,v)=>{const I=_.lastIndexOf(x,v);return I===-1?_:_[I-1]==="\\"?S.escapeLast(_,x,I-1):`${_.slice(0,I)}\\${_.slice(I)}`},S.removePrefix=(_,x={})=>{let v=_;return v.startsWith("./")&&(v=v.slice(2),x.prefix="./"),v},S.wrapOutput=(_,x={},v={})=>{const I=v.contains?"":"^",R=v.contains?"":"$";let T=`${I}(?:${_})${R}`;return x.negated===!0&&(T=`(?:^(?!${T}).*$)`),T}},6038:ae=>{var S=ae.exports={},d,b;function E(){throw new Error("setTimeout has not been defined")}o(E,"defaultSetTimout");function w(){throw new Error("clearTimeout has not been defined")}o(w,"defaultClearTimeout"),function(){try{typeof setTimeout=="function"?d=setTimeout:d=E}catch(B){d=E}try{typeof clearTimeout=="function"?b=clearTimeout:b=w}catch(B){b=w}}();function F(B){if(d===setTimeout)return setTimeout(B,0);if((d===E||!d)&&setTimeout)return d=setTimeout,setTimeout(B,0);try{return d(B,0)}catch(Z){try{return d.call(null,B,0)}catch(te){return d.call(this,B,0)}}}o(F,"runTimeout");function W(B){if(b===clearTimeout)return clearTimeout(B);if((b===w||!b)&&clearTimeout)return b=clearTimeout,clearTimeout(B);try{return b(B)}catch(Z){try{return b.call(null,B)}catch(te){return b.call(this,B)}}}o(W,"runClearTimeout");var A=[],h=!1,_,x=-1;function v(){!h||!_||(h=!1,_.length?A=_.concat(A):x=-1,A.length&&I())}o(v,"cleanUpNextTick");function I(){if(!h){var B=F(v);h=!0;for(var Z=A.length;Z;){for(_=A,A=[];++x<Z;)_&&_[x].run();x=-1,Z=A.length}_=null,h=!1,W(B)}}o(I,"drainQueue"),S.nextTick=function(B){var Z=new Array(arguments.length-1);if(arguments.length>1)for(var te=1;te<arguments.length;te++)Z[te-1]=arguments[te];A.push(new R(B,Z)),A.length===1&&!h&&F(I)};function R(B,Z){this.fun=B,this.array=Z}o(R,"Item"),R.prototype.run=function(){this.fun.apply(null,this.array)},S.title="browser",S.browser=!0,S.env={},S.argv=[],S.version="",S.versions={};function T(){}o(T,"noop"),S.on=T,S.addListener=T,S.once=T,S.off=T,S.removeListener=T,S.removeAllListeners=T,S.emit=T,S.prependListener=T,S.prependOnceListener=T,S.listeners=function(B){return[]},S.binding=function(B){throw new Error("process.binding is not supported")},S.cwd=function(){return"/"},S.chdir=function(B){throw new Error("process.chdir is not supported")},S.umask=function(){return 0}},5431:(ae,S,d)=>{"use strict";ae.exports=d(7905)},7905:(ae,S,d)=>{"use strict";var b=d(1417);function E(){return!0}o(E,"_toTrue");function w(){return!1}o(w,"_toFalse");function F(Z){return Z.then(E,w)}o(F,"pSuccess");function W(Z){return Z}o(W,"_pass");function A(Z){throw Z}o(A,"_throw");function h(Z){return Z.then(W,A)}o(h,"ensurePromise");function _(Z,te){return{result:Z,args:te,expire_id:0,prefetch_id:0,need_prefetch:!1}}o(_,"createCacheObj");function x(Z,te){!Z[te]||(clearTimeout(Z[te].expire_id),clearTimeout(Z[te].prefetch_id),delete Z[te])}o(x,"destroyCacheObj");function v(Z,te){!Z[te]||(Z[te].need_prefetch=!0)}o(v,"askPrefetch");function I(Z){var te=Z[0],M=Z[1],$=Z[2],O=Z[3];if(!!M[$]){if(te){if(!O.maxAge)return;M[$].expire_id=setTimeout(x,O.maxAge,M,$),M[$].prefetch_id=setTimeout(v,O.maxAge*.7,M,$),M[$].expire_id.unref&&M[$].expire_id.unref(),M[$].prefetch_id.unref&&M[$].prefetch_id.unref();return}if(!O.maxErrorAge){x(M,$);return}M[$].expire_id=setTimeout(x,O.maxErrorAge,M,$),M[$].expire_id.unref&&M[$].expire_id.unref()}}o(I,"_track_proceed");function R(Z,te,M){var $=Z[te].result.constructor;$.all([F(Z[te].result),Z,te,M]).then(I)}o(R,"trackCacheObj");function T(Z){var te=Z[0],M=Z[1],$=Z[2],O=Z[3],D=Z[4][0];!M[$]||!te||(M[$].result=D,clearTimeout(M[$].expire_id),R(M,$,O))}o(T,"_prefetch_proceed");function B(Z,te,M){var $=h(M.fn.apply(null,Z[te].args)),O=$.constructor;Z[te].need_prefetch=!1,O.all([F($),Z,te,M,[$]]).then(T)}o(B,"doPrefetch"),ae.exports=o(function(te,M){var $={},O=M||{},D=b(O.resolve),P={fn:te,maxAge:O.maxAge||0,maxErrorAge:O.maxErrorAge||0};function L(){for(var X=new Array(arguments.length),K=0;K<X.length;K++)X[K]=arguments[K];var ne=D(X);return $[ne]?$[ne].need_prefetch&&B($,ne,P):($[ne]=_(h(P.fn.apply(null,X)),P.maxAge||P.maxErrorAge?X:null),R($,ne,P)),$[ne].result}return o(L,"memoizedFn"),L.clear=function(){var X=Object.keys($);return X.forEach(function(K){x($,K)}),X.length},L},"promiseMemoize")},1417:ae=>{"use strict";var S={simple:function(b){return b.length?b.join(""):""},json:function(b){if(!b.length)return"";for(var E=[],w=b.length-1;w>=0;w--)E.push(JSON.stringify(b[w]));return E.join("")}};function d(b){return b.forEach(function(E){if(typeof E=="string"&&!S.hasOwnProperty(E))throw new Error('promise-memoize: unknown value "'+E+'" in resolve option')}),function(E){var w=Math.min(b.length,E.length);if(!w)return"";for(var F=[],W=0;W<w;W++)typeof b[W]=="string"?F.push(S[b[W]]([E[W]])):F.push(b[W](E[W]));return F.join("")}}o(d,"createFlexResolver"),ae.exports=o(function(E){if(typeof E=="undefined")return S.simple;if(typeof E=="string"&&S.hasOwnProperty(E))return S[E];if(Array.isArray(E))return d(E);if(Object.prototype.toString.call(E)==="[object Function]")return E;throw new Error("promise-memoize: invalid resolve option")},"createResolver")},2999:(ae,S,d)=>{"use strict";/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */const b=d(3338),E=o((M,$,O)=>{if(b(M)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if($===void 0||M===$)return String(M);if(b($)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let D={relaxZeros:!0,...O};typeof D.strictZeros=="boolean"&&(D.relaxZeros=D.strictZeros===!1);let P=String(D.relaxZeros),L=String(D.shorthand),X=String(D.capture),K=String(D.wrap),ne=M+":"+$+"="+P+L+X+K;if(E.cache.hasOwnProperty(ne))return E.cache[ne].result;let de=Math.min(M,$),ge=Math.max(M,$);if(Math.abs(de-ge)===1){let oe=M+"|"+$;return D.capture?`(${oe})`:D.wrap===!1?oe:`(?:${oe})`}let ie=Z(M)||Z($),xe={min:M,max:$,a:de,b:ge},U=[],he=[];if(ie&&(xe.isPadded=ie,xe.maxLen=String(xe.max).length),de<0){let oe=ge<0?Math.abs(ge):1;he=A(oe,Math.abs(de),xe,D),de=xe.a=0}return ge>=0&&(U=A(de,ge,xe,D)),xe.negatives=he,xe.positives=U,xe.result=w(he,U,D),D.capture===!0?xe.result=`(${xe.result})`:D.wrap!==!1&&U.length+he.length>1&&(xe.result=`(?:${xe.result})`),E.cache[ne]=xe,xe.result},"toRegexRange");function w(M,$,O){let D=h(M,$,"-",!1,O)||[],P=h($,M,"",!1,O)||[],L=h(M,$,"-?",!0,O)||[];return D.concat(L).concat(P).join("|")}o(w,"collatePatterns");function F(M,$){let O=1,D=1,P=I(M,O),L=new Set([$]);for(;M<=P&&P<=$;)L.add(P),O+=1,P=I(M,O);for(P=R($+1,D)-1;M<P&&P<=$;)L.add(P),D+=1,P=R($+1,D)-1;return L=[...L],L.sort(x),L}o(F,"splitToRanges");function W(M,$,O){if(M===$)return{pattern:M,count:[],digits:0};let D=_(M,$),P=D.length,L="",X=0;for(let K=0;K<P;K++){let[ne,de]=D[K];ne===de?L+=ne:ne!=="0"||de!=="9"?L+=B(ne,de,O):X++}return X&&(L+=O.shorthand===!0?"\\d":"[0-9]"),{pattern:L,count:[X],digits:P}}o(W,"rangeToPattern");function A(M,$,O,D){let P=F(M,$),L=[],X=M,K;for(let ne=0;ne<P.length;ne++){let de=P[ne],ge=W(String(X),String(de),D),ie="";if(!O.isPadded&&K&&K.pattern===ge.pattern){K.count.length>1&&K.count.pop(),K.count.push(ge.count[0]),K.string=K.pattern+T(K.count),X=de+1;continue}O.isPadded&&(ie=te(de,O,D)),ge.string=ie+ge.pattern+T(ge.count),L.push(ge),X=de+1,K=ge}return L}o(A,"splitToPatterns");function h(M,$,O,D,P){let L=[];for(let X of M){let{string:K}=X;!D&&!v($,"string",K)&&L.push(O+K),D&&v($,"string",K)&&L.push(O+K)}return L}o(h,"filterPatterns");function _(M,$){let O=[];for(let D=0;D<M.length;D++)O.push([M[D],$[D]]);return O}o(_,"zip");function x(M,$){return M>$?1:$>M?-1:0}o(x,"compare");function v(M,$,O){return M.some(D=>D[$]===O)}o(v,"contains");function I(M,$){return Number(String(M).slice(0,-$)+"9".repeat($))}o(I,"countNines");function R(M,$){return M-M%Math.pow(10,$)}o(R,"countZeros");function T(M){let[$=0,O=""]=M;return O||$>1?`{${$+(O?","+O:"")}}`:""}o(T,"toQuantifier");function B(M,$,O){return`[${M}${$-M==1?"":"-"}${$}]`}o(B,"toCharacterClass");function Z(M){return/^-?(0+)\d/.test(M)}o(Z,"hasPadding");function te(M,$,O){if(!$.isPadded)return M;let D=Math.abs($.maxLen-String(M).length),P=O.relaxZeros!==!1;switch(D){case 0:return"";case 1:return P?"0?":"0";case 2:return P?"0{0,2}":"00";default:return P?`0{0,${D}}`:`0{${D}}`}}o(te,"padZeros"),E.cache={},E.clearCache=()=>E.cache={},ae.exports=E},9742:(ae,S)=>{"use strict";S.byteLength=h,S.toByteArray=x,S.fromByteArray=R;for(var d=[],b=[],E=typeof Uint8Array!="undefined"?Uint8Array:Array,w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",F=0,W=w.length;F<W;++F)d[F]=w[F],b[w.charCodeAt(F)]=F;b["-".charCodeAt(0)]=62,b["_".charCodeAt(0)]=63;function A(T){var B=T.length;if(B%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var Z=T.indexOf("=");Z===-1&&(Z=B);var te=Z===B?0:4-Z%4;return[Z,te]}o(A,"getLens");function h(T){var B=A(T),Z=B[0],te=B[1];return(Z+te)*3/4-te}o(h,"byteLength");function _(T,B,Z){return(B+Z)*3/4-Z}o(_,"_byteLength");function x(T){var B,Z=A(T),te=Z[0],M=Z[1],$=new E(_(T,te,M)),O=0,D=M>0?te-4:te,P;for(P=0;P<D;P+=4)B=b[T.charCodeAt(P)]<<18|b[T.charCodeAt(P+1)]<<12|b[T.charCodeAt(P+2)]<<6|b[T.charCodeAt(P+3)],$[O++]=B>>16&255,$[O++]=B>>8&255,$[O++]=B&255;return M===2&&(B=b[T.charCodeAt(P)]<<2|b[T.charCodeAt(P+1)]>>4,$[O++]=B&255),M===1&&(B=b[T.charCodeAt(P)]<<10|b[T.charCodeAt(P+1)]<<4|b[T.charCodeAt(P+2)]>>2,$[O++]=B>>8&255,$[O++]=B&255),$}o(x,"toByteArray");function v(T){return d[T>>18&63]+d[T>>12&63]+d[T>>6&63]+d[T&63]}o(v,"tripletToBase64");function I(T,B,Z){for(var te,M=[],$=B;$<Z;$+=3)te=(T[$]<<16&16711680)+(T[$+1]<<8&65280)+(T[$+2]&255),M.push(v(te));return M.join("")}o(I,"encodeChunk");function R(T){for(var B,Z=T.length,te=Z%3,M=[],$=16383,O=0,D=Z-te;O<D;O+=$)M.push(I(T,O,O+$>D?D:O+$));return te===1?(B=T[Z-1],M.push(d[B>>2]+d[B<<4&63]+"==")):te===2&&(B=(T[Z-2]<<8)+T[Z-1],M.push(d[B>>10]+d[B>>4&63]+d[B<<2&63]+"=")),M.join("")}o(R,"fromByteArray")},5186:(ae,S,d)=>{var b=d(3698),E=d(2505),w=d(6417),F=Function.bind,W=F.bind(F);function A(I,R,T){var B=W(w,null).apply(null,T?[R,T]:[R]);I.api={remove:B},I.remove=B,["before","error","after","wrap"].forEach(function(Z){var te=T?[R,Z,T]:[R,Z];I[Z]=I.api[Z]=W(E,null).apply(null,te)})}o(A,"bindApi");function h(){var I="h",R={registry:{}},T=b.bind(null,R,I);return A(T,R,I),T}o(h,"HookSingular");function _(){var I={registry:{}},R=b.bind(null,I);return A(R,I),R}o(_,"HookCollection");var x=!1;function v(){return x||(console.warn('[before-after-hook]: "Hook()" repurposing warning, use "Hook.Collection()". Read more: https://git.io/upgrade-before-after-hook-to-1.4'),x=!0),_()}o(v,"Hook"),v.Singular=h.bind(),v.Collection=_.bind(),ae.exports=v,ae.exports.Hook=v,ae.exports.Singular=v.Singular,ae.exports.Collection=v.Collection},2505:ae=>{ae.exports=S;function S(d,b,E,w){var F=w;d.registry[E]||(d.registry[E]=[]),b==="before"&&(w=o(function(W,A){return Promise.resolve().then(F.bind(null,A)).then(W.bind(null,A))},"hook")),b==="after"&&(w=o(function(W,A){var h;return Promise.resolve().then(W.bind(null,A)).then(function(_){return h=_,F(h,A)}).then(function(){return h})},"hook")),b==="error"&&(w=o(function(W,A){return Promise.resolve().then(W.bind(null,A)).catch(function(h){return F(h,A)})},"hook")),d.registry[E].push({hook:w,orig:F})}o(S,"addHook")},3698:ae=>{ae.exports=S;function S(d,b,E,w){if(typeof E!="function")throw new Error("method for before hook must be a function");return w||(w={}),Array.isArray(b)?b.reverse().reduce(function(F,W){return S.bind(null,d,W,F,w)},E)():Promise.resolve().then(function(){return d.registry[b]?d.registry[b].reduce(function(F,W){return W.hook.bind(null,F,w)},E)():E(w)})}o(S,"register")},6417:ae=>{ae.exports=S;function S(d,b,E){if(!!d.registry[b]){var w=d.registry[b].map(function(F){return F.orig}).indexOf(E);w!==-1&&d.registry[b].splice(w,1)}}o(S,"removeHook")},8764:(ae,S,d)=>{"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const b=d(9742),E=d(645),w=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;S.Buffer=h,S.SlowBuffer=$,S.INSPECT_MAX_BYTES=50;const F=2147483647;S.kMaxLength=F,h.TYPED_ARRAY_SUPPORT=W(),!h.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function W(){try{const k=new Uint8Array(1),g={foo:function(){return 42}};return Object.setPrototypeOf(g,Uint8Array.prototype),Object.setPrototypeOf(k,g),k.foo()===42}catch(k){return!1}}o(W,"typedArraySupport"),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(!!h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(!!h.isBuffer(this))return this.byteOffset}});function A(k){if(k>F)throw new RangeError('The value "'+k+'" is invalid for option "size"');const g=new Uint8Array(k);return Object.setPrototypeOf(g,h.prototype),g}o(A,"createBuffer");function h(k,g,p){if(typeof k=="number"){if(typeof g=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return I(k)}return _(k,g,p)}o(h,"Buffer"),h.poolSize=8192;function _(k,g,p){if(typeof k=="string")return R(k,g);if(ArrayBuffer.isView(k))return B(k);if(k==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k);if(se(k,ArrayBuffer)||k&&se(k.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(se(k,SharedArrayBuffer)||k&&se(k.buffer,SharedArrayBuffer)))return Z(k,g,p);if(typeof k=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const V=k.valueOf&&k.valueOf();if(V!=null&&V!==k)return h.from(V,g,p);const ue=te(k);if(ue)return ue;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof k[Symbol.toPrimitive]=="function")return h.from(k[Symbol.toPrimitive]("string"),g,p);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k)}o(_,"from"),h.from=function(k,g,p){return _(k,g,p)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array);function x(k){if(typeof k!="number")throw new TypeError('"size" argument must be of type number');if(k<0)throw new RangeError('The value "'+k+'" is invalid for option "size"')}o(x,"assertSize");function v(k,g,p){return x(k),k<=0?A(k):g!==void 0?typeof p=="string"?A(k).fill(g,p):A(k).fill(g):A(k)}o(v,"alloc"),h.alloc=function(k,g,p){return v(k,g,p)};function I(k){return x(k),A(k<0?0:M(k)|0)}o(I,"allocUnsafe"),h.allocUnsafe=function(k){return I(k)},h.allocUnsafeSlow=function(k){return I(k)};function R(k,g){if((typeof g!="string"||g==="")&&(g="utf8"),!h.isEncoding(g))throw new TypeError("Unknown encoding: "+g);const p=O(k,g)|0;let V=A(p);const ue=V.write(k,g);return ue!==p&&(V=V.slice(0,ue)),V}o(R,"fromString");function T(k){const g=k.length<0?0:M(k.length)|0,p=A(g);for(let V=0;V<g;V+=1)p[V]=k[V]&255;return p}o(T,"fromArrayLike");function B(k){if(se(k,Uint8Array)){const g=new Uint8Array(k);return Z(g.buffer,g.byteOffset,g.byteLength)}return T(k)}o(B,"fromArrayView");function Z(k,g,p){if(g<0||k.byteLength<g)throw new RangeError('"offset" is outside of buffer bounds');if(k.byteLength<g+(p||0))throw new RangeError('"length" is outside of buffer bounds');let V;return g===void 0&&p===void 0?V=new Uint8Array(k):p===void 0?V=new Uint8Array(k,g):V=new Uint8Array(k,g,p),Object.setPrototypeOf(V,h.prototype),V}o(Z,"fromArrayBuffer");function te(k){if(h.isBuffer(k)){const g=M(k.length)|0,p=A(g);return p.length===0||k.copy(p,0,0,g),p}if(k.length!==void 0)return typeof k.length!="number"||Kt(k.length)?A(0):T(k);if(k.type==="Buffer"&&Array.isArray(k.data))return T(k.data)}o(te,"fromObject");function M(k){if(k>=F)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+F.toString(16)+" bytes");return k|0}o(M,"checked");function $(k){return+k!=k&&(k=0),h.alloc(+k)}o($,"SlowBuffer"),h.isBuffer=o(function(g){return g!=null&&g._isBuffer===!0&&g!==h.prototype},"isBuffer"),h.compare=o(function(g,p){if(se(g,Uint8Array)&&(g=h.from(g,g.offset,g.byteLength)),se(p,Uint8Array)&&(p=h.from(p,p.offset,p.byteLength)),!h.isBuffer(g)||!h.isBuffer(p))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(g===p)return 0;let V=g.length,ue=p.length;for(let _e=0,Me=Math.min(V,ue);_e<Me;++_e)if(g[_e]!==p[_e]){V=g[_e],ue=p[_e];break}return V<ue?-1:ue<V?1:0},"compare"),h.isEncoding=o(function(g){switch(String(g).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},"isEncoding"),h.concat=o(function(g,p){if(!Array.isArray(g))throw new TypeError('"list" argument must be an Array of Buffers');if(g.length===0)return h.alloc(0);let V;if(p===void 0)for(p=0,V=0;V<g.length;++V)p+=g[V].length;const ue=h.allocUnsafe(p);let _e=0;for(V=0;V<g.length;++V){let Me=g[V];if(se(Me,Uint8Array))_e+Me.length>ue.length?(h.isBuffer(Me)||(Me=h.from(Me)),Me.copy(ue,_e)):Uint8Array.prototype.set.call(ue,Me,_e);else if(h.isBuffer(Me))Me.copy(ue,_e);else throw new TypeError('"list" argument must be an Array of Buffers');_e+=Me.length}return ue},"concat");function O(k,g){if(h.isBuffer(k))return k.length;if(ArrayBuffer.isView(k)||se(k,ArrayBuffer))return k.byteLength;if(typeof k!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof k);const p=k.length,V=arguments.length>2&&arguments[2]===!0;if(!V&&p===0)return 0;let ue=!1;for(;;)switch(g){case"ascii":case"latin1":case"binary":return p;case"utf8":case"utf-8":return at(k).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return p*2;case"hex":return p>>>1;case"base64":return ke(k).length;default:if(ue)return V?-1:at(k).length;g=(""+g).toLowerCase(),ue=!0}}o(O,"byteLength"),h.byteLength=O;function D(k,g,p){let V=!1;if((g===void 0||g<0)&&(g=0),g>this.length||((p===void 0||p>this.length)&&(p=this.length),p<=0)||(p>>>=0,g>>>=0,p<=g))return"";for(k||(k="utf8");;)switch(k){case"hex":return Ie(this,g,p);case"utf8":case"utf-8":return U(this,g,p);case"ascii":return pe(this,g,p);case"latin1":case"binary":return Ee(this,g,p);case"base64":return xe(this,g,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return mt(this,g,p);default:if(V)throw new TypeError("Unknown encoding: "+k);k=(k+"").toLowerCase(),V=!0}}o(D,"slowToString"),h.prototype._isBuffer=!0;function P(k,g,p){const V=k[g];k[g]=k[p],k[p]=V}o(P,"swap"),h.prototype.swap16=o(function(){const g=this.length;if(g%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let p=0;p<g;p+=2)P(this,p,p+1);return this},"swap16"),h.prototype.swap32=o(function(){const g=this.length;if(g%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let p=0;p<g;p+=4)P(this,p,p+3),P(this,p+1,p+2);return this},"swap32"),h.prototype.swap64=o(function(){const g=this.length;if(g%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let p=0;p<g;p+=8)P(this,p,p+7),P(this,p+1,p+6),P(this,p+2,p+5),P(this,p+3,p+4);return this},"swap64"),h.prototype.toString=o(function(){const g=this.length;return g===0?"":arguments.length===0?U(this,0,g):D.apply(this,arguments)},"toString"),h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=o(function(g){if(!h.isBuffer(g))throw new TypeError("Argument must be a Buffer");return this===g?!0:h.compare(this,g)===0},"equals"),h.prototype.inspect=o(function(){let g="";const p=S.INSPECT_MAX_BYTES;return g=this.toString("hex",0,p).replace(/(.{2})/g,"$1 ").trim(),this.length>p&&(g+=" ... "),"<Buffer "+g+">"},"inspect"),w&&(h.prototype[w]=h.prototype.inspect),h.prototype.compare=o(function(g,p,V,ue,_e){if(se(g,Uint8Array)&&(g=h.from(g,g.offset,g.byteLength)),!h.isBuffer(g))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof g);if(p===void 0&&(p=0),V===void 0&&(V=g?g.length:0),ue===void 0&&(ue=0),_e===void 0&&(_e=this.length),p<0||V>g.length||ue<0||_e>this.length)throw new RangeError("out of range index");if(ue>=_e&&p>=V)return 0;if(ue>=_e)return-1;if(p>=V)return 1;if(p>>>=0,V>>>=0,ue>>>=0,_e>>>=0,this===g)return 0;let Me=_e-ue,Qt=V-p;const sn=Math.min(Me,Qt),Ve=this.slice(ue,_e),Ke=g.slice(p,V);for(let Ne=0;Ne<sn;++Ne)if(Ve[Ne]!==Ke[Ne]){Me=Ve[Ne],Qt=Ke[Ne];break}return Me<Qt?-1:Qt<Me?1:0},"compare");function L(k,g,p,V,ue){if(k.length===0)return-1;if(typeof p=="string"?(V=p,p=0):p>2147483647?p=2147483647:p<-2147483648&&(p=-2147483648),p=+p,Kt(p)&&(p=ue?0:k.length-1),p<0&&(p=k.length+p),p>=k.length){if(ue)return-1;p=k.length-1}else if(p<0)if(ue)p=0;else return-1;if(typeof g=="string"&&(g=h.from(g,V)),h.isBuffer(g))return g.length===0?-1:X(k,g,p,V,ue);if(typeof g=="number")return g=g&255,typeof Uint8Array.prototype.indexOf=="function"?ue?Uint8Array.prototype.indexOf.call(k,g,p):Uint8Array.prototype.lastIndexOf.call(k,g,p):X(k,[g],p,V,ue);throw new TypeError("val must be string, number or Buffer")}o(L,"bidirectionalIndexOf");function X(k,g,p,V,ue){let _e=1,Me=k.length,Qt=g.length;if(V!==void 0&&(V=String(V).toLowerCase(),V==="ucs2"||V==="ucs-2"||V==="utf16le"||V==="utf-16le")){if(k.length<2||g.length<2)return-1;_e=2,Me/=2,Qt/=2,p/=2}function sn(Ke,Ne){return _e===1?Ke[Ne]:Ke.readUInt16BE(Ne*_e)}o(sn,"read");let Ve;if(ue){let Ke=-1;for(Ve=p;Ve<Me;Ve++)if(sn(k,Ve)===sn(g,Ke===-1?0:Ve-Ke)){if(Ke===-1&&(Ke=Ve),Ve-Ke+1===Qt)return Ke*_e}else Ke!==-1&&(Ve-=Ve-Ke),Ke=-1}else for(p+Qt>Me&&(p=Me-Qt),Ve=p;Ve>=0;Ve--){let Ke=!0;for(let Ne=0;Ne<Qt;Ne++)if(sn(k,Ve+Ne)!==sn(g,Ne)){Ke=!1;break}if(Ke)return Ve}return-1}o(X,"arrayIndexOf"),h.prototype.includes=o(function(g,p,V){return this.indexOf(g,p,V)!==-1},"includes"),h.prototype.indexOf=o(function(g,p,V){return L(this,g,p,V,!0)},"indexOf"),h.prototype.lastIndexOf=o(function(g,p,V){return L(this,g,p,V,!1)},"lastIndexOf");function K(k,g,p,V){p=Number(p)||0;const ue=k.length-p;V?(V=Number(V),V>ue&&(V=ue)):V=ue;const _e=g.length;V>_e/2&&(V=_e/2);let Me;for(Me=0;Me<V;++Me){const Qt=parseInt(g.substr(Me*2,2),16);if(Kt(Qt))return Me;k[p+Me]=Qt}return Me}o(K,"hexWrite");function ne(k,g,p,V){return bt(at(g,k.length-p),k,p,V)}o(ne,"utf8Write");function de(k,g,p,V){return bt(Ut(g),k,p,V)}o(de,"asciiWrite");function ge(k,g,p,V){return bt(ke(g),k,p,V)}o(ge,"base64Write");function ie(k,g,p,V){return bt(Tt(g,k.length-p),k,p,V)}o(ie,"ucs2Write"),h.prototype.write=o(function(g,p,V,ue){if(p===void 0)ue="utf8",V=this.length,p=0;else if(V===void 0&&typeof p=="string")ue=p,V=this.length,p=0;else if(isFinite(p))p=p>>>0,isFinite(V)?(V=V>>>0,ue===void 0&&(ue="utf8")):(ue=V,V=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const _e=this.length-p;if((V===void 0||V>_e)&&(V=_e),g.length>0&&(V<0||p<0)||p>this.length)throw new RangeError("Attempt to write outside buffer bounds");ue||(ue="utf8");let Me=!1;for(;;)switch(ue){case"hex":return K(this,g,p,V);case"utf8":case"utf-8":return ne(this,g,p,V);case"ascii":case"latin1":case"binary":return de(this,g,p,V);case"base64":return ge(this,g,p,V);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ie(this,g,p,V);default:if(Me)throw new TypeError("Unknown encoding: "+ue);ue=(""+ue).toLowerCase(),Me=!0}},"write"),h.prototype.toJSON=o(function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},"toJSON");function xe(k,g,p){return g===0&&p===k.length?b.fromByteArray(k):b.fromByteArray(k.slice(g,p))}o(xe,"base64Slice");function U(k,g,p){p=Math.min(k.length,p);const V=[];let ue=g;for(;ue<p;){const _e=k[ue];let Me=null,Qt=_e>239?4:_e>223?3:_e>191?2:1;if(ue+Qt<=p){let sn,Ve,Ke,Ne;switch(Qt){case 1:_e<128&&(Me=_e);break;case 2:sn=k[ue+1],(sn&192)==128&&(Ne=(_e&31)<<6|sn&63,Ne>127&&(Me=Ne));break;case 3:sn=k[ue+1],Ve=k[ue+2],(sn&192)==128&&(Ve&192)==128&&(Ne=(_e&15)<<12|(sn&63)<<6|Ve&63,Ne>2047&&(Ne<55296||Ne>57343)&&(Me=Ne));break;case 4:sn=k[ue+1],Ve=k[ue+2],Ke=k[ue+3],(sn&192)==128&&(Ve&192)==128&&(Ke&192)==128&&(Ne=(_e&15)<<18|(sn&63)<<12|(Ve&63)<<6|Ke&63,Ne>65535&&Ne<1114112&&(Me=Ne))}}Me===null?(Me=65533,Qt=1):Me>65535&&(Me-=65536,V.push(Me>>>10&1023|55296),Me=56320|Me&1023),V.push(Me),ue+=Qt}return oe(V)}o(U,"utf8Slice");const he=4096;function oe(k){const g=k.length;if(g<=he)return String.fromCharCode.apply(String,k);let p="",V=0;for(;V<g;)p+=String.fromCharCode.apply(String,k.slice(V,V+=he));return p}o(oe,"decodeCodePointsArray");function pe(k,g,p){let V="";p=Math.min(k.length,p);for(let ue=g;ue<p;++ue)V+=String.fromCharCode(k[ue]&127);return V}o(pe,"asciiSlice");function Ee(k,g,p){let V="";p=Math.min(k.length,p);for(let ue=g;ue<p;++ue)V+=String.fromCharCode(k[ue]);return V}o(Ee,"latin1Slice");function Ie(k,g,p){const V=k.length;(!g||g<0)&&(g=0),(!p||p<0||p>V)&&(p=V);let ue="";for(let _e=g;_e<p;++_e)ue+=cn[k[_e]];return ue}o(Ie,"hexSlice");function mt(k,g,p){const V=k.slice(g,p);let ue="";for(let _e=0;_e<V.length-1;_e+=2)ue+=String.fromCharCode(V[_e]+V[_e+1]*256);return ue}o(mt,"utf16leSlice"),h.prototype.slice=o(function(g,p){const V=this.length;g=~~g,p=p===void 0?V:~~p,g<0?(g+=V,g<0&&(g=0)):g>V&&(g=V),p<0?(p+=V,p<0&&(p=0)):p>V&&(p=V),p<g&&(p=g);const ue=this.subarray(g,p);return Object.setPrototypeOf(ue,h.prototype),ue},"slice");function Ye(k,g,p){if(k%1!=0||k<0)throw new RangeError("offset is not uint");if(k+g>p)throw new RangeError("Trying to access beyond buffer length")}o(Ye,"checkOffset"),h.prototype.readUintLE=h.prototype.readUIntLE=o(function(g,p,V){g=g>>>0,p=p>>>0,V||Ye(g,p,this.length);let ue=this[g],_e=1,Me=0;for(;++Me<p&&(_e*=256);)ue+=this[g+Me]*_e;return ue},"readUIntLE"),h.prototype.readUintBE=h.prototype.readUIntBE=o(function(g,p,V){g=g>>>0,p=p>>>0,V||Ye(g,p,this.length);let ue=this[g+--p],_e=1;for(;p>0&&(_e*=256);)ue+=this[g+--p]*_e;return ue},"readUIntBE"),h.prototype.readUint8=h.prototype.readUInt8=o(function(g,p){return g=g>>>0,p||Ye(g,1,this.length),this[g]},"readUInt8"),h.prototype.readUint16LE=h.prototype.readUInt16LE=o(function(g,p){return g=g>>>0,p||Ye(g,2,this.length),this[g]|this[g+1]<<8},"readUInt16LE"),h.prototype.readUint16BE=h.prototype.readUInt16BE=o(function(g,p){return g=g>>>0,p||Ye(g,2,this.length),this[g]<<8|this[g+1]},"readUInt16BE"),h.prototype.readUint32LE=h.prototype.readUInt32LE=o(function(g,p){return g=g>>>0,p||Ye(g,4,this.length),(this[g]|this[g+1]<<8|this[g+2]<<16)+this[g+3]*16777216},"readUInt32LE"),h.prototype.readUint32BE=h.prototype.readUInt32BE=o(function(g,p){return g=g>>>0,p||Ye(g,4,this.length),this[g]*16777216+(this[g+1]<<16|this[g+2]<<8|this[g+3])},"readUInt32BE"),h.prototype.readBigUInt64LE=xn(o(function(g){g=g>>>0,He(g,"offset");const p=this[g],V=this[g+7];(p===void 0||V===void 0)&&rt(g,this.length-8);const ue=p+this[++g]*2**8+this[++g]*2**16+this[++g]*2**24,_e=this[++g]+this[++g]*2**8+this[++g]*2**16+V*2**24;return BigInt(ue)+(BigInt(_e)<<BigInt(32))},"readBigUInt64LE")),h.prototype.readBigUInt64BE=xn(o(function(g){g=g>>>0,He(g,"offset");const p=this[g],V=this[g+7];(p===void 0||V===void 0)&&rt(g,this.length-8);const ue=p*2**24+this[++g]*2**16+this[++g]*2**8+this[++g],_e=this[++g]*2**24+this[++g]*2**16+this[++g]*2**8+V;return(BigInt(ue)<<BigInt(32))+BigInt(_e)},"readBigUInt64BE")),h.prototype.readIntLE=o(function(g,p,V){g=g>>>0,p=p>>>0,V||Ye(g,p,this.length);let ue=this[g],_e=1,Me=0;for(;++Me<p&&(_e*=256);)ue+=this[g+Me]*_e;return _e*=128,ue>=_e&&(ue-=Math.pow(2,8*p)),ue},"readIntLE"),h.prototype.readIntBE=o(function(g,p,V){g=g>>>0,p=p>>>0,V||Ye(g,p,this.length);let ue=p,_e=1,Me=this[g+--ue];for(;ue>0&&(_e*=256);)Me+=this[g+--ue]*_e;return _e*=128,Me>=_e&&(Me-=Math.pow(2,8*p)),Me},"readIntBE"),h.prototype.readInt8=o(function(g,p){return g=g>>>0,p||Ye(g,1,this.length),this[g]&128?(255-this[g]+1)*-1:this[g]},"readInt8"),h.prototype.readInt16LE=o(function(g,p){g=g>>>0,p||Ye(g,2,this.length);const V=this[g]|this[g+1]<<8;return V&32768?V|4294901760:V},"readInt16LE"),h.prototype.readInt16BE=o(function(g,p){g=g>>>0,p||Ye(g,2,this.length);const V=this[g+1]|this[g]<<8;return V&32768?V|4294901760:V},"readInt16BE"),h.prototype.readInt32LE=o(function(g,p){return g=g>>>0,p||Ye(g,4,this.length),this[g]|this[g+1]<<8|this[g+2]<<16|this[g+3]<<24},"readInt32LE"),h.prototype.readInt32BE=o(function(g,p){return g=g>>>0,p||Ye(g,4,this.length),this[g]<<24|this[g+1]<<16|this[g+2]<<8|this[g+3]},"readInt32BE"),h.prototype.readBigInt64LE=xn(o(function(g){g=g>>>0,He(g,"offset");const p=this[g],V=this[g+7];(p===void 0||V===void 0)&&rt(g,this.length-8);const ue=this[g+4]+this[g+5]*2**8+this[g+6]*2**16+(V<<24);return(BigInt(ue)<<BigInt(32))+BigInt(p+this[++g]*2**8+this[++g]*2**16+this[++g]*2**24)},"readBigInt64LE")),h.prototype.readBigInt64BE=xn(o(function(g){g=g>>>0,He(g,"offset");const p=this[g],V=this[g+7];(p===void 0||V===void 0)&&rt(g,this.length-8);const ue=(p<<24)+this[++g]*2**16+this[++g]*2**8+this[++g];return(BigInt(ue)<<BigInt(32))+BigInt(this[++g]*2**24+this[++g]*2**16+this[++g]*2**8+V)},"readBigInt64BE")),h.prototype.readFloatLE=o(function(g,p){return g=g>>>0,p||Ye(g,4,this.length),E.read(this,g,!0,23,4)},"readFloatLE"),h.prototype.readFloatBE=o(function(g,p){return g=g>>>0,p||Ye(g,4,this.length),E.read(this,g,!1,23,4)},"readFloatBE"),h.prototype.readDoubleLE=o(function(g,p){return g=g>>>0,p||Ye(g,8,this.length),E.read(this,g,!0,52,8)},"readDoubleLE"),h.prototype.readDoubleBE=o(function(g,p){return g=g>>>0,p||Ye(g,8,this.length),E.read(this,g,!1,52,8)},"readDoubleBE");function q(k,g,p,V,ue,_e){if(!h.isBuffer(k))throw new TypeError('"buffer" argument must be a Buffer instance');if(g>ue||g<_e)throw new RangeError('"value" argument is out of bounds');if(p+V>k.length)throw new RangeError("Index out of range")}o(q,"checkInt"),h.prototype.writeUintLE=h.prototype.writeUIntLE=o(function(g,p,V,ue){if(g=+g,p=p>>>0,V=V>>>0,!ue){const Qt=Math.pow(2,8*V)-1;q(this,g,p,V,Qt,0)}let _e=1,Me=0;for(this[p]=g&255;++Me<V&&(_e*=256);)this[p+Me]=g/_e&255;return p+V},"writeUIntLE"),h.prototype.writeUintBE=h.prototype.writeUIntBE=o(function(g,p,V,ue){if(g=+g,p=p>>>0,V=V>>>0,!ue){const Qt=Math.pow(2,8*V)-1;q(this,g,p,V,Qt,0)}let _e=V-1,Me=1;for(this[p+_e]=g&255;--_e>=0&&(Me*=256);)this[p+_e]=g/Me&255;return p+V},"writeUIntBE"),h.prototype.writeUint8=h.prototype.writeUInt8=o(function(g,p,V){return g=+g,p=p>>>0,V||q(this,g,p,1,255,0),this[p]=g&255,p+1},"writeUInt8"),h.prototype.writeUint16LE=h.prototype.writeUInt16LE=o(function(g,p,V){return g=+g,p=p>>>0,V||q(this,g,p,2,65535,0),this[p]=g&255,this[p+1]=g>>>8,p+2},"writeUInt16LE"),h.prototype.writeUint16BE=h.prototype.writeUInt16BE=o(function(g,p,V){return g=+g,p=p>>>0,V||q(this,g,p,2,65535,0),this[p]=g>>>8,this[p+1]=g&255,p+2},"writeUInt16BE"),h.prototype.writeUint32LE=h.prototype.writeUInt32LE=o(function(g,p,V){return g=+g,p=p>>>0,V||q(this,g,p,4,4294967295,0),this[p+3]=g>>>24,this[p+2]=g>>>16,this[p+1]=g>>>8,this[p]=g&255,p+4},"writeUInt32LE"),h.prototype.writeUint32BE=h.prototype.writeUInt32BE=o(function(g,p,V){return g=+g,p=p>>>0,V||q(this,g,p,4,4294967295,0),this[p]=g>>>24,this[p+1]=g>>>16,this[p+2]=g>>>8,this[p+3]=g&255,p+4},"writeUInt32BE");function Te(k,g,p,V,ue){Ae(g,V,ue,k,p,7);let _e=Number(g&BigInt(4294967295));k[p++]=_e,_e=_e>>8,k[p++]=_e,_e=_e>>8,k[p++]=_e,_e=_e>>8,k[p++]=_e;let Me=Number(g>>BigInt(32)&BigInt(4294967295));return k[p++]=Me,Me=Me>>8,k[p++]=Me,Me=Me>>8,k[p++]=Me,Me=Me>>8,k[p++]=Me,p}o(Te,"wrtBigUInt64LE");function Re(k,g,p,V,ue){Ae(g,V,ue,k,p,7);let _e=Number(g&BigInt(4294967295));k[p+7]=_e,_e=_e>>8,k[p+6]=_e,_e=_e>>8,k[p+5]=_e,_e=_e>>8,k[p+4]=_e;let Me=Number(g>>BigInt(32)&BigInt(4294967295));return k[p+3]=Me,Me=Me>>8,k[p+2]=Me,Me=Me>>8,k[p+1]=Me,Me=Me>>8,k[p]=Me,p+8}o(Re,"wrtBigUInt64BE"),h.prototype.writeBigUInt64LE=xn(o(function(g,p=0){return Te(this,g,p,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64LE")),h.prototype.writeBigUInt64BE=xn(o(function(g,p=0){return Re(this,g,p,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64BE")),h.prototype.writeIntLE=o(function(g,p,V,ue){if(g=+g,p=p>>>0,!ue){const sn=Math.pow(2,8*V-1);q(this,g,p,V,sn-1,-sn)}let _e=0,Me=1,Qt=0;for(this[p]=g&255;++_e<V&&(Me*=256);)g<0&&Qt===0&&this[p+_e-1]!==0&&(Qt=1),this[p+_e]=(g/Me>>0)-Qt&255;return p+V},"writeIntLE"),h.prototype.writeIntBE=o(function(g,p,V,ue){if(g=+g,p=p>>>0,!ue){const sn=Math.pow(2,8*V-1);q(this,g,p,V,sn-1,-sn)}let _e=V-1,Me=1,Qt=0;for(this[p+_e]=g&255;--_e>=0&&(Me*=256);)g<0&&Qt===0&&this[p+_e+1]!==0&&(Qt=1),this[p+_e]=(g/Me>>0)-Qt&255;return p+V},"writeIntBE"),h.prototype.writeInt8=o(function(g,p,V){return g=+g,p=p>>>0,V||q(this,g,p,1,127,-128),g<0&&(g=255+g+1),this[p]=g&255,p+1},"writeInt8"),h.prototype.writeInt16LE=o(function(g,p,V){return g=+g,p=p>>>0,V||q(this,g,p,2,32767,-32768),this[p]=g&255,this[p+1]=g>>>8,p+2},"writeInt16LE"),h.prototype.writeInt16BE=o(function(g,p,V){return g=+g,p=p>>>0,V||q(this,g,p,2,32767,-32768),this[p]=g>>>8,this[p+1]=g&255,p+2},"writeInt16BE"),h.prototype.writeInt32LE=o(function(g,p,V){return g=+g,p=p>>>0,V||q(this,g,p,4,2147483647,-2147483648),this[p]=g&255,this[p+1]=g>>>8,this[p+2]=g>>>16,this[p+3]=g>>>24,p+4},"writeInt32LE"),h.prototype.writeInt32BE=o(function(g,p,V){return g=+g,p=p>>>0,V||q(this,g,p,4,2147483647,-2147483648),g<0&&(g=4294967295+g+1),this[p]=g>>>24,this[p+1]=g>>>16,this[p+2]=g>>>8,this[p+3]=g&255,p+4},"writeInt32BE"),h.prototype.writeBigInt64LE=xn(o(function(g,p=0){return Te(this,g,p,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64LE")),h.prototype.writeBigInt64BE=xn(o(function(g,p=0){return Re(this,g,p,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64BE"));function nt(k,g,p,V,ue,_e){if(p+V>k.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("Index out of range")}o(nt,"checkIEEE754");function ve(k,g,p,V,ue){return g=+g,p=p>>>0,ue||nt(k,g,p,4,34028234663852886e22,-34028234663852886e22),E.write(k,g,p,V,23,4),p+4}o(ve,"writeFloat"),h.prototype.writeFloatLE=o(function(g,p,V){return ve(this,g,p,!0,V)},"writeFloatLE"),h.prototype.writeFloatBE=o(function(g,p,V){return ve(this,g,p,!1,V)},"writeFloatBE");function ee(k,g,p,V,ue){return g=+g,p=p>>>0,ue||nt(k,g,p,8,17976931348623157e292,-17976931348623157e292),E.write(k,g,p,V,52,8),p+8}o(ee,"writeDouble"),h.prototype.writeDoubleLE=o(function(g,p,V){return ee(this,g,p,!0,V)},"writeDoubleLE"),h.prototype.writeDoubleBE=o(function(g,p,V){return ee(this,g,p,!1,V)},"writeDoubleBE"),h.prototype.copy=o(function(g,p,V,ue){if(!h.isBuffer(g))throw new TypeError("argument should be a Buffer");if(V||(V=0),!ue&&ue!==0&&(ue=this.length),p>=g.length&&(p=g.length),p||(p=0),ue>0&&ue<V&&(ue=V),ue===V||g.length===0||this.length===0)return 0;if(p<0)throw new RangeError("targetStart out of bounds");if(V<0||V>=this.length)throw new RangeError("Index out of range");if(ue<0)throw new RangeError("sourceEnd out of bounds");ue>this.length&&(ue=this.length),g.length-p<ue-V&&(ue=g.length-p+V);const _e=ue-V;return this===g&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(p,V,ue):Uint8Array.prototype.set.call(g,this.subarray(V,ue),p),_e},"copy"),h.prototype.fill=o(function(g,p,V,ue){if(typeof g=="string"){if(typeof p=="string"?(ue=p,p=0,V=this.length):typeof V=="string"&&(ue=V,V=this.length),ue!==void 0&&typeof ue!="string")throw new TypeError("encoding must be a string");if(typeof ue=="string"&&!h.isEncoding(ue))throw new TypeError("Unknown encoding: "+ue);if(g.length===1){const Me=g.charCodeAt(0);(ue==="utf8"&&Me<128||ue==="latin1")&&(g=Me)}}else typeof g=="number"?g=g&255:typeof g=="boolean"&&(g=Number(g));if(p<0||this.length<p||this.length<V)throw new RangeError("Out of range index");if(V<=p)return this;p=p>>>0,V=V===void 0?this.length:V>>>0,g||(g=0);let _e;if(typeof g=="number")for(_e=p;_e<V;++_e)this[_e]=g;else{const Me=h.isBuffer(g)?g:h.from(g,ue),Qt=Me.length;if(Qt===0)throw new TypeError('The value "'+g+'" is invalid for argument "value"');for(_e=0;_e<V-p;++_e)this[_e+p]=Me[_e%Qt]}return this},"fill");const ye={};function Ce(k,g,p){ye[k]=o(class extends p{constructor(){super();Object.defineProperty(this,"message",{value:g.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${k}]`,this.stack,delete this.name}get code(){return k}set code(ue){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ue,writable:!0})}toString(){return`${this.name} [${k}]: ${this.message}`}},"NodeError")}o(Ce,"E"),Ce("ERR_BUFFER_OUT_OF_BOUNDS",function(k){return k?`${k} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ce("ERR_INVALID_ARG_TYPE",function(k,g){return`The "${k}" argument must be of type number. Received type ${typeof g}`},TypeError),Ce("ERR_OUT_OF_RANGE",function(k,g,p){let V=`The value of "${k}" is out of range.`,ue=p;return Number.isInteger(p)&&Math.abs(p)>2**32?ue=ce(String(p)):typeof p=="bigint"&&(ue=String(p),(p>BigInt(2)**BigInt(32)||p<-(BigInt(2)**BigInt(32)))&&(ue=ce(ue)),ue+="n"),V+=` It must be ${g}. Received ${ue}`,V},RangeError);function ce(k){let g="",p=k.length;const V=k[0]==="-"?1:0;for(;p>=V+4;p-=3)g=`_${k.slice(p-3,p)}${g}`;return`${k.slice(0,p)}${g}`}o(ce,"addNumericalSeparator");function Fe(k,g,p){He(g,"offset"),(k[g]===void 0||k[g+p]===void 0)&&rt(g,k.length-(p+1))}o(Fe,"checkBounds");function Ae(k,g,p,V,ue,_e){if(k>p||k<g){const Me=typeof g=="bigint"?"n":"";let Qt;throw _e>3?g===0||g===BigInt(0)?Qt=`>= 0${Me} and < 2${Me} ** ${(_e+1)*8}${Me}`:Qt=`>= -(2${Me} ** ${(_e+1)*8-1}${Me}) and < 2 ** ${(_e+1)*8-1}${Me}`:Qt=`>= ${g}${Me} and <= ${p}${Me}`,new ye.ERR_OUT_OF_RANGE("value",Qt,k)}Fe(V,ue,_e)}o(Ae,"checkIntBI");function He(k,g){if(typeof k!="number")throw new ye.ERR_INVALID_ARG_TYPE(g,"number",k)}o(He,"validateNumber");function rt(k,g,p){throw Math.floor(k)!==k?(He(k,p),new ye.ERR_OUT_OF_RANGE(p||"offset","an integer",k)):g<0?new ye.ERR_BUFFER_OUT_OF_BOUNDS:new ye.ERR_OUT_OF_RANGE(p||"offset",`>= ${p?1:0} and <= ${g}`,k)}o(rt,"boundsError");const Ct=/[^+/0-9A-Za-z-_]/g;function Rt(k){if(k=k.split("=")[0],k=k.trim().replace(Ct,""),k.length<2)return"";for(;k.length%4!=0;)k=k+"=";return k}o(Rt,"base64clean");function at(k,g){g=g||1/0;let p;const V=k.length;let ue=null;const _e=[];for(let Me=0;Me<V;++Me){if(p=k.charCodeAt(Me),p>55295&&p<57344){if(!ue){if(p>56319){(g-=3)>-1&&_e.push(239,191,189);continue}else if(Me+1===V){(g-=3)>-1&&_e.push(239,191,189);continue}ue=p;continue}if(p<56320){(g-=3)>-1&&_e.push(239,191,189),ue=p;continue}p=(ue-55296<<10|p-56320)+65536}else ue&&(g-=3)>-1&&_e.push(239,191,189);if(ue=null,p<128){if((g-=1)<0)break;_e.push(p)}else if(p<2048){if((g-=2)<0)break;_e.push(p>>6|192,p&63|128)}else if(p<65536){if((g-=3)<0)break;_e.push(p>>12|224,p>>6&63|128,p&63|128)}else if(p<1114112){if((g-=4)<0)break;_e.push(p>>18|240,p>>12&63|128,p>>6&63|128,p&63|128)}else throw new Error("Invalid code point")}return _e}o(at,"utf8ToBytes");function Ut(k){const g=[];for(let p=0;p<k.length;++p)g.push(k.charCodeAt(p)&255);return g}o(Ut,"asciiToBytes");function Tt(k,g){let p,V,ue;const _e=[];for(let Me=0;Me<k.length&&!((g-=2)<0);++Me)p=k.charCodeAt(Me),V=p>>8,ue=p%256,_e.push(ue),_e.push(V);return _e}o(Tt,"utf16leToBytes");function ke(k){return b.toByteArray(Rt(k))}o(ke,"base64ToBytes");function bt(k,g,p,V){let ue;for(ue=0;ue<V&&!(ue+p>=g.length||ue>=k.length);++ue)g[ue+p]=k[ue];return ue}o(bt,"blitBuffer");function se(k,g){return k instanceof g||k!=null&&k.constructor!=null&&k.constructor.name!=null&&k.constructor.name===g.name}o(se,"isInstance");function Kt(k){return k!==k}o(Kt,"numberIsNaN");const cn=function(){const k="0123456789abcdef",g=new Array(256);for(let p=0;p<16;++p){const V=p*16;for(let ue=0;ue<16;++ue)g[V+ue]=k[p]+k[ue]}return g}();function xn(k){return typeof BigInt=="undefined"?Rn:k}o(xn,"defineBigIntMethod");function Rn(){throw new Error("BigInt not supported")}o(Rn,"BufferBigIntNotDefined")},1:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__(8764).Buffer;const Token=__webpack_require__(3416),strtok3=__webpack_require__(5849),{stringToBytes,tarHeaderChecksumMatches,uint32SyncSafeToken}=__webpack_require__(6188),supported=__webpack_require__(9898),minimumBytes=4100;async function fromStream(ae){const S=await strtok3.fromStream(ae);try{return await fromTokenizer(S)}finally{await S.close()}}o(fromStream,"fromStream");async function fromBuffer(ae){if(!(ae instanceof Uint8Array||ae instanceof ArrayBuffer||Buffer.isBuffer(ae)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof ae}\``);const S=ae instanceof Buffer?ae:Buffer.from(ae);if(!(S&&S.length>1))return;const d=strtok3.fromBuffer(S);return fromTokenizer(d)}o(fromBuffer,"fromBuffer");function _check(ae,S,d){d={offset:0,...d};for(const[b,E]of S.entries())if(d.mask){if(E!==(d.mask[b]&ae[b+d.offset]))return!1}else if(E!==ae[b+d.offset])return!1;return!0}o(_check,"_check");async function fromTokenizer(ae){try{return _fromTokenizer(ae)}catch(S){if(!(S instanceof strtok3.EndOfStreamError))throw S}}o(fromTokenizer,"fromTokenizer");async function _fromTokenizer(ae){let S=Buffer.alloc(minimumBytes);const d=12,b=o((w,F)=>_check(S,w,F),"check"),E=o((w,F)=>b(stringToBytes(w),F),"checkString");if(ae.fileInfo.size||(ae.fileInfo.size=Number.MAX_SAFE_INTEGER),await ae.peekBuffer(S,{length:d,mayBeLess:!0}),b([66,77]))return{ext:"bmp",mime:"image/bmp"};if(b([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(b([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(b([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(b([37,33]))return await ae.peekBuffer(S,{length:24,mayBeLess:!0}),E("PS-Adobe-",{offset:2})&&E(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(b([31,160])||b([31,157]))return{ext:"Z",mime:"application/x-compress"};if(b([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(b([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(b([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(b([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(E("ID3")){await ae.ignore(6);const w=await ae.readToken(uint32SyncSafeToken);return ae.position+w>ae.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await ae.ignore(w),fromTokenizer(ae))}if(E("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((S[0]===67||S[0]===70)&&b([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(b([71,73,70]))return{ext:"gif",mime:"image/gif"};if(E("FLIF"))return{ext:"flif",mime:"image/flif"};if(E("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(E("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(E("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(E("FORM"))return{ext:"aif",mime:"audio/aiff"};if(E("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(b([80,75,3,4])){try{for(;ae.position+30<ae.fileInfo.size;){await ae.readBuffer(S,{length:30});const w={compressedSize:S.readUInt32LE(18),uncompressedSize:S.readUInt32LE(22),filenameLength:S.readUInt16LE(26),extraFieldLength:S.readUInt16LE(28)};if(w.filename=await ae.readToken(new Token.StringType(w.filenameLength,"utf-8")),await ae.ignore(w.extraFieldLength),w.filename==="META-INF/mozilla.rsa")return{ext:"xpi",mime:"application/x-xpinstall"};if(w.filename.endsWith(".rels")||w.filename.endsWith(".xml"))switch(w.filename.split("/")[0]){case"_rels":break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};default:break}if(w.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(w.filename.startsWith("3D/")&&w.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if(w.filename==="mimetype"&&w.compressedSize===w.uncompressedSize)switch(await ae.readToken(new Token.StringType(w.compressedSize,"utf-8"))){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};default:}if(w.compressedSize===0){let F=-1;for(;F<0&&ae.position<ae.fileInfo.size;)await ae.peekBuffer(S,{mayBeLess:!0}),F=S.indexOf("504B0304",0,"hex"),await ae.ignore(F>=0?F:S.length)}else await ae.ignore(w.compressedSize)}}catch(w){if(!(w instanceof strtok3.EndOfStreamError))throw w}return{ext:"zip",mime:"application/zip"}}if(E("OggS")){await ae.ignore(28);const w=Buffer.alloc(8);return await ae.readBuffer(w),_check(w,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:_check(w,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:_check(w,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:_check(w,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:_check(w,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:_check(w,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(b([80,75])&&(S[2]===3||S[2]===5||S[2]===7)&&(S[3]===4||S[3]===6||S[3]===8))return{ext:"zip",mime:"application/zip"};if(E("ftyp",{offset:4})&&(S[8]&96)!=0){const w=S.toString("binary",8,12).replace("\0"," ").trim();switch(w){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return w.startsWith("3g")?w.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(E("MThd"))return{ext:"mid",mime:"audio/midi"};if(E("wOFF")&&(b([0,1,0,0],{offset:4})||E("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(E("wOF2")&&(b([0,1,0,0],{offset:4})||E("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(b([212,195,178,161])||b([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(E("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(E("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(E("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(b([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(E("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(E("%PDF")){await ae.ignore(1350);const w=10*1024*1024,F=Buffer.alloc(Math.min(w,ae.fileInfo.size));return await ae.readBuffer(F,{mayBeLess:!0}),F.includes(Buffer.from("AIPrivateData"))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if(b([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(b([73,73,42,0]))return E("CR",{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:b([28,0,254,0],{offset:8})||b([31,0,11,0],{offset:8})?{ext:"nef",mime:"image/x-nikon-nef"}:b([8,0,0,0],{offset:4})&&(b([45,0,254,0],{offset:8})||b([39,0,254,0],{offset:8}))?{ext:"dng",mime:"image/x-adobe-dng"}:(S=Buffer.alloc(24),await ae.peekBuffer(S),(b([16,251,134,1],{offset:4})||b([8,0,0,0],{offset:4}))&&b([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"});if(b([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(E("MAC "))return{ext:"ape",mime:"audio/ape"};if(b([26,69,223,163])){async function w(){const _=await ae.peekNumber(Token.UINT8);let x=128,v=0;for(;(_&x)==0&&x!==0;)++v,x>>=1;const I=Buffer.alloc(v+1);return await ae.readBuffer(I),I}o(w,"readField");async function F(){const _=await w(),x=await w();x[0]^=128>>x.length-1;const v=Math.min(6,x.length);return{id:_.readUIntBE(0,_.length),len:x.readUIntBE(x.length-v,v)}}o(F,"readElement");async function W(_,x){for(;x>0;){const v=await F();if(v.id===17026)return ae.readToken(new Token.StringType(v.len,"utf-8"));await ae.ignore(v.len),--x}}o(W,"readChildren");const A=await F();switch(await W(1,A.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(b([82,73,70,70])){if(b([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(b([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(b([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(E("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(b([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(E("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(E("MSCF")||E("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(b([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(b([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(b([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(b([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(E("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(E("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(b([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(E("IMPM"))return{ext:"it",mime:"audio/x-it"};if(E("-lh0-",{offset:2})||E("-lh1-",{offset:2})||E("-lh2-",{offset:2})||E("-lh3-",{offset:2})||E("-lh4-",{offset:2})||E("-lh5-",{offset:2})||E("-lh6-",{offset:2})||E("-lh7-",{offset:2})||E("-lzs-",{offset:2})||E("-lz4-",{offset:2})||E("-lz5-",{offset:2})||E("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(b([0,0,1,186])){if(b([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(b([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(E("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(b([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(E("<?xml "))return{ext:"xml",mime:"application/xml"};if(b([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(b([82,97,114,33,26,7])&&(S[6]===0||S[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(E("solid "))return{ext:"stl",mime:"model/stl"};if(E("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(E("!<arch>"))return await ae.ignore(8),await ae.readToken(new Token.StringType(13,"ascii"))==="debian-binary"?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(b([137,80,78,71,13,10,26,10])){await ae.ignore(8);async function w(){return{length:await ae.readToken(Token.INT32_BE),type:await ae.readToken(new Token.StringType(4,"binary"))}}o(w,"readChunkHeader");do{const F=await w();if(F.length<0)return;switch(F.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await ae.ignore(F.length+4)}}while(ae.position+8<ae.fileInfo.size);return{ext:"png",mime:"image/png"}}if(b([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(b([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(b([102,114,101,101],{offset:4})||b([109,100,97,116],{offset:4})||b([109,111,111,118],{offset:4})||b([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(b([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(E("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(b([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(b([48,38,178,117,142,102,207,17,166,217])){async function w(){const F=Buffer.alloc(16);return await ae.readBuffer(F),{id:F,size:Number(await ae.readToken(Token.UINT64_LE))}}for(o(w,"readHeader"),await ae.ignore(30);ae.position+24<ae.fileInfo.size;){const F=await w();let W=F.size-24;if(_check(F.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const A=Buffer.alloc(16);if(W-=await ae.readBuffer(A),_check(A,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(_check(A,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await ae.ignore(W)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(b([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((b([126,16,4])||b([126,24,4]))&&b([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(b([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(b([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await ae.ignore(20),await ae.readToken(new Token.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(b([255,10])||b([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(b([0,0,1,186])||b([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(b([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(b([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(b([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(b([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await ae.peekBuffer(S,{length:Math.min(256,ae.fileInfo.size),mayBeLess:!0}),E("BEGIN:")){if(E("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(E("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(E("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(E("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(E("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(b([4,0,0,0])&&S.length>=16){const w=S.readUInt32LE(12);if(w>12&&S.length>=w+16)try{const F=S.slice(16,w+16).toString();if(JSON.parse(F).files)return{ext:"asar",mime:"application/x-asar"}}catch(F){}}if(b([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(E("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(b([71],{offset:4})&&(b([71],{offset:192})||b([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(b([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(b([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(b([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(b([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(b([76,80],{offset:34})&&(b([0,0,1],{offset:8})||b([1,0,2],{offset:8})||b([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(b([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await ae.peekBuffer(S,{length:Math.min(512,ae.fileInfo.size),mayBeLess:!0}),tarHeaderChecksumMatches(S))return{ext:"tar",mime:"application/x-tar"};if(b([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0]))return{ext:"skp",mime:"application/vnd.sketchup.skp"};if(E("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(S.length>=2&&b([255,224],{offset:0,mask:[255,224]})){if(b([16],{offset:1,mask:[22]}))return b([8],{offset:1,mask:[8]})?{ext:"aac",mime:"audio/aac"}:{ext:"aac",mime:"audio/aac"};if(b([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(b([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(b([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}o(_fromTokenizer,"_fromTokenizer");const stream=o(readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",async()=>{const ae=new stream.PassThrough;let S;stream.pipeline?S=stream.pipeline(readableStream,ae,()=>{}):S=readableStream.pipe(ae);const d=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0);try{const b=await fromBuffer(d);ae.fileType=b}catch(b){reject(b)}resolve(S)})}),"stream"),fileType={fromStream,fromTokenizer,fromBuffer,stream};Object.defineProperty(fileType,"extensions",{get(){return new Set(supported.extensions)}}),Object.defineProperty(fileType,"mimeTypes",{get(){return new Set(supported.mimeTypes)}}),module.exports=fileType},7769:(ae,S,d)=>{"use strict";const b=d(6597),E=d(1);async function w(W){const A=await b.fromFile(W);try{return await E.fromTokenizer(A)}finally{await A.close()}}o(w,"fromFile");const F={fromFile:w};Object.assign(F,E),Object.defineProperty(F,"extensions",{get(){return E.extensions}}),Object.defineProperty(F,"mimeTypes",{get(){return E.mimeTypes}}),ae.exports=F},9898:ae=>{"use strict";ae.exports={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]}},6188:(ae,S)=>{"use strict";S.stringToBytes=d=>[...d].map(b=>b.charCodeAt(0)),S.tarHeaderChecksumMatches=(d,b=0)=>{const E=parseInt(d.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(E))return!1;let w=8*32;for(let F=b;F<b+148;F++)w+=d[F];for(let F=b+156;F<b+512;F++)w+=d[F];return E===w},S.uint32SyncSafeToken={get:(d,b)=>d[b+3]&127|d[b+2]<<7|d[b+1]<<14|d[b]<<21,len:4}},7360:function(ae,S){var d,b,E;(function(w,F){b=[],d=F,E=typeof d=="function"?d.apply(S,b):d,E!==void 0&&(ae.exports=E)})(this,o(function(){function F(M){var $={single:function(O,D,P){if(!O||(B(O)||(O=$.getPreparedSearch(O)),!D))return null;B(D)||(D=$.getPrepared(D));var L=P&&P.allowTypo!==void 0?P.allowTypo:M&&M.allowTypo!==void 0?M.allowTypo:!0,X=L?$.algorithm:$.algorithmNoTypo;return X(O,D,O[0])},go:function(O,D,P){if(!O)return _;O=$.prepareSearch(O);var L=O[0],X=P&&P.threshold||M&&M.threshold||-9007199254740991,K=P&&P.limit||M&&M.limit||9007199254740991,ne=P&&P.allowTypo!==void 0?P.allowTypo:M&&M.allowTypo!==void 0?M.allowTypo:!0,de=ne?$.algorithm:$.algorithmNoTypo,ge=0,ie=0,xe=D.length;if(P&&P.keys)for(var U=P.scoreFn||R,he=P.keys,oe=he.length,pe=xe-1;pe>=0;--pe){for(var Ee=D[pe],Ie=new Array(oe),mt=oe-1;mt>=0;--mt){var Ye=he[mt],q=T(Ee,Ye);if(!q){Ie[mt]=null;continue}B(q)||(q=$.getPrepared(q)),Ie[mt]=de(O,q,L)}Ie.obj=Ee;var Te=U(Ie);Te!==null&&(Te<X||(Ie.score=Te,ge<K?(te.add(Ie),++ge):(++ie,Te>te.peek().score&&te.replaceTop(Ie))))}else if(P&&P.key)for(var Ye=P.key,pe=xe-1;pe>=0;--pe){var Ee=D[pe],q=T(Ee,Ye);if(!!q){B(q)||(q=$.getPrepared(q));var Re=de(O,q,L);Re!==null&&(Re.score<X||(Re={target:Re.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:Re.score,indexes:Re.indexes,obj:Ee},ge<K?(te.add(Re),++ge):(++ie,Re.score>te.peek().score&&te.replaceTop(Re))))}}else for(var pe=xe-1;pe>=0;--pe){var q=D[pe];if(!!q){B(q)||(q=$.getPrepared(q));var Re=de(O,q,L);Re!==null&&(Re.score<X||(ge<K?(te.add(Re),++ge):(++ie,Re.score>te.peek().score&&te.replaceTop(Re))))}}if(ge===0)return _;for(var nt=new Array(ge),pe=ge-1;pe>=0;--pe)nt[pe]=te.poll();return nt.total=ge+ie,nt},goAsync:function(O,D,P){var L=!1,X=new Promise(function(K,ne){if(!O)return K(_);O=$.prepareSearch(O);var de=O[0],ge=Z(),ie=D.length-1,xe=P&&P.threshold||M&&M.threshold||-9007199254740991,U=P&&P.limit||M&&M.limit||9007199254740991,he=P&&P.allowTypo!==void 0?P.allowTypo:M&&M.allowTypo!==void 0?M.allowTypo:!0,oe=he?$.algorithm:$.algorithmNoTypo,pe=0,Ee=0;function Ie(){if(L)return ne("canceled");var mt=Date.now();if(P&&P.keys)for(var Ye=P.scoreFn||R,q=P.keys,Te=q.length;ie>=0;--ie){for(var Re=D[ie],nt=new Array(Te),ve=Te-1;ve>=0;--ve){var ee=q[ve],ye=T(Re,ee);if(!ye){nt[ve]=null;continue}B(ye)||(ye=$.getPrepared(ye)),nt[ve]=oe(O,ye,de)}nt.obj=Re;var Ce=Ye(nt);if(Ce!==null&&!(Ce<xe)&&(nt.score=Ce,pe<U?(ge.add(nt),++pe):(++Ee,Ce>ge.peek().score&&ge.replaceTop(nt)),ie%1e3==0&&Date.now()-mt>=10)){W?setImmediate(Ie):setTimeout(Ie);return}}else if(P&&P.key)for(var ee=P.key;ie>=0;--ie){var Re=D[ie],ye=T(Re,ee);if(!!ye){B(ye)||(ye=$.getPrepared(ye));var ce=oe(O,ye,de);if(ce!==null&&!(ce.score<xe)&&(ce={target:ce.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:ce.score,indexes:ce.indexes,obj:Re},pe<U?(ge.add(ce),++pe):(++Ee,ce.score>ge.peek().score&&ge.replaceTop(ce)),ie%1e3==0&&Date.now()-mt>=10)){W?setImmediate(Ie):setTimeout(Ie);return}}}else for(;ie>=0;--ie){var ye=D[ie];if(!!ye){B(ye)||(ye=$.getPrepared(ye));var ce=oe(O,ye,de);if(ce!==null&&!(ce.score<xe)&&(pe<U?(ge.add(ce),++pe):(++Ee,ce.score>ge.peek().score&&ge.replaceTop(ce)),ie%1e3==0&&Date.now()-mt>=10)){W?setImmediate(Ie):setTimeout(Ie);return}}}if(pe===0)return K(_);for(var Fe=new Array(pe),Ae=pe-1;Ae>=0;--Ae)Fe[Ae]=ge.poll();Fe.total=pe+Ee,K(Fe)}o(Ie,"step"),W?setImmediate(Ie):Ie()});return X.cancel=function(){L=!0},X},highlight:function(O,D,P){if(O===null)return null;D===void 0&&(D="<b>"),P===void 0&&(P="</b>");for(var L="",X=0,K=!1,ne=O.target,de=ne.length,ge=O.indexes,ie=0;ie<de;++ie){var xe=ne[ie];if(ge[X]===ie){if(++X,K||(K=!0,L+=D),X===ge.length){L+=xe+P+ne.substr(ie+1);break}}else K&&(K=!1,L+=P);L+=xe}return L},prepare:function(O){if(!!O)return{target:O,_targetLowerCodes:$.prepareLowerCodes(O),_nextBeginningIndexes:null,score:null,indexes:null,obj:null}},prepareSlow:function(O){if(!!O)return{target:O,_targetLowerCodes:$.prepareLowerCodes(O),_nextBeginningIndexes:$.prepareNextBeginningIndexes(O),score:null,indexes:null,obj:null}},prepareSearch:function(O){if(!!O)return $.prepareLowerCodes(O)},getPrepared:function(O){if(O.length>999)return $.prepare(O);var D=A.get(O);return D!==void 0||(D=$.prepare(O),A.set(O,D)),D},getPreparedSearch:function(O){if(O.length>999)return $.prepareSearch(O);var D=h.get(O);return D!==void 0||(D=$.prepareSearch(O),h.set(O,D)),D},algorithm:function(O,D,P){for(var L=D._targetLowerCodes,X=O.length,K=L.length,ne=0,de=0,ge=0,ie=0;;){var xe=P===L[de];if(xe){if(x[ie++]=de,++ne,ne===X)break;P=O[ge===0?ne:ge===ne?ne+1:ge===ne-1?ne-1:ne]}if(++de,de>=K)for(;;){if(ne<=1)return null;if(ge===0){--ne;var U=O[ne];if(P===U)continue;ge=ne}else{if(ge===1)return null;--ge,ne=ge,P=O[ne+1];var U=O[ne];if(P===U)continue}ie=ne,de=x[ie-1]+1;break}}var ne=0,he=0,oe=!1,pe=0,Ee=D._nextBeginningIndexes;Ee===null&&(Ee=D._nextBeginningIndexes=$.prepareNextBeginningIndexes(D.target));var Ie=de=x[0]===0?0:Ee[x[0]-1];if(de!==K)for(;;)if(de>=K){if(ne<=0){if(++he,he>X-2)break;if(O[he]===O[he+1])continue;de=Ie;continue}--ne;var mt=v[--pe];de=Ee[mt]}else{var xe=O[he===0?ne:he===ne?ne+1:he===ne-1?ne-1:ne]===L[de];if(xe){if(v[pe++]=de,++ne,ne===X){oe=!0;break}++de}else de=Ee[de]}{if(oe)var Ye=v,q=pe;else var Ye=x,q=ie;for(var Te=0,Re=-1,nt=0;nt<X;++nt){var de=Ye[nt];Re!==de-1&&(Te-=de),Re=de}oe?he!==0&&(Te+=-20):(Te*=1e3,ge!==0&&(Te+=-20)),Te-=K-X,D.score=Te,D.indexes=new Array(q);for(var nt=q-1;nt>=0;--nt)D.indexes[nt]=Ye[nt];return D}},algorithmNoTypo:function(O,D,P){for(var L=D._targetLowerCodes,X=O.length,K=L.length,ne=0,de=0,ge=0;;){var ie=P===L[de];if(ie){if(x[ge++]=de,++ne,ne===X)break;P=O[ne]}if(++de,de>=K)return null}var ne=0,xe=!1,U=0,he=D._nextBeginningIndexes;he===null&&(he=D._nextBeginningIndexes=$.prepareNextBeginningIndexes(D.target));var oe=de=x[0]===0?0:he[x[0]-1];if(de!==K)for(;;)if(de>=K){if(ne<=0)break;--ne;var pe=v[--U];de=he[pe]}else{var ie=O[ne]===L[de];if(ie){if(v[U++]=de,++ne,ne===X){xe=!0;break}++de}else de=he[de]}{if(xe)var Ee=v,Ie=U;else var Ee=x,Ie=ge;for(var mt=0,Ye=-1,q=0;q<X;++q){var de=Ee[q];Ye!==de-1&&(mt-=de),Ye=de}xe||(mt*=1e3),mt-=K-X,D.score=mt,D.indexes=new Array(Ie);for(var q=Ie-1;q>=0;--q)D.indexes[q]=Ee[q];return D}},prepareLowerCodes:function(O){for(var D=O.length,P=[],L=O.toLowerCase(),X=0;X<D;++X)P[X]=L.charCodeAt(X);return P},prepareBeginningIndexes:function(O){for(var D=O.length,P=[],L=0,X=!1,K=!1,ne=0;ne<D;++ne){var de=O.charCodeAt(ne),ge=de>=65&&de<=90,ie=ge||de>=97&&de<=122||de>=48&&de<=57,xe=ge&&!X||!K||!ie;X=ge,K=ie,xe&&(P[L++]=ne)}return P},prepareNextBeginningIndexes:function(O){for(var D=O.length,P=$.prepareBeginningIndexes(O),L=[],X=P[0],K=0,ne=0;ne<D;++ne)X>ne?L[ne]=X:(X=P[++K],L[ne]=X===void 0?D:X);return L},cleanup:I,new:F};return $}o(F,"fuzzysortNew");var W=typeof window=="undefined",A=new Map,h=new Map,_=[];_.total=0;var x=[],v=[];function I(){A.clear(),h.clear(),x=[],v=[]}o(I,"cleanup");function R(M){for(var $=-9007199254740991,O=M.length-1;O>=0;--O){var D=M[O];if(D!==null){var P=D.score;P>$&&($=P)}}return $===-9007199254740991?null:$}o(R,"defaultScoreFn");function T(M,$){var O=M[$];if(O!==void 0)return O;var D=$;Array.isArray($)||(D=$.split("."));for(var P=D.length,L=-1;M&&++L<P;)M=M[D[L]];return M}o(T,"getValue");function B(M){return typeof M=="object"}o(B,"isObj");var Z=o(function(){var M=[],$=0,O={};function D(){for(var P=0,L=M[P],X=1;X<$;){var K=X+1;P=X,K<$&&M[K].score<M[X].score&&(P=K),M[P-1>>1]=M[P],X=1+(P<<1)}for(var ne=P-1>>1;P>0&&L.score<M[ne].score;ne=(P=ne)-1>>1)M[P]=M[ne];M[P]=L}return o(D,"n"),O.add=function(P){var L=$;M[$++]=P;for(var X=L-1>>1;L>0&&P.score<M[X].score;X=(L=X)-1>>1)M[L]=M[X];M[L]=P},O.poll=function(){if($!==0){var P=M[0];return M[0]=M[--$],D(),P}},O.peek=function(P){if($!==0)return M[0]},O.replaceTop=function(P){M[0]=P,D()},O},"fastpriorityqueue"),te=Z();return F()},"UMD"))},645:(ae,S)=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */S.read=function(d,b,E,w,F){var W,A,h=F*8-w-1,_=(1<<h)-1,x=_>>1,v=-7,I=E?F-1:0,R=E?-1:1,T=d[b+I];for(I+=R,W=T&(1<<-v)-1,T>>=-v,v+=h;v>0;W=W*256+d[b+I],I+=R,v-=8);for(A=W&(1<<-v)-1,W>>=-v,v+=w;v>0;A=A*256+d[b+I],I+=R,v-=8);if(W===0)W=1-x;else{if(W===_)return A?NaN:(T?-1:1)*(1/0);A=A+Math.pow(2,w),W=W-x}return(T?-1:1)*A*Math.pow(2,W-w)},S.write=function(d,b,E,w,F,W){var A,h,_,x=W*8-F-1,v=(1<<x)-1,I=v>>1,R=F===23?Math.pow(2,-24)-Math.pow(2,-77):0,T=w?0:W-1,B=w?1:-1,Z=b<0||b===0&&1/b<0?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(h=isNaN(b)?1:0,A=v):(A=Math.floor(Math.log(b)/Math.LN2),b*(_=Math.pow(2,-A))<1&&(A--,_*=2),A+I>=1?b+=R/_:b+=R*Math.pow(2,1-I),b*_>=2&&(A++,_/=2),A+I>=v?(h=0,A=v):A+I>=1?(h=(b*_-1)*Math.pow(2,F),A=A+I):(h=b*Math.pow(2,I-1)*Math.pow(2,F),A=0));F>=8;d[E+T]=h&255,T+=B,h/=256,F-=8);for(A=A<<F|h,x+=F;x>0;d[E+T]=A&255,T+=B,A/=256,x-=8);d[E+T-B]|=Z*128}},3300:(ae,S)=>{"use strict";var d=o(function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof b!="undefined")return b;throw new Error("unable to locate global object")},"getGlobal"),b=d();ae.exports=S=b.fetch,b.fetch&&(S.default=b.fetch.bind(b)),S.Headers=b.Headers,S.Request=b.Request,S.Response=b.Response},447:(ae,S,d)=>{var b=d(2479);ae.exports=b(E),ae.exports.strict=b(w),E.proto=E(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return E(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return w(this)},configurable:!0})});function E(F){var W=o(function(){return W.called?W.value:(W.called=!0,W.value=F.apply(this,arguments))},"f");return W.called=!1,W}o(E,"once");function w(F){var W=o(function(){if(W.called)throw new Error(W.onceError);return W.called=!0,W.value=F.apply(this,arguments)},"f"),A=F.name||"Function wrapped with `once`";return W.onceError=A+" shouldn't be called more than once",W.called=!1,W}o(w,"onceStrict")},6470:(ae,S,d)=>{"use strict";var b=d(4155);function E(A){if(typeof A!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(A))}o(E,"assertPath");function w(A,h){for(var _="",x=0,v=-1,I=0,R,T=0;T<=A.length;++T){if(T<A.length)R=A.charCodeAt(T);else{if(R===47)break;R=47}if(R===47){if(!(v===T-1||I===1))if(v!==T-1&&I===2){if(_.length<2||x!==2||_.charCodeAt(_.length-1)!==46||_.charCodeAt(_.length-2)!==46){if(_.length>2){var B=_.lastIndexOf("/");if(B!==_.length-1){B===-1?(_="",x=0):(_=_.slice(0,B),x=_.length-1-_.lastIndexOf("/")),v=T,I=0;continue}}else if(_.length===2||_.length===1){_="",x=0,v=T,I=0;continue}}h&&(_.length>0?_+="/..":_="..",x=2)}else _.length>0?_+="/"+A.slice(v+1,T):_=A.slice(v+1,T),x=T-v-1;v=T,I=0}else R===46&&I!==-1?++I:I=-1}return _}o(w,"normalizeStringPosix");function F(A,h){var _=h.dir||h.root,x=h.base||(h.name||"")+(h.ext||"");return _?_===h.root?_+x:_+A+x:x}o(F,"_format");var W={resolve:o(function(){for(var h="",_=!1,x,v=arguments.length-1;v>=-1&&!_;v--){var I;v>=0?I=arguments[v]:(x===void 0&&(x=b.cwd()),I=x),E(I),I.length!==0&&(h=I+"/"+h,_=I.charCodeAt(0)===47)}return h=w(h,!_),_?h.length>0?"/"+h:"/":h.length>0?h:"."},"resolve"),normalize:o(function(h){if(E(h),h.length===0)return".";var _=h.charCodeAt(0)===47,x=h.charCodeAt(h.length-1)===47;return h=w(h,!_),h.length===0&&!_&&(h="."),h.length>0&&x&&(h+="/"),_?"/"+h:h},"normalize"),isAbsolute:o(function(h){return E(h),h.length>0&&h.charCodeAt(0)===47},"isAbsolute"),join:o(function(){if(arguments.length===0)return".";for(var h,_=0;_<arguments.length;++_){var x=arguments[_];E(x),x.length>0&&(h===void 0?h=x:h+="/"+x)}return h===void 0?".":W.normalize(h)},"join"),relative:o(function(h,_){if(E(h),E(_),h===_||(h=W.resolve(h),_=W.resolve(_),h===_))return"";for(var x=1;x<h.length&&h.charCodeAt(x)===47;++x);for(var v=h.length,I=v-x,R=1;R<_.length&&_.charCodeAt(R)===47;++R);for(var T=_.length,B=T-R,Z=I<B?I:B,te=-1,M=0;M<=Z;++M){if(M===Z){if(B>Z){if(_.charCodeAt(R+M)===47)return _.slice(R+M+1);if(M===0)return _.slice(R+M)}else I>Z&&(h.charCodeAt(x+M)===47?te=M:M===0&&(te=0));break}var $=h.charCodeAt(x+M),O=_.charCodeAt(R+M);if($!==O)break;$===47&&(te=M)}var D="";for(M=x+te+1;M<=v;++M)(M===v||h.charCodeAt(M)===47)&&(D.length===0?D+="..":D+="/..");return D.length>0?D+_.slice(R+te):(R+=te,_.charCodeAt(R)===47&&++R,_.slice(R))},"relative"),_makeLong:o(function(h){return h},"_makeLong"),dirname:o(function(h){if(E(h),h.length===0)return".";for(var _=h.charCodeAt(0),x=_===47,v=-1,I=!0,R=h.length-1;R>=1;--R)if(_=h.charCodeAt(R),_===47){if(!I){v=R;break}}else I=!1;return v===-1?x?"/":".":x&&v===1?"//":h.slice(0,v)},"dirname"),basename:o(function(h,_){if(_!==void 0&&typeof _!="string")throw new TypeError('"ext" argument must be a string');E(h);var x=0,v=-1,I=!0,R;if(_!==void 0&&_.length>0&&_.length<=h.length){if(_.length===h.length&&_===h)return"";var T=_.length-1,B=-1;for(R=h.length-1;R>=0;--R){var Z=h.charCodeAt(R);if(Z===47){if(!I){x=R+1;break}}else B===-1&&(I=!1,B=R+1),T>=0&&(Z===_.charCodeAt(T)?--T==-1&&(v=R):(T=-1,v=B))}return x===v?v=B:v===-1&&(v=h.length),h.slice(x,v)}else{for(R=h.length-1;R>=0;--R)if(h.charCodeAt(R)===47){if(!I){x=R+1;break}}else v===-1&&(I=!1,v=R+1);return v===-1?"":h.slice(x,v)}},"basename"),extname:o(function(h){E(h);for(var _=-1,x=0,v=-1,I=!0,R=0,T=h.length-1;T>=0;--T){var B=h.charCodeAt(T);if(B===47){if(!I){x=T+1;break}continue}v===-1&&(I=!1,v=T+1),B===46?_===-1?_=T:R!==1&&(R=1):_!==-1&&(R=-1)}return _===-1||v===-1||R===0||R===1&&_===v-1&&_===x+1?"":h.slice(_,v)},"extname"),format:o(function(h){if(h===null||typeof h!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof h);return F("/",h)},"format"),parse:o(function(h){E(h);var _={root:"",dir:"",base:"",ext:"",name:""};if(h.length===0)return _;var x=h.charCodeAt(0),v=x===47,I;v?(_.root="/",I=1):I=0;for(var R=-1,T=0,B=-1,Z=!0,te=h.length-1,M=0;te>=I;--te){if(x=h.charCodeAt(te),x===47){if(!Z){T=te+1;break}continue}B===-1&&(Z=!1,B=te+1),x===46?R===-1?R=te:M!==1&&(M=1):R!==-1&&(M=-1)}return R===-1||B===-1||M===0||M===1&&R===B-1&&R===T+1?B!==-1&&(T===0&&v?_.base=_.name=h.slice(1,B):_.base=_.name=h.slice(T,B)):(T===0&&v?(_.name=h.slice(1,R),_.base=h.slice(1,B)):(_.name=h.slice(T,R),_.base=h.slice(T,B)),_.ext=h.slice(R,B)),T>0?_.dir=h.slice(0,T-1):v&&(_.dir="/"),_},"parse"),sep:"/",delimiter:":",win32:null,posix:null};W.posix=W,ae.exports=W},8985:(ae,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.Deferred=void 0;class d{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise((E,w)=>{this.reject=w,this.resolve=E})}}o(d,"Deferred"),S.Deferred=d},7279:(ae,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.EndOfStreamError=S.defaultMessages=void 0,S.defaultMessages="End-Of-Stream";class d extends Error{constructor(){super(S.defaultMessages)}}o(d,"EndOfStreamError"),S.EndOfStreamError=d},6654:(ae,S,d)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.StreamReader=S.EndOfStreamError=void 0;const b=d(7279),E=d(8985);var w=d(7279);Object.defineProperty(S,"EndOfStreamError",{enumerable:!0,get:function(){return w.EndOfStreamError}});const F=1*1024*1024;class W{constructor(h){if(this.s=h,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!h.read||!h.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",()=>this.reject(new b.EndOfStreamError)),this.s.once("error",_=>this.reject(_)),this.s.once("close",()=>this.reject(new Error("Stream closed")))}async peek(h,_,x){const v=await this.read(h,_,x);return this.peekQueue.push(h.subarray(_,_+v)),v}async read(h,_,x){if(x===0)return 0;if(this.peekQueue.length===0&&this.endOfStream)throw new b.EndOfStreamError;let v=x,I=0;for(;this.peekQueue.length>0&&v>0;){const R=this.peekQueue.pop();if(!R)throw new Error("peekData should be defined");const T=Math.min(R.length,v);h.set(R.subarray(0,T),_+I),I+=T,v-=T,T<R.length&&this.peekQueue.push(R.subarray(T))}for(;v>0&&!this.endOfStream;){const R=Math.min(v,F),T=await this.readFromStream(h,_+I,R);if(I+=T,T<R)break;v-=T}return I}async readFromStream(h,_,x){const v=this.s.read(x);if(v)return h.set(v,_),v.length;{const I={buffer:h,offset:_,length:x,deferred:new E.Deferred};return this.deferred=I.deferred,this.s.once("readable",()=>{this.readDeferred(I)}),I.deferred.promise}}readDeferred(h){const _=this.s.read(h.length);_?(h.buffer.set(_,h.offset),h.deferred.resolve(_.length),this.deferred=null):this.s.once("readable",()=>{this.readDeferred(h)})}reject(h){this.endOfStream=!0,this.deferred&&(this.deferred.reject(h),this.deferred=null)}}o(W,"StreamReader"),S.StreamReader=W},5167:(ae,S,d)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.StreamReader=S.EndOfStreamError=void 0;var b=d(7279);Object.defineProperty(S,"EndOfStreamError",{enumerable:!0,get:function(){return b.EndOfStreamError}});var E=d(6654);Object.defineProperty(S,"StreamReader",{enumerable:!0,get:function(){return E.StreamReader}})},4155:ae=>{var S=ae.exports={},d,b;function E(){throw new Error("setTimeout has not been defined")}o(E,"defaultSetTimout");function w(){throw new Error("clearTimeout has not been defined")}o(w,"defaultClearTimeout"),function(){try{typeof setTimeout=="function"?d=setTimeout:d=E}catch(B){d=E}try{typeof clearTimeout=="function"?b=clearTimeout:b=w}catch(B){b=w}}();function F(B){if(d===setTimeout)return setTimeout(B,0);if((d===E||!d)&&setTimeout)return d=setTimeout,setTimeout(B,0);try{return d(B,0)}catch(Z){try{return d.call(null,B,0)}catch(te){return d.call(this,B,0)}}}o(F,"runTimeout");function W(B){if(b===clearTimeout)return clearTimeout(B);if((b===w||!b)&&clearTimeout)return b=clearTimeout,clearTimeout(B);try{return b(B)}catch(Z){try{return b.call(null,B)}catch(te){return b.call(this,B)}}}o(W,"runClearTimeout");var A=[],h=!1,_,x=-1;function v(){!h||!_||(h=!1,_.length?A=_.concat(A):x=-1,A.length&&I())}o(v,"cleanUpNextTick");function I(){if(!h){var B=F(v);h=!0;for(var Z=A.length;Z;){for(_=A,A=[];++x<Z;)_&&_[x].run();x=-1,Z=A.length}_=null,h=!1,W(B)}}o(I,"drainQueue"),S.nextTick=function(B){var Z=new Array(arguments.length-1);if(arguments.length>1)for(var te=1;te<arguments.length;te++)Z[te-1]=arguments[te];A.push(new R(B,Z)),A.length===1&&!h&&F(I)};function R(B,Z){this.fun=B,this.array=Z}o(R,"Item"),R.prototype.run=function(){this.fun.apply(null,this.array)},S.title="browser",S.browser=!0,S.env={},S.argv=[],S.version="",S.versions={};function T(){}o(T,"noop"),S.on=T,S.addListener=T,S.once=T,S.off=T,S.removeListener=T,S.removeAllListeners=T,S.emit=T,S.prependListener=T,S.prependOnceListener=T,S.listeners=function(B){return[]},S.binding=function(B){throw new Error("process.binding is not supported")},S.cwd=function(){return"/"},S.chdir=function(B){throw new Error("process.chdir is not supported")},S.umask=function(){return 0}},842:(ae,S,d)=>{"use strict";var b=d(8764).Buffer;Object.defineProperty(S,"__esModule",{value:!0}),S.AbstractTokenizer=void 0;const E=d(5167);class w{constructor(W){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=W||{}}async readToken(W,A=this.position){const h=b.alloc(W.len);if(await this.readBuffer(h,{position:A})<W.len)throw new E.EndOfStreamError;return W.get(h,0)}async peekToken(W,A=this.position){const h=b.alloc(W.len);if(await this.peekBuffer(h,{position:A})<W.len)throw new E.EndOfStreamError;return W.get(h,0)}async readNumber(W){if(await this.readBuffer(this.numBuffer,{length:W.len})<W.len)throw new E.EndOfStreamError;return W.get(this.numBuffer,0)}async peekNumber(W){if(await this.peekBuffer(this.numBuffer,{length:W.len})<W.len)throw new E.EndOfStreamError;return W.get(this.numBuffer,0)}async ignore(W){if(this.fileInfo.size!==void 0){const A=this.fileInfo.size-this.position;if(W>A)return this.position+=A,A}return this.position+=W,W}async close(){}normalizeOptions(W,A){if(A&&A.position!==void 0&&A.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return A?{mayBeLess:A.mayBeLess===!0,offset:A.offset?A.offset:0,length:A.length?A.length:W.length-(A.offset?A.offset:0),position:A.position?A.position:this.position}:{mayBeLess:!1,offset:0,length:W.length,position:this.position}}}o(w,"AbstractTokenizer"),S.AbstractTokenizer=w},778:(ae,S,d)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.BufferTokenizer=void 0;const b=d(5167),E=d(842);class w extends E.AbstractTokenizer{constructor(W,A){super(A);this.uint8Array=W,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:W.length}async readBuffer(W,A){if(A&&A.position){if(A.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=A.position}const h=await this.peekBuffer(W,A);return this.position+=h,h}async peekBuffer(W,A){const h=this.normalizeOptions(W,A),_=Math.min(this.uint8Array.length-h.position,h.length);if(!h.mayBeLess&&_<h.length)throw new b.EndOfStreamError;return W.set(this.uint8Array.subarray(h.position,h.position+_),h.offset),_}async close(){}}o(w,"BufferTokenizer"),S.BufferTokenizer=w},7859:(ae,S,d)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.fromFile=S.FileTokenizer=void 0;const b=d(842),E=d(5167),w=d(7209);class F extends b.AbstractTokenizer{constructor(h,_){super(_);this.fd=h}async readBuffer(h,_){const x=this.normalizeOptions(h,_);this.position=x.position;const v=await w.read(this.fd,h,x.offset,x.length,x.position);if(this.position+=v.bytesRead,v.bytesRead<x.length&&(!_||!_.mayBeLess))throw new E.EndOfStreamError;return v.bytesRead}async peekBuffer(h,_){const x=this.normalizeOptions(h,_),v=await w.read(this.fd,h,x.offset,x.length,x.position);if(!x.mayBeLess&&v.bytesRead<x.length)throw new E.EndOfStreamError;return v.bytesRead}async close(){return w.close(this.fd)}}o(F,"FileTokenizer"),S.FileTokenizer=F;async function W(A){const h=await w.stat(A);if(!h.isFile)throw new Error(`File not a file: ${A}`);const _=await w.open(A,"r");return new F(_,{path:A,size:h.size})}o(W,"fromFile"),S.fromFile=W},7209:(ae,S,d)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.readFile=S.writeFileSync=S.writeFile=S.read=S.open=S.close=S.stat=S.createReadStream=S.pathExists=void 0;const b=d(4059);S.pathExists=b.existsSync,S.createReadStream=b.createReadStream;async function E(x){return new Promise((v,I)=>{b.stat(x,(R,T)=>{R?I(R):v(T)})})}o(E,"stat"),S.stat=E;async function w(x){return new Promise((v,I)=>{b.close(x,R=>{R?I(R):v()})})}o(w,"close"),S.close=w;async function F(x,v){return new Promise((I,R)=>{b.open(x,v,(T,B)=>{T?R(T):I(B)})})}o(F,"open"),S.open=F;async function W(x,v,I,R,T){return new Promise((B,Z)=>{b.read(x,v,I,R,T,(te,M,$)=>{te?Z(te):B({bytesRead:M,buffer:$})})})}o(W,"read"),S.read=W;async function A(x,v){return new Promise((I,R)=>{b.writeFile(x,v,T=>{T?R(T):I()})})}o(A,"writeFile"),S.writeFile=A;function h(x,v){b.writeFileSync(x,v)}o(h,"writeFileSync"),S.writeFileSync=h;async function _(x){return new Promise((v,I)=>{b.readFile(x,(R,T)=>{R?I(R):v(T)})})}o(_,"readFile"),S.readFile=_},599:(ae,S,d)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.ReadStreamTokenizer=void 0;const b=d(842),E=d(5167),w=256e3;class F extends b.AbstractTokenizer{constructor(A,h){super(h);this.streamReader=new E.StreamReader(A)}async getFileInfo(){return this.fileInfo}async readBuffer(A,h){const _=this.normalizeOptions(A,h),x=_.position-this.position;if(x>0)return await this.ignore(x),this.readBuffer(A,h);if(x<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(_.length===0)return 0;const v=await this.streamReader.read(A,_.offset,_.length);if(this.position+=v,(!h||!h.mayBeLess)&&v<_.length)throw new E.EndOfStreamError;return v}async peekBuffer(A,h){const _=this.normalizeOptions(A,h);let x=0;if(_.position){const v=_.position-this.position;if(v>0){const I=new Uint8Array(_.length+v);return x=await this.peekBuffer(I,{mayBeLess:_.mayBeLess}),A.set(I.subarray(v),_.offset),x-v}else if(v<0)throw new Error("Cannot peek from a negative offset in a stream")}if(_.length>0){try{x=await this.streamReader.peek(A,_.offset,_.length)}catch(v){if(h&&h.mayBeLess&&v instanceof E.EndOfStreamError)return 0;throw v}if(!_.mayBeLess&&x<_.length)throw new E.EndOfStreamError}return x}async ignore(A){const h=Math.min(w,A),_=new Uint8Array(h);let x=0;for(;x<A;){const v=A-x,I=await this.readBuffer(_,{length:Math.min(h,v)});if(I<0)return I;x+=I}return x}}o(F,"ReadStreamTokenizer"),S.ReadStreamTokenizer=F},5849:(ae,S,d)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.fromBuffer=S.fromStream=S.EndOfStreamError=void 0;const b=d(599),E=d(778);var w=d(5167);Object.defineProperty(S,"EndOfStreamError",{enumerable:!0,get:function(){return w.EndOfStreamError}});function F(A,h){return h=h||{},new b.ReadStreamTokenizer(A,h)}o(F,"fromStream"),S.fromStream=F;function W(A,h){return new E.BufferTokenizer(A,h)}o(W,"fromBuffer"),S.fromBuffer=W},6597:(ae,S,d)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.fromStream=S.fromBuffer=S.EndOfStreamError=S.fromFile=void 0;const b=d(7209),E=d(5849);var w=d(7859);Object.defineProperty(S,"fromFile",{enumerable:!0,get:function(){return w.fromFile}});var F=d(5849);Object.defineProperty(S,"EndOfStreamError",{enumerable:!0,get:function(){return F.EndOfStreamError}}),Object.defineProperty(S,"fromBuffer",{enumerable:!0,get:function(){return F.fromBuffer}});async function W(A,h){if(h=h||{},A.path){const _=await b.stat(A.path);h.path=A.path,h.size=_.size}return E.fromStream(A,h)}o(W,"fromStream"),S.fromStream=W},3416:(ae,S,d)=>{"use strict";var b=d(8764).Buffer;Object.defineProperty(S,"__esModule",{value:!0}),S.AnsiStringType=S.StringType=S.BufferType=S.Uint8ArrayType=S.IgnoreType=S.Float80_LE=S.Float80_BE=S.Float64_LE=S.Float64_BE=S.Float32_LE=S.Float32_BE=S.Float16_LE=S.Float16_BE=S.INT64_BE=S.UINT64_BE=S.INT64_LE=S.UINT64_LE=S.INT32_LE=S.INT32_BE=S.INT24_BE=S.INT24_LE=S.INT16_LE=S.INT16_BE=S.INT8=S.UINT32_BE=S.UINT32_LE=S.UINT24_BE=S.UINT24_LE=S.UINT16_BE=S.UINT16_LE=S.UINT8=void 0;const E=d(645);function w(x){return new DataView(x.buffer,x.byteOffset)}o(w,"dv"),S.UINT8={len:1,get(x,v){return w(x).getUint8(v)},put(x,v,I){return w(x).setUint8(v,I),v+1}},S.UINT16_LE={len:2,get(x,v){return w(x).getUint16(v,!0)},put(x,v,I){return w(x).setUint16(v,I,!0),v+2}},S.UINT16_BE={len:2,get(x,v){return w(x).getUint16(v)},put(x,v,I){return w(x).setUint16(v,I),v+2}},S.UINT24_LE={len:3,get(x,v){const I=w(x);return I.getUint8(v)+(I.getUint16(v+1,!0)<<8)},put(x,v,I){const R=w(x);return R.setUint8(v,I&255),R.setUint16(v+1,I>>8,!0),v+3}},S.UINT24_BE={len:3,get(x,v){const I=w(x);return(I.getUint16(v)<<8)+I.getUint8(v+2)},put(x,v,I){const R=w(x);return R.setUint16(v,I>>8),R.setUint8(v+2,I&255),v+3}},S.UINT32_LE={len:4,get(x,v){return w(x).getUint32(v,!0)},put(x,v,I){return w(x).setUint32(v,I,!0),v+4}},S.UINT32_BE={len:4,get(x,v){return w(x).getUint32(v)},put(x,v,I){return w(x).setUint32(v,I),v+4}},S.INT8={len:1,get(x,v){return w(x).getInt8(v)},put(x,v,I){return w(x).setInt8(v,I),v+2}},S.INT16_BE={len:2,get(x,v){return w(x).getInt16(v)},put(x,v,I){return w(x).setInt16(v,I),v+2}},S.INT16_LE={len:2,get(x,v){return w(x).getInt16(v,!0)},put(x,v,I){return w(x).setInt16(v,I,!0),v+2}},S.INT24_LE={len:3,get(x,v){const I=S.UINT24_LE.get(x,v);return I>8388607?I-16777216:I},put(x,v,I){const R=w(x);return R.setUint8(v,I&255),R.setUint16(v+1,I>>8,!0),v+3}},S.INT24_BE={len:3,get(x,v){const I=S.UINT24_BE.get(x,v);return I>8388607?I-16777216:I},put(x,v,I){const R=w(x);return R.setUint16(v,I>>8),R.setUint8(v+2,I&255),v+3}},S.INT32_BE={len:4,get(x,v){return w(x).getInt32(v)},put(x,v,I){return w(x).setInt32(v,I),v+4}},S.INT32_LE={len:4,get(x,v){return w(x).getInt32(v,!0)},put(x,v,I){return w(x).setInt32(v,I,!0),v+4}},S.UINT64_LE={len:8,get(x,v){return w(x).getBigUint64(v,!0)},put(x,v,I){return w(x).setBigUint64(v,I,!0),v+8}},S.INT64_LE={len:8,get(x,v){return w(x).getBigInt64(v,!0)},put(x,v,I){return w(x).setBigInt64(v,I,!0),v+8}},S.UINT64_BE={len:8,get(x,v){return w(x).getBigUint64(v)},put(x,v,I){return w(x).setBigUint64(v,I),v+8}},S.INT64_BE={len:8,get(x,v){return w(x).getBigInt64(v)},put(x,v,I){return w(x).setBigInt64(v,I),v+8}},S.Float16_BE={len:2,get(x,v){return E.read(x,v,!1,10,this.len)},put(x,v,I){return E.write(x,I,v,!1,10,this.len),v+this.len}},S.Float16_LE={len:2,get(x,v){return E.read(x,v,!0,10,this.len)},put(x,v,I){return E.write(x,I,v,!0,10,this.len),v+this.len}},S.Float32_BE={len:4,get(x,v){return w(x).getFloat32(v)},put(x,v,I){return w(x).setFloat32(v,I),v+4}},S.Float32_LE={len:4,get(x,v){return w(x).getFloat32(v,!0)},put(x,v,I){return w(x).setFloat32(v,I,!0),v+4}},S.Float64_BE={len:8,get(x,v){return w(x).getFloat64(v)},put(x,v,I){return w(x).setFloat64(v,I),v+8}},S.Float64_LE={len:8,get(x,v){return w(x).getFloat64(v,!0)},put(x,v,I){return w(x).setFloat64(v,I,!0),v+8}},S.Float80_BE={len:10,get(x,v){return E.read(x,v,!1,63,this.len)},put(x,v,I){return E.write(x,I,v,!1,63,this.len),v+this.len}},S.Float80_LE={len:10,get(x,v){return E.read(x,v,!0,63,this.len)},put(x,v,I){return E.write(x,I,v,!0,63,this.len),v+this.len}};class F{constructor(v){this.len=v}get(v,I){}}o(F,"IgnoreType"),S.IgnoreType=F;class W{constructor(v){this.len=v}get(v,I){return v.subarray(I,I+this.len)}}o(W,"Uint8ArrayType"),S.Uint8ArrayType=W;class A{constructor(v){this.len=v}get(v,I){return b.from(v.subarray(I,I+this.len))}}o(A,"BufferType"),S.BufferType=A;class h{constructor(v,I){this.len=v,this.encoding=I}get(v,I){return b.from(v).toString(this.encoding,I,I+this.len)}}o(h,"StringType"),S.StringType=h;class _{constructor(v){this.len=v}static decode(v,I,R){let T="";for(let B=I;B<R;++B)T+=_.codePointToString(_.singleByteDecoder(v[B]));return T}static inRange(v,I,R){return I<=v&&v<=R}static codePointToString(v){return v<=65535?String.fromCharCode(v):(v-=65536,String.fromCharCode((v>>10)+55296,(v&1023)+56320))}static singleByteDecoder(v){if(_.inRange(v,0,127))return v;const I=_.windows1252[v-128];if(I===null)throw Error("invaliding encoding");return I}get(v,I=0){return _.decode(v,I,I+this.len)}}o(_,"AnsiStringType"),S.AnsiStringType=_,_.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},189:function(ae,S,d){"use strict";var b=this&&this.__spreadArray||function(h,_,x){if(x||arguments.length===2)for(var v=0,I=_.length,R;v<I;v++)(R||!(v in _))&&(R||(R=Array.prototype.slice.call(_,0,v)),R[v]=_[v]);return h.concat(R||Array.prototype.slice.call(_))};Object.defineProperty(S,"__esModule",{value:!0}),S.config=S.loadMessageBundle=S.BundleFormat=S.MessageFormat=void 0;var E=d(1926),w=d(800),F=d(800);Object.defineProperty(S,"MessageFormat",{enumerable:!0,get:function(){return F.MessageFormat}}),Object.defineProperty(S,"BundleFormat",{enumerable:!0,get:function(){return F.BundleFormat}});function W(h){return function(_,x){for(var v=[],I=2;I<arguments.length;I++)v[I-2]=arguments[I];if(typeof _=="number")throw new Error("Browser implementation does currently not support externalized strings.");return w.localize.apply(void 0,b([_,x],v,!1))}}o(W,"loadMessageBundle"),S.loadMessageBundle=W;function A(h){var _;return(0,w.setPseudo)(((_=h==null?void 0:h.locale)===null||_===void 0?void 0:_.toLowerCase())==="pseudo"),W}o(A,"config"),S.config=A,E.default.install(Object.freeze({loadMessageBundle:W,config:A}))},800:(ae,S,d)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0}),S.config=S.loadMessageBundle=S.localize=S.format=S.setPseudo=S.isPseudo=S.isDefined=S.BundleFormat=S.MessageFormat=void 0;var b=d(1926),E;(function(I){I.file="file",I.bundle="bundle",I.both="both"})(E=S.MessageFormat||(S.MessageFormat={}));var w;(function(I){I.standalone="standalone",I.languagePack="languagePack"})(w=S.BundleFormat||(S.BundleFormat={}));var F;(function(I){function R(T){var B=T;return B&&W(B.key)&&W(B.comment)}o(R,"is"),I.is=R})(F||(F={}));function W(I){return typeof I!="undefined"}o(W,"isDefined"),S.isDefined=W,S.isPseudo=!1;function A(I){S.isPseudo=I}o(A,"setPseudo"),S.setPseudo=A;function h(I,R){var T;return S.isPseudo&&(I="\uFF3B"+I.replace(/[aouei]/g,"$&$&")+"\uFF3D"),R.length===0?T=I:T=I.replace(/\{(\d+)\}/g,function(B,Z){var te=Z[0],M=R[te],$=B;return typeof M=="string"?$=M:(typeof M=="number"||typeof M=="boolean"||M===void 0||M===null)&&($=String(M)),$}),T}o(h,"format"),S.format=h;function _(I,R){for(var T=[],B=2;B<arguments.length;B++)T[B-2]=arguments[B];return h(R,T)}o(_,"localize"),S.localize=_;function x(I){return(0,b.default)().loadMessageBundle(I)}o(x,"loadMessageBundle"),S.loadMessageBundle=x;function v(I){return(0,b.default)().config(I)}o(v,"config"),S.config=v},1926:(ae,S)=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});var d;function b(){if(d===void 0)throw new Error("No runtime abstraction layer installed");return d}o(b,"RAL"),function(E){function w(F){if(F===void 0)throw new Error("No runtime abstraction layer provided");d=F}o(w,"install"),E.install=w}(b||(b={})),S.default=b},2479:ae=>{ae.exports=S;function S(d,b){if(d&&b)return S(d)(b);if(typeof d!="function")throw new TypeError("need wrapper function");return Object.keys(d).forEach(function(w){E[w]=d[w]}),E;function E(){for(var w=new Array(arguments.length),F=0;F<w.length;F++)w[F]=arguments[F];var W=d.apply(this,w),A=w[w.length-1];return typeof W=="function"&&W!==A&&Object.keys(A).forEach(function(h){W[h]=A[h]}),W}o(E,"wrapper")}o(S,"wrappy")},6529:()=>{},6391:()=>{},4059:()=>{}},__webpack_module_cache__={};function __webpack_require__(ae){var S=__webpack_module_cache__[ae];if(S!==void 0)return S.exports;var d=__webpack_module_cache__[ae]={id:ae,loaded:!1,exports:{}};return __webpack_modules__[ae].call(d.exports,d,d.exports,__webpack_require__),d.loaded=!0,d.exports}o(__webpack_require__,"__webpack_require__"),(()=>{__webpack_require__.n=ae=>{var S=ae&&ae.__esModule?()=>ae.default:()=>ae;return __webpack_require__.d(S,{a:S}),S}})(),(()=>{__webpack_require__.d=(ae,S)=>{for(var d in S)__webpack_require__.o(S,d)&&!__webpack_require__.o(ae,d)&&Object.defineProperty(ae,d,{enumerable:!0,get:S[d]})}})(),(()=>{__webpack_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(ae){if(typeof window=="object")return window}}()})(),(()=>{__webpack_require__.o=(ae,S)=>Object.prototype.hasOwnProperty.call(ae,S)})(),(()=>{__webpack_require__.r=ae=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(ae,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ae,"__esModule",{value:!0})}})(),(()=>{__webpack_require__.nmd=ae=>(ae.paths=[],ae.children||(ae.children=[]),ae)})();var __webpack_exports__={};(()=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{activate:()=>Ib});var ae={};__webpack_require__.r(ae),__webpack_require__.d(ae,{max:()=>kr,min:()=>cr});var S=__webpack_require__(189);S.config({messageFormat:S.MessageFormat.bundle,bundleFormat:S.BundleFormat.standalone});const d=require("vscode"),b=new TextDecoder,E=new TextEncoder,w=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function F(e){const t=E.encode(e),n=new Array(t.length);for(let r=0;r<t.length;++r)n[r]=w[t[r]];return n.join("")}o(F,"encodeUtf8Hex");function W(e){const t=e.match(/(\w{2})/g);if(t===null)return"";const n=new Uint8Array(t.map(r=>parseInt(r,16)));return b.decode(n)}o(W,"decodeUtf8Hex");const A=/^[0-9a-f]{40}$/i;function h(e){return e!==void 0&&A.test(e)}o(h,"isSha");const _=/^[^/](?!.*\/\.)(?!.*\.\.)(?!.*\/\/)(?!.*@\{)[^\000-\037\177 ~^:?*[\\]+[^./]$/;function x(e){return _.test(e)}o(x,"isValidBranchName");function v(e){return e===""||e==="~"||e==="HEAD"?e:e.endsWith("^")?`${e.substr(0,7)}^`:e.substr(0,7)}o(v,"shortenRef");const I=47;function R(e){if(e===void 0)return;const t=e.path.endsWith("/");return!t&&!e.fragment?e.toString():e.with({path:t?e.path.slice(0,-1):e.path,fragment:""}).toString()}o(R,"asKey");function T(e){if(e===void 0)return;const t=e.path.endsWith("/");return!t&&!e.query&&!e.fragment?e.toString():e.with({path:t?e.path.slice(0,-1):e.path,query:"",fragment:""}).toString()}o(T,"asFileKey");function B(e,t){return`${(t==null?void 0:t.excludeScheme)?"":`${e.scheme}-`}${e.authority}${e.path.endsWith("/")?e.path.slice(0,-1):e.path}`}o(B,"asFileStorageKey");function Z(e){const t=e.path;let n=0,r=-1,i=!0;for(let a=t.length-1;a>=0;--a)if(t.charCodeAt(a)===I){if(!i){n=a+1;break}}else r===-1&&(i=!1,r=a+1);return r===-1?"":t.slice(n,r)}o(Z,"basename");function te(e){const t=e.path;if(t.length===1)return"/";let n,r=-1,i=!0;for(let a=t.length-1;a>=1;--a)if(n=t.charCodeAt(a),n===I){if(!i){r=a;break}}else i=!1;return r===-1?"/":t.slice(0,r)}o(te,"dirname");function M(e){const t=e.path.lastIndexOf("/");return t===-1?e.with({path:"/"}):e.with({path:e.path.substring(0,t)})}o(M,"getParent");function $(e,t){const n=typeof t=="string"?t:t.path;return n.startsWith(e.path)?d.Uri.joinPath(e,n.substr(e.path.length)):d.Uri.joinPath(e,n)}o($,"joinRelativePath");function O(e,t){return typeof t=="string"?(t.startsWith("/")||(t=`/${t}`),D(e,t)&&e.path.substr(t.length+(t.endsWith("/")?0:1)).split("/").length===1):D(e,t)&&e.path.substr(t.path.length+(t.path.endsWith("/")?0:1)).split("/").length===1}o(O,"isChild");function D(e,t){return typeof t=="string"?(t.startsWith("/")||(t=`/${t}`),t.length===1||e.path.startsWith(t.endsWith("/")?t:`${t}/`)):t.scheme===e.scheme&&t.authority===e.authority&&(t.path.length===1||e.path.startsWith(t.path.endsWith("/")?t.path:`${t.path}/`))}o(D,"isDescendent");function P(e){return e&&typeof e=="object"&&"scheme"in e}o(P,"isSerializedUri");var L;(function(e){e.authoritySeparator="+",e.scheme="vscode-vfs",e.baseVirtualWorkspaceUri=d.Uri.parse(`${e.scheme}://`);function t(u){const{authority:f}=u,y=f.indexOf(e.authoritySeparator);return y!==-1?f.substr(0,y):f}o(t,"getProviderId"),e.getProviderId=t;function n(u){return u.scheme!==e.scheme?u:u.with({scheme:t(u)})}o(n,"getProviderUri"),e.getProviderUri=n;function r(u,f){const y=new Map,m=d.workspace.textDocuments;if(m.length===0)return y;for(const C of m)C.uri.scheme===u&&f.some(j=>D(C.uri,j))&&y.set(R(C.uri),C.uri);return y}o(r,"getOpenUris"),e.getOpenUris=r;function i(u){return u.scheme===e.scheme?u:u.with({scheme:e.scheme})}o(i,"getVirtualUri"),e.getVirtualUri=i;function a(u,f){const[y,m]=u.authority.split(e.authoritySeparator);let C;if(m)try{const j=JSON.parse(W(m));C=f?f(j):j}catch{}return{scheme:y,metadata:C}}o(a,"decodeAuthority"),e.decodeAuthority=a;function s(u,f){const y=f?`${e.authoritySeparator}${F(JSON.stringify(f))}`:"";return`${u}${y}`}o(s,"encodeAuthority"),e.encodeAuthority=s;function l(u){return u.authority.indexOf(e.authoritySeparator)===-1}o(l,"isCanonicalUri"),e.isCanonicalUri=l;function c(){var u,f;return(f=(u=d.workspace.workspaceFolders)==null?void 0:u.every(y=>y.uri.scheme===e.scheme))!=null?f:!1}o(c,"isVirtualWorkspace"),e.isVirtualWorkspace=c})(L||(L={}));var X;(function(e){e[e.Admin=100]="Admin",e[e.Maintain=40]="Maintain",e[e.WriteToPullRequest=31]="WriteToPullRequest",e[e.Write=30]="Write",e[e.Triage=20]="Triage",e[e.Read=10]="Read",e[e.None=0]="None"})(X||(X={}));var K;(function(e){e[e.Branch=0]="Branch",e[e.RemoteBranch=1]="RemoteBranch",e[e.Tag=2]="Tag",e[e.Commit=3]="Commit"})(K||(K={}));var ne;(function(e){function t(n){return n!==void 0&&n.type===ie.Active}o(t,"isActive"),e.isActive=t})(ne||(ne={}));var de;(function(e){function t(n){const r=L.decodeAuthority(n).metadata;if(!(r===void 0||r.idx===void 0)){if(r.idx==="latest")return{type:ge.Latest};if(h(r.idx))return{type:ge.SHA,sha:r.idx}}}o(t,"decode"),e.decode=t})(de||(de={}));var ge;(function(e){e[e.Latest=1]="Latest",e[e.SHA=2]="SHA"})(ge||(ge={}));var ie;(function(e){e[e.NotIndexed=0]="NotIndexed",e[e.Indexed=1]="Indexed",e[e.Match=2]="Match",e[e.Active=3]="Active"})(ie||(ie={})),function(e){function t(n){return n!==void 0&&(n===e.Indexed||n===e.Match||n===e.Active)}o(t,"hasIndex"),e.hasIndex=t}(ie||(ie={}));var xe;(function(e){e[e.Open=0]="Open",e[e.Closed=1]="Closed",e[e.Merged=2]="Merged"})(xe||(xe={}));var U;(function(e){e[e.Changed=1]="Changed",e[e.Created=2]="Created",e[e.Deleted=3]="Deleted"})(U||(U={}));var he;(function(e){e.CurrentWindow="currentWindow",e.NewWindow="newWindow",e.AddToWorkspace="addToWorkspace"})(he||(he={}));var oe;(function(e){e[e.Branch=0]="Branch",e[e.Tag=1]="Tag",e[e.Commit=2]="Commit",e[e.PullRequest=3]="PullRequest",e[e.Tree=4]="Tree"})(oe||(oe={}));var pe;(function(e){e[e.Abort=0]="Abort",e[e.KeepCurrent=1]="KeepCurrent",e[e.DiscardCurrent=2]="DiscardCurrent",e[e.Merge=3]="Merge"})(pe||(pe={}));var Ee;(function(e){e[e.Repository=0]="Repository",e[e.PullRequest=1]="PullRequest",e[e.Branch=2]="Branch",e[e.Commit=3]="Commit",e[e.File=4]="File",e[e.Tag=5]="Tag"})(Ee||(Ee={}));var Ie;(function(e){e.Branch="branch",e.RemoteBranch="remoteBranch",e.PullRequestBranch="pullRequestBranch",e.PullRequestRemoteBranch="pullRequestRemoteBranch",e.Tag="tag",e.Commit="commit"})(Ie||(Ie={}));var mt;(function(e){e.None="none",e.Latest="latest",e.Match="match",e.TipPlusLatest="tip+latest"})(mt||(mt={}));var Ye;(function(e){e.Browse="browse",e.Edit="edit"})(Ye||(Ye={}));var q;(function(e){e.CommitFailedError="CommitFailedError",e.DetachedHEADError="DetachedHEADError",e.InvalidBranchNameError="InvalidBranchNameError",e.InvalidCredentialsError="InvalidCredentialsError",e.MergeConflictError="MergeConflictError",e.NothingToCommitError="NothingToCommitError",e.SyncConflictsError="SyncConflictsError",e.SyncOrFetchError="SyncOrFetchError",e.UnresolvedConflictsError="UnresolvedConflictsError",e.InvalidRepositoryError="InvalidRepositoryError",e.Unknown="Unknown"})(q||(q={}));class Te extends Error{constructor(t,n,r){super(typeof t=="string"?t:t.message);this.messageOrError=t,this.errorCode=n,this.action=r}static CommitFailedError(){return new Te("Failed to create and push commit",q.CommitFailedError)}static DetachedHEADError(t){return new Te(t,q.DetachedHEADError)}static InvalidBranchNameError(t,n=!1){const r=n?`Branch '${t}' already exists`:`Invalid branch name '${t}'`;return new Te(r,q.InvalidBranchNameError)}static InvalidCredentialsError(t,n){return new Te(t,q.InvalidCredentialsError,n)}static MergeConflictError(t){return new Te(t,q.MergeConflictError)}static NothingToCommitError(t){return new Te(t,q.NothingToCommitError)}static SyncOrFetchError(t=!1){const n=t?"Unable to sync the repository":"Unable to fetch the repository";return new Te(n,q.SyncOrFetchError)}static SyncConflictsError(){const t="Sync operation will result in conflicts";return new Te(t,q.SyncConflictsError)}static UnresolvedConflictsError(){return new Te("You have unresolved merge conflicts.",q.UnresolvedConflictsError)}static InvalidRepositoryError(){return new Te("The current repository is invalid",q.InvalidRepositoryError)}static asVirtualProviderErrorCode(t){return t instanceof Error&&"messageOrError"in t&&"errorCode"in t?t.errorCode:q.Unknown}}o(Te,"VirtualProviderError");const Re=6;var nt;(function(e){e.Off="off",e.Auto="auto",e.Always="always"})(nt||(nt={}));var ve;(function(e){e.None="none",e.Latest="latest",e.Match="match",e.TipPlusLatest="tip+latest"})(ve||(ve={})),function(e){function t(n){return n===e.None||n===e.Latest||n===e.Match||n===e.TipPlusLatest?n:e.None}o(t,"sanitize"),e.sanitize=t}(ve||(ve={}));var ee;(function(e){e.Browse="browse",e.Edit="edit"})(ee||(ee={})),function(e){function t(r){return r===e.Browse||r===e.Edit?r:e.Edit}o(t,"sanitize"),e.sanitize=t;function n(r){return r===e.Browse?e.Edit:e.Browse}o(n,"toggle"),e.toggle=n}(ee||(ee={}));var ye;(function(e){function t(n,r){return n.display===r.display&&n.index===r.index}o(t,"equals"),e.equals=t})(ye||(ye={}));var Ce;(function(e){const t=new Map([[Ie.Branch,ve.None],[Ie.RemoteBranch,ve.None],[Ie.PullRequestBranch,ve.Match],[Ie.PullRequestRemoteBranch,ve.Match],[Ie.Commit,ve.Match],[Ie.Tag,ve.Match]]),n=new Map([[Ie.Branch,ee.Edit],[Ie.RemoteBranch,ee.Edit],[Ie.PullRequestBranch,ee.Browse],[Ie.PullRequestRemoteBranch,ee.Browse],[Ie.Commit,ee.Browse],[Ie.Tag,ee.Browse]]);function r(a){var s,l;return{display:(s=n.get(a))!=null?s:ee.Edit,index:(l=t.get(a))!=null?l:ve.None}}o(r,"getDefault"),e.getDefault=r;function i(a){switch(a){case Ie.Branch:case Ie.RemoteBranch:return{display:ee.Browse,index:ve.Latest};case Ie.PullRequestBranch:case Ie.PullRequestRemoteBranch:return{display:ee.Browse,index:ve.Match};case Ie.Commit:case Ie.Tag:return{display:ee.Browse,index:ve.Match};default:return{display:ee.Edit,index:ve.None}}}o(i,"getIndexDefault"),e.getIndexDefault=i})(Ce||(Ce={}));const ce=null;var Fe=__webpack_require__(5179),Ae=__webpack_require__.n(Fe);const He="modes",rt="indexMemento";class Ct{constructor(){this._onDidChange=new d.EventEmitter,this._onDidChangeAny=new d.EventEmitter,this.memoryState=new Map}static configure(t,n){Rt.configPrefix=t,Rt.state=n.workspaceState,n.subscriptions.push(d.workspace.onDidChangeConfiguration(Rt.onConfigurationChanged,Rt))}get onDidChange(){return this._onDidChange.event}get onDidChangeAny(){return this._onDidChangeAny.event}onConfigurationChanged(t){if(!t.affectsConfiguration(this.configPrefix)){this._onDidChangeAny.fire(t);return}this._onDidChangeAny.fire(t),this._onDidChange.fire(t)}set state(t){if(this._state=t,this.modes=this._state.get(He),this.modes===void 0&&(this.modes=Object.create(null)),this.memoryState.size!==0){for(const n of this.memoryState.entries())this.modes[n[0]]=n[1];this._state.update(He,this.modes).then(()=>{this.memoryState.clear()},void 0)}this.indexMemento=this._state.get(rt),this.indexMemento===void 0&&(this.indexMemento=Object.create(null))}get(t,n,r){return r===void 0?d.workspace.getConfiguration(t===void 0?void 0:this.configPrefix,n).get(t===void 0?this.configPrefix:t):d.workspace.getConfiguration(t===void 0?void 0:this.configPrefix,n).get(t===void 0?this.configPrefix:t,r)}getMode(t,n,r){var i;const a=t.toString();let s=this.modes!==void 0?this.modes[a]:void 0;if(s!==void 0)return{display:ee.sanitize(s.display),index:ve.sanitize(s.index)};if(s=this.memoryState.get(a),s!==void 0)return s;if(n===Ie.Branch||n===Ie.RemoteBranch)switch((i=d.workspace.getConfiguration("remoteHub.richNavigation.indexMode",t))==null?void 0:i.get("branch")){case"none":return{display:ee.Edit,index:ve.None};case"latest":return{display:ee.Browse,index:ve.Latest};case"tipPlusLatest":return{display:ee.Edit,index:ve.TipPlusLatest}}if(!r)return Ce.getDefault(n)}setMode(t,n){const r=t.toString();return this._state===void 0||this.modes===void 0?(this.memoryState.set(r,n),Promise.resolve()):(this.modes[r]=n,this._state.update(He,this.modes))}getIndexMemento(t){if(this.indexMemento!==void 0)return this.indexMemento[t.toString()]}setIndexMemento(t,n){return this.indexMemento===void 0||this._state===void 0?Promise.resolve():(this.indexMemento[t.toString()]=n,this._state.update(rt,this.indexMemento))}getAny(t,n,r){return r===void 0?d.workspace.getConfiguration(void 0,n).get(t):d.workspace.getConfiguration(void 0,n).get(t,r)}changed(t,n,r){var i;return(i=t==null?void 0:t.affectsConfiguration(`${this.configPrefix}.${n}`,r))!=null?i:!0}inspect(t,n){return d.workspace.getConfiguration(t===void 0?void 0:this.configPrefix,n).inspect(t===void 0?this.configPrefix:t)}inspectAny(t,n){return d.workspace.getConfiguration(void 0,n).inspect(t)}async migrate(t,n,r){const i=Rt.inspect(t);if(i===void 0)return!1;let a=!1;return i.globalValue!==void 0&&(await this.update(n,r.migrationFn!=null?r.migrationFn(i.globalValue):i.globalValue,d.ConfigurationTarget.Global),a=!0),i.workspaceValue!==void 0&&(await this.update(n,r.migrationFn!=null?r.migrationFn(i.workspaceValue):i.workspaceValue,d.ConfigurationTarget.Workspace),a=!0),i.workspaceFolderValue!==void 0&&(await this.update(n,r.migrationFn!=null?r.migrationFn(i.workspaceFolderValue):i.workspaceFolderValue,d.ConfigurationTarget.WorkspaceFolder),a=!0),!a&&r.fallbackValue!==void 0&&(await this.update(n,r.fallbackValue,d.ConfigurationTarget.Global),a=!0),a}async migrateIfMissing(t,n,r){const i=Rt.inspect(t);if(i===void 0)return;const a=Rt.inspect(n);i.globalValue!==void 0&&(a===void 0||a.globalValue===void 0)&&await this.update(n,r.migrationFn!=null?r.migrationFn(i.globalValue):i.globalValue,d.ConfigurationTarget.Global),i.workspaceValue!==void 0&&(a===void 0||a.workspaceValue===void 0)&&await this.update(n,r.migrationFn!=null?r.migrationFn(i.workspaceValue):i.workspaceValue,d.ConfigurationTarget.Workspace),i.workspaceFolderValue!==void 0&&(a===void 0||a.workspaceFolderValue===void 0)&&await this.update(n,r.migrationFn!=null?r.migrationFn(i.workspaceFolderValue):i.workspaceFolderValue,d.ConfigurationTarget.WorkspaceFolder)}name(t){return t}update(t,n,r){return d.workspace.getConfiguration(this.configPrefix).update(t,n,r)}updateAny(t,n,r,i){return d.workspace.getConfiguration(void 0,r===d.ConfigurationTarget.Global?void 0:i).update(t,n,r)}updateEffective(t,n){const r=Rt.inspect(t);return r.workspaceFolderValue!==void 0?n===r.workspaceFolderValue?Promise.resolve(void 0):Rt.update(t,n,d.ConfigurationTarget.WorkspaceFolder):r.workspaceValue!==void 0?n===r.workspaceValue?Promise.resolve(void 0):Rt.update(t,n,d.ConfigurationTarget.Workspace):r.globalValue===n||r.globalValue===void 0&&n===r.defaultValue?Promise.resolve(void 0):Rt.update(t,Ae()(n,r.defaultValue)?void 0:n,d.ConfigurationTarget.Global)}}o(Ct,"Configuration");const Rt=new Ct,at="";var Ut;(function(e){e.Off="off",e.Error="error",e.Warn="warn",e.Info="info",e.Debug="debug"})(Ut||(Ut={}));var Tt;(function(e){e[e.Off=0]="Off",e[e.Error=1]="Error",e[e.Warn=2]="Warn",e[e.Info=3]="Info",e[e.Debug=4]="Debug"})(Tt||(Tt={}));const ke="[RemoteHub]",bt=o(class{static configure(e,t,n){this._isDebugging=e.extensionMode===d.ExtensionMode.Development,this.outputChannelName=t,this.logLevel=n}static enabled(e){return this.level>=this.toOrderedLevel(e)}static get logLevel(){return this._logLevel}static set logLevel(e){var t,n;this._logLevel=e,this.level=this.toOrderedLevel(e),e===Ut.Off?((t=this.output)==null||t.dispose(),this.output=void 0):this.output=(n=this.output)!=null?n:d.window.createOutputChannel(this.outputChannelName)}static toOrderedLevel(e){switch(e){case Ut.Off:return 0;case Ut.Error:return 1;case Ut.Warn:return 2;case Ut.Info:return 3;case Ut.Debug:return 4}}static get isDebugging(){return this._isDebugging}static debug(e,...t){bt.isDebugging&&console.log(this.timestamp,ke,e!=null?e:at,...t),!(this.output===void 0||this.level<4)&&this.output.appendLine(`${this.timestamp} ${e!=null?e:at}${this.toLoggableParams(!0,t)}`)}static error(e,t,...n){if(!(this.level<1&&!bt.isDebugging)){if(t===void 0){const r=e instanceof Error?e.stack:void 0;if(r){const i=/.*\s*?at\s(.+?)\s/.exec(r);i!==null&&(t=i[1])}}bt.isDebugging&&console.error(this.timestamp,ke,t!=null?t:at,...n,e),!(this.output===void 0||this.level<1)&&this.output.appendLine(`${this.timestamp} ${t!=null?t:at}${this.toLoggableParams(!1,n)}
${String(e)}`)}}static log(e,...t){bt.isDebugging&&console.log(this.timestamp,ke,e!=null?e:at,...t),!(this.output===void 0||this.level<3)&&this.output.appendLine(`${this.timestamp} ${e!=null?e:at}${this.toLoggableParams(!1,t)}`)}static warn(e,...t){bt.isDebugging&&console.warn(this.timestamp,ke,e!=null?e:at,...t),!(this.output===void 0||this.level<2)&&this.output.appendLine(`${this.timestamp} ${e!=null?e:at}${this.toLoggableParams(!1,t)}`)}static showOutputChannel(){var e;(e=this.output)==null||e.show()}static toLoggable(e,t){if(typeof e!="object")return String(e);if(e instanceof d.Uri)return`Uri(${e.toString(!0)})`;try{return JSON.stringify(e,t)}catch{return"<error>"}}static toLoggableName(e){var t,n,r;let i;if(typeof e=="function"){if(e.prototype===void 0||e.prototype.constructor===void 0)return e.name;i=(t=e.prototype.constructor.name)!=null?t:at}else i=(r=(n=e.constructor)==null?void 0:n.name)!=null?r:at;const a=i.indexOf("_");return a===-1?i:i.substr(a+1)}static get timestamp(){const e=new Date;return`[${e.toISOString().replace(/T/," ").replace(/\..+/,at)}:${`00${e.getUTCMilliseconds()}`.slice(-3)}]`}static toLoggableParams(e,t){if(t.length===0||e&&this.level<4&&!bt.isDebugging)return at;const n=t.map(r=>this.toLoggable(r)).join(", ");return n.length!==0?` \u2014 ${n}`:at}},"_Logger");let se=bt;se.level=0,se._logLevel=Ut.Off;class Kt{constructor(t){this.provider=t,this._timeout=0,this._disposable=Rt.onDidChange(this.onConfigurationChanged,this),this.maybeQueueFetch()}dispose(){this._disposable.dispose(),this._timeout&&clearTimeout(this._timeout)}get config(){var t;if(this._config===void 0){const n=Rt.get("autoFetch");this._config={enabled:(t=n.enabled)!=null?t:!0,interval:n.interval*1e3}}return this._config}onConfigurationChanged(t){!Rt.changed(t,"autoFetch")||(this._config=void 0,this.maybeQueueFetch())}async fetchAll(){const t=this.provider.repositories;t.length!==0&&(await d.window.withProgress({location:d.ProgressLocation.SourceControl},async()=>{for(const n of t)try{await this.provider.fetch(n.uri)}catch(r){se.error(r)}}),this.maybeQueueFetch())}maybeQueueFetch(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),!!this.config.enabled&&(this._timeout=setTimeout(()=>this.fetchAll(),this.config.interval))}}o(Kt,"AutoFetchService");function cn(){}o(cn,"Diff"),cn.prototype={diff:o(function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.callback;typeof r=="function"&&(i=r,r={}),this.options=r;var a=this;function s(Q){return i?(setTimeout(function(){i(void 0,Q)},0),!0):Q}o(s,"done"),t=this.castInput(t),n=this.castInput(n),t=this.removeEmpty(this.tokenize(t)),n=this.removeEmpty(this.tokenize(n));var l=n.length,c=t.length,u=1,f=l+c,y=[{newPos:-1,components:[]}],m=this.extractCommon(y[0],n,t,0);if(y[0].newPos+1>=l&&m+1>=c)return s([{value:this.join(n),count:n.length}]);function C(){for(var Q=-1*u;Q<=u;Q+=2){var z=void 0,G=y[Q-1],re=y[Q+1],fe=(re?re.newPos:0)-Q;G&&(y[Q-1]=void 0);var le=G&&G.newPos+1<l,be=re&&0<=fe&&fe<c;if(!le&&!be){y[Q]=void 0;continue}if(!le||be&&G.newPos<re.newPos?(z=Rn(re),a.pushComponent(z.components,void 0,!0)):(z=G,z.newPos++,a.pushComponent(z.components,!0,void 0)),fe=a.extractCommon(z,n,t,Q),z.newPos+1>=l&&fe+1>=c)return s(xn(a,z.components,n,t,a.useLongestToken));y[Q]=z}u++}if(o(C,"execEditLength"),i)o(function Q(){setTimeout(function(){if(u>f)return i();C()||Q()},0)},"exec")();else for(;u<=f;){var j=C();if(j)return j}},"diff"),pushComponent:o(function(t,n,r){var i=t[t.length-1];i&&i.added===n&&i.removed===r?t[t.length-1]={count:i.count+1,added:n,removed:r}:t.push({count:1,added:n,removed:r})},"pushComponent"),extractCommon:o(function(t,n,r,i){for(var a=n.length,s=r.length,l=t.newPos,c=l-i,u=0;l+1<a&&c+1<s&&this.equals(n[l+1],r[c+1]);)l++,c++,u++;return u&&t.components.push({count:u}),t.newPos=l,c},"extractCommon"),equals:o(function(t,n){return this.options.comparator?this.options.comparator(t,n):t===n||this.options.ignoreCase&&t.toLowerCase()===n.toLowerCase()},"equals"),removeEmpty:o(function(t){for(var n=[],r=0;r<t.length;r++)t[r]&&n.push(t[r]);return n},"removeEmpty"),castInput:o(function(t){return t},"castInput"),tokenize:o(function(t){return t.split("")},"tokenize"),join:o(function(t){return t.join("")},"join")};function xn(e,t,n,r,i){for(var a=0,s=t.length,l=0,c=0;a<s;a++){var u=t[a];if(u.removed){if(u.value=e.join(r.slice(c,c+u.count)),c+=u.count,a&&t[a-1].added){var y=t[a-1];t[a-1]=t[a],t[a]=y}}else{if(!u.added&&i){var f=n.slice(l,l+u.count);f=f.map(function(C,j){var Q=r[c+j];return Q.length>C.length?Q:C}),u.value=e.join(f)}else u.value=e.join(n.slice(l,l+u.count));l+=u.count,u.added||(c+=u.count)}}var m=t[s-1];return s>1&&typeof m.value=="string"&&(m.added||m.removed)&&e.equals("",m.value)&&(t[s-2].value+=m.value,t.pop()),t}o(xn,"buildValues");function Rn(e){return{newPos:e.newPos,components:e.components.slice(0)}}o(Rn,"clonePath");var k=new cn;function g(e,t,n){return k.diff(e,t,n)}o(g,"diffChars");function p(e,t){if(typeof e=="function")t.callback=e;else if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}o(p,"generateOptions");var V=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,ue=/\S/,_e=new cn;_e.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!ue.test(e)&&!ue.test(t)},_e.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),n=0;n<t.length-1;n++)!t[n+1]&&t[n+2]&&V.test(t[n])&&V.test(t[n+2])&&(t[n]+=t[n+2],t.splice(n+1,2),n--);return t};function Me(e,t,n){return n=p(n,{ignoreWhitespace:!0}),_e.diff(e,t,n)}o(Me,"diffWords");function Qt(e,t,n){return _e.diff(e,t,n)}o(Qt,"diffWordsWithSpace");var sn=new cn;sn.tokenize=function(e){var t=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var r=0;r<n.length;r++){var i=n[r];r%2&&!this.options.newlineIsToken?t[t.length-1]+=i:(this.options.ignoreWhitespace&&(i=i.trim()),t.push(i))}return t};function Ve(e,t,n){return sn.diff(e,t,n)}o(Ve,"diffLines");function Ke(e,t,n){var r=p(n,{ignoreWhitespace:!0});return sn.diff(e,t,r)}o(Ke,"diffTrimmedLines");var Ne=new cn;Ne.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};function ze(e,t,n){return Ne.diff(e,t,n)}o(ze,"diffSentences");var lt=new cn;lt.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function gt(e,t,n){return lt.diff(e,t,n)}o(gt,"diffCss");function dt(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?dt=o(function(t){return typeof t},"_typeof"):dt=o(function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},"_typeof"),dt(e)}o(dt,"_typeof");function It(e){return qt(e)||Gt(e)||je(e)||et()}o(It,"_toConsumableArray");function qt(e){if(Array.isArray(e))return ut(e)}o(qt,"_arrayWithoutHoles");function Gt(e){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}o(Gt,"_iterableToArray");function je(e,t){if(!!e){if(typeof e=="string")return ut(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ut(e,t)}}o(je,"_unsupportedIterableToArray");function ut(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}o(ut,"_arrayLikeToArray");function et(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}o(et,"_nonIterableSpread");var Ot=Object.prototype.toString,Et=new cn;Et.useLongestToken=!0,Et.tokenize=sn.tokenize,Et.castInput=function(e){var t=this.options,n=t.undefinedReplacement,r=t.stringifyReplacer,i=r===void 0?function(a,s){return typeof s=="undefined"?n:s}:r;return typeof e=="string"?e:JSON.stringify(J(e,null,null,i),i,"  ")},Et.equals=function(e,t){return cn.prototype.equals.call(Et,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function pn(e,t,n){return Et.diff(e,t,n)}o(pn,"diffJson");function J(e,t,n,r,i){t=t||[],n=n||[],r&&(e=r(i,e));var a;for(a=0;a<t.length;a+=1)if(t[a]===e)return n[a];var s;if(Ot.call(e)==="[object Array]"){for(t.push(e),s=new Array(e.length),n.push(s),a=0;a<e.length;a+=1)s[a]=J(e[a],t,n,r,i);return t.pop(),n.pop(),s}if(e&&e.toJSON&&(e=e.toJSON()),dt(e)==="object"&&e!==null){t.push(e),s={},n.push(s);var l=[],c;for(c in e)e.hasOwnProperty(c)&&l.push(c);for(l.sort(),a=0;a<l.length;a+=1)c=l[a],s[c]=J(e[c],t,n,r,c);t.pop(),n.pop()}else s=e;return s}o(J,"canonicalize");var Le=new cn;Le.tokenize=function(e){return e.slice()},Le.join=Le.removeEmpty=function(e){return e};function Ze(e,t,n){return Le.diff(e,t,n)}o(Ze,"diffArrays");function ct(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.split(/\r\n|[\n\v\f\r\x85]/),r=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],i=[],a=0;function s(){var u={};for(i.push(u);a<n.length;){var f=n[a];if(/^(\-\-\-|\+\+\+|@@)\s/.test(f))break;var y=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(f);y&&(u.index=y[1]),a++}for(l(u),l(u),u.hunks=[];a<n.length;){var m=n[a];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(m))break;if(/^@@/.test(m))u.hunks.push(c());else{if(m&&t.strict)throw new Error("Unknown line "+(a+1)+" "+JSON.stringify(m));a++}}}o(s,"parseIndex");function l(u){var f=/^(---|\+\+\+)\s+(.*)$/.exec(n[a]);if(f){var y=f[1]==="---"?"old":"new",m=f[2].split("	",2),C=m[0].replace(/\\\\/g,"\\");/^".*"$/.test(C)&&(C=C.substr(1,C.length-2)),u[y+"FileName"]=C,u[y+"Header"]=(m[1]||"").trim(),a++}}o(l,"parseFileHeader");function c(){var u=a,f=n[a++],y=f.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),m={oldStart:+y[1],oldLines:typeof y[2]=="undefined"?1:+y[2],newStart:+y[3],newLines:typeof y[4]=="undefined"?1:+y[4],lines:[],linedelimiters:[]};m.oldLines===0&&(m.oldStart+=1),m.newLines===0&&(m.newStart+=1);for(var C=0,j=0;a<n.length&&!(n[a].indexOf("--- ")===0&&a+2<n.length&&n[a+1].indexOf("+++ ")===0&&n[a+2].indexOf("@@")===0);a++){var Q=n[a].length==0&&a!=n.length-1?" ":n[a][0];if(Q==="+"||Q==="-"||Q===" "||Q==="\\")m.lines.push(n[a]),m.linedelimiters.push(r[a]||`
`),Q==="+"?C++:Q==="-"?j++:Q===" "&&(C++,j++);else break}if(!C&&m.newLines===1&&(m.newLines=0),!j&&m.oldLines===1&&(m.oldLines=0),t.strict){if(C!==m.newLines)throw new Error("Added line count did not match for hunk at line "+(u+1));if(j!==m.oldLines)throw new Error("Removed line count did not match for hunk at line "+(u+1))}return m}for(o(c,"parseHunk");a<n.length;)s();return i}o(ct,"parsePatch");function $t(e,t,n){var r=!0,i=!1,a=!1,s=1;return o(function l(){if(r&&!a){if(i?s++:r=!1,e+s<=n)return s;a=!0}if(!i)return a||(r=!0),t<=e-s?-s++:(i=!0,l())},"iterator")}o($t,"distanceIterator");function De(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string"&&(t=ct(t)),Array.isArray(t)){if(t.length>1)throw new Error("applyPatch only works with a single input.");t=t[0]}var r=e.split(/\r\n|[\n\v\f\r\x85]/),i=e.match(/\r\n|[\n\v\f\r\x85]/g)||[],a=t.hunks,s=n.compareLine||function(st,_t,xt,Vt){return _t===Vt},l=0,c=n.fuzzFactor||0,u=0,f=0,y,m;function C(st,_t){for(var xt=0;xt<st.lines.length;xt++){var Vt=st.lines[xt],en=Vt.length>0?Vt[0]:" ",wn=Vt.length>0?Vt.substr(1):Vt;if(en===" "||en==="-"){if(!s(_t+1,r[_t],en,wn)&&(l++,l>c))return!1;_t++}}return!0}o(C,"hunkFits");for(var j=0;j<a.length;j++){for(var Q=a[j],z=r.length-Q.oldLines,G=0,re=f+Q.oldStart-1,fe=$t(re,u,z);G!==void 0;G=fe())if(C(Q,re+G)){Q.offset=f+=G;break}if(G===void 0)return!1;u=Q.offset+Q.oldStart+Q.oldLines}for(var le=0,be=0;be<a.length;be++){var Je=a[be],Ue=Je.oldStart+Je.offset+le-1;le+=Je.newLines-Je.oldLines;for(var Oe=0;Oe<Je.lines.length;Oe++){var vt=Je.lines[Oe],Pe=vt.length>0?vt[0]:" ",St=vt.length>0?vt.substr(1):vt,un=Je.linedelimiters[Oe];if(Pe===" ")Ue++;else if(Pe==="-")r.splice(Ue,1),i.splice(Ue,1);else if(Pe==="+")r.splice(Ue,0,St),i.splice(Ue,0,un),Ue++;else if(Pe==="\\"){var kn=Je.lines[Oe-1]?Je.lines[Oe-1][0]:null;kn==="+"?y=!0:kn==="-"&&(m=!0)}}}if(y)for(;!r[r.length-1];)r.pop(),i.pop();else m&&(r.push(""),i.push(`
`));for(var Se=0;Se<r.length-1;Se++)r[Se]=r[Se]+i[Se];return r.join("")}o(De,"applyPatch");function wt(e,t){typeof e=="string"&&(e=ct(e));var n=0;function r(){var i=e[n++];if(!i)return t.complete();t.loadFile(i,function(a,s){if(a)return t.complete(a);var l=De(s,i,t);t.patched(i,l,function(c){if(c)return t.complete(c);r()})})}o(r,"processIndex"),r()}o(wt,"applyPatches");function Mt(e,t,n,r,i,a,s){s||(s={}),typeof s.context=="undefined"&&(s.context=4);var l=Ve(n,r,s);l.push({value:"",lines:[]});function c(G){return G.map(function(re){return" "+re})}o(c,"contextLines");for(var u=[],f=0,y=0,m=[],C=1,j=1,Q=o(function(re){var fe=l[re],le=fe.lines||fe.value.replace(/\n$/,"").split(`
`);if(fe.lines=le,fe.added||fe.removed){var be;if(!f){var Je=l[re-1];f=C,y=j,Je&&(m=s.context>0?c(Je.lines.slice(-s.context)):[],f-=m.length,y-=m.length)}(be=m).push.apply(be,It(le.map(function(Se){return(fe.added?"+":"-")+Se}))),fe.added?j+=le.length:C+=le.length}else{if(f)if(le.length<=s.context*2&&re<l.length-2){var Ue;(Ue=m).push.apply(Ue,It(c(le)))}else{var Oe,vt=Math.min(le.length,s.context);(Oe=m).push.apply(Oe,It(c(le.slice(0,vt))));var Pe={oldStart:f,oldLines:C-f+vt,newStart:y,newLines:j-y+vt,lines:m};if(re>=l.length-2&&le.length<=s.context){var St=/\n$/.test(n),un=/\n$/.test(r),kn=le.length==0&&m.length>Pe.oldLines;!St&&kn&&n.length>0&&m.splice(Pe.oldLines,0,"\\ No newline at end of file"),(!St&&!kn||!un)&&m.push("\\ No newline at end of file")}u.push(Pe),f=0,y=0,m=[]}C+=le.length,j+=le.length}},"_loop"),z=0;z<l.length;z++)Q(z);return{oldFileName:e,newFileName:t,oldHeader:i,newHeader:a,hunks:u}}o(Mt,"structuredPatch");function ft(e){var t=[];e.oldFileName==e.newFileName&&t.push("Index: "+e.oldFileName),t.push("==================================================================="),t.push("--- "+e.oldFileName+(typeof e.oldHeader=="undefined"?"":"	"+e.oldHeader)),t.push("+++ "+e.newFileName+(typeof e.newHeader=="undefined"?"":"	"+e.newHeader));for(var n=0;n<e.hunks.length;n++){var r=e.hunks[n];r.oldLines===0&&(r.oldStart-=1),r.newLines===0&&(r.newStart-=1),t.push("@@ -"+r.oldStart+","+r.oldLines+" +"+r.newStart+","+r.newLines+" @@"),t.push.apply(t,r.lines)}return t.join(`
`)+`
`}o(ft,"formatPatch");function qe(e,t,n,r,i,a,s){return ft(Mt(e,t,n,r,i,a,s))}o(qe,"createTwoFilesPatch");function Ht(e,t,n,r,i,a){return qe(e,e,t,n,r,i,a)}o(Ht,"createPatch");function Lt(e,t){return e.length!==t.length?!1:ht(e,t)}o(Lt,"arrayEqual");function ht(e,t){if(t.length>e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}o(ht,"arrayStartsWith");function tn(e){var t=Hn(e.lines),n=t.oldLines,r=t.newLines;n!==void 0?e.oldLines=n:delete e.oldLines,r!==void 0?e.newLines=r:delete e.newLines}o(tn,"calcLineCount");function on(e,t,n){e=vn(e,n),t=vn(t,n);var r={};(e.index||t.index)&&(r.index=e.index||t.index),(e.newFileName||t.newFileName)&&(Ln(e)?Ln(t)?(r.oldFileName=Zn(r,e.oldFileName,t.oldFileName),r.newFileName=Zn(r,e.newFileName,t.newFileName),r.oldHeader=Zn(r,e.oldHeader,t.oldHeader),r.newHeader=Zn(r,e.newHeader,t.newHeader)):(r.oldFileName=e.oldFileName,r.newFileName=e.newFileName,r.oldHeader=e.oldHeader,r.newHeader=e.newHeader):(r.oldFileName=t.oldFileName||e.oldFileName,r.newFileName=t.newFileName||e.newFileName,r.oldHeader=t.oldHeader||e.oldHeader,r.newHeader=t.newHeader||e.newHeader)),r.hunks=[];for(var i=0,a=0,s=0,l=0;i<e.hunks.length||a<t.hunks.length;){var c=e.hunks[i]||{oldStart:1/0},u=t.hunks[a]||{oldStart:1/0};if(bn(c,u))r.hunks.push(Ge(c,s)),i++,l+=c.newLines-c.oldLines;else if(bn(u,c))r.hunks.push(Ge(u,l)),a++,s+=u.newLines-u.oldLines;else{var f={oldStart:Math.min(c.oldStart,u.oldStart),oldLines:0,newStart:Math.min(c.newStart+s,u.oldStart+l),newLines:0,lines:[]};Wt(f,c.oldStart,c.lines,u.oldStart,u.lines),a++,i++,r.hunks.push(f)}}return r}o(on,"merge");function vn(e,t){if(typeof e=="string"){if(/^@@/m.test(e)||/^Index:/m.test(e))return ct(e)[0];if(!t)throw new Error("Must provide a base reference or pass in a patch");return Mt(void 0,void 0,t,e)}return e}o(vn,"loadPatch");function Ln(e){return e.newFileName&&e.newFileName!==e.oldFileName}o(Ln,"fileNameChanged");function Zn(e,t,n){return t===n?t:(e.conflict=!0,{mine:t,theirs:n})}o(Zn,"selectField");function bn(e,t){return e.oldStart<t.oldStart&&e.oldStart+e.oldLines<t.oldStart}o(bn,"hunkBefore");function Ge(e,t){return{oldStart:e.oldStart,oldLines:e.oldLines,newStart:e.newStart+t,newLines:e.newLines,lines:e.lines}}o(Ge,"cloneHunk");function Wt(e,t,n,r,i){var a={offset:t,lines:n,index:0},s={offset:r,lines:i,index:0};for(rn(e,a,s),rn(e,s,a);a.index<a.lines.length&&s.index<s.lines.length;){var l=a.lines[a.index],c=s.lines[s.index];if((l[0]==="-"||l[0]==="+")&&(c[0]==="-"||c[0]==="+"))Pt(e,a,s);else if(l[0]==="+"&&c[0]===" "){var u;(u=e.lines).push.apply(u,It(ln(a)))}else if(c[0]==="+"&&l[0]===" "){var f;(f=e.lines).push.apply(f,It(ln(s)))}else l[0]==="-"&&c[0]===" "?pt(e,a,s):c[0]==="-"&&l[0]===" "?pt(e,s,a,!0):l===c?(e.lines.push(l),a.index++,s.index++):Yt(e,ln(a),ln(s))}Jt(e,a),Jt(e,s),tn(e)}o(Wt,"mergeLines");function Pt(e,t,n){var r=ln(t),i=ln(n);if(Cn(r)&&Cn(i)){if(ht(r,i)&&Tn(n,r,r.length-i.length)){var a;(a=e.lines).push.apply(a,It(r));return}else if(ht(i,r)&&Tn(t,i,i.length-r.length)){var s;(s=e.lines).push.apply(s,It(i));return}}else if(Lt(r,i)){var l;(l=e.lines).push.apply(l,It(r));return}Yt(e,r,i)}o(Pt,"mutualChange");function pt(e,t,n,r){var i=ln(t),a=Pn(n,i);if(a.merged){var s;(s=e.lines).push.apply(s,It(a.merged))}else Yt(e,r?a:i,r?i:a)}o(pt,"removal");function Yt(e,t,n){e.conflict=!0,e.lines.push({conflict:!0,mine:t,theirs:n})}o(Yt,"conflict");function rn(e,t,n){for(;t.offset<n.offset&&t.index<t.lines.length;){var r=t.lines[t.index++];e.lines.push(r),t.offset++}}o(rn,"insertLeading");function Jt(e,t){for(;t.index<t.lines.length;){var n=t.lines[t.index++];e.lines.push(n)}}o(Jt,"insertTrailing");function ln(e){for(var t=[],n=e.lines[e.index][0];e.index<e.lines.length;){var r=e.lines[e.index];if(n==="-"&&r[0]==="+"&&(n="+"),n===r[0])t.push(r),e.index++;else break}return t}o(ln,"collectChange");function Pn(e,t){for(var n=[],r=[],i=0,a=!1,s=!1;i<t.length&&e.index<e.lines.length;){var l=e.lines[e.index],c=t[i];if(c[0]==="+")break;if(a=a||l[0]!==" ",r.push(c),i++,l[0]==="+")for(s=!0;l[0]==="+";)n.push(l),l=e.lines[++e.index];c.substr(1)===l.substr(1)?(n.push(l),e.index++):s=!0}if((t[i]||"")[0]==="+"&&a&&(s=!0),s)return n;for(;i<t.length;)r.push(t[i++]);return{merged:r,changes:n}}o(Pn,"collectContext");function Cn(e){return e.reduce(function(t,n){return t&&n[0]==="-"},!0)}o(Cn,"allRemoves");function Tn(e,t,n){for(var r=0;r<n;r++){var i=t[t.length-n+r].substr(1);if(e.lines[e.index+r]!==" "+i)return!1}return e.index+=n,!0}o(Tn,"skipRemoveSuperset");function Hn(e){var t=0,n=0;return e.forEach(function(r){if(typeof r!="string"){var i=Hn(r.mine),a=Hn(r.theirs);t!==void 0&&(i.oldLines===a.oldLines?t+=i.oldLines:t=void 0),n!==void 0&&(i.newLines===a.newLines?n+=i.newLines:n=void 0)}else n!==void 0&&(r[0]==="+"||r[0]===" ")&&n++,t!==void 0&&(r[0]==="-"||r[0]===" ")&&t++}),{oldLines:t,newLines:n}}o(Hn,"calcOldNewLineCount");function er(e){for(var t=[],n,r,i=0;i<e.length;i++)n=e[i],n.added?r=1:n.removed?r=-1:r=0,t.push([r,n.value]);return t}o(er,"convertChangesToDMP");function hn(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];r.added?t.push("<ins>"):r.removed&&t.push("<del>"),t.push(Jn(r.value)),r.added?t.push("</ins>"):r.removed&&t.push("</del>")}return t.join("")}o(hn,"convertChangesToXML");function Jn(e){var t=e;return t=t.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=t.replace(/"/g,"&quot;"),t}o(Jn,"escapeHTML");var Un=/[^a-zA-Z0-9]/,tr=/\s/,Wn=/[\r\n]/,an=/\n\r?\n$/,rr=/^\r?\n\r?\n/,Xe;(function(e){e[e.DIFF_DELETE=-1]="DIFF_DELETE",e[e.DIFF_INSERT=1]="DIFF_INSERT",e[e.DIFF_EQUAL=0]="DIFF_EQUAL"})(Xe||(Xe={}));function cr(e,t){return e<t?e:t}o(cr,"min");function kr(e,t){return e>t?e:t}o(kr,"max");var lr=ae,Sr=function(){function e(){this.diffs=[],this.start1=0,this.start2=0,this.length1=0,this.length2=0}return o(e,"PatchObject"),e.prototype.toString=function(){var t,n;this.length1===0?t=this.start1+",0":this.length1===1?t=this.start1+1:t=this.start1+1+","+this.length1,this.length2===0?n=this.start2+",0":this.length2===1?n=this.start2+1:n=this.start2+1+","+this.length2;for(var r=["@@ -"+t+" +"+n+` @@
`],i,a=0;a<this.diffs.length;a++){switch(this.diffs[a][0]){case Xe.DIFF_INSERT:i="+";break;case Xe.DIFF_DELETE:i="-";break;case Xe.DIFF_EQUAL:i=" ";break}r[a+1]=i+encodeURI(this.diffs[a][1])+`
`}return r.join("").replace(/%20/g," ")},e}(),Gr=function(){function e(){this.diffTimeout=1,this.diffEditCost=4,this.matchThreshold=.5,this.matchDistance=1e3,this.patchDeleteThreshold=.5,this.patchMargin=4,this.matchMaxBits=32}return o(e,"DiffMatchPatch"),e.prototype.diff_main=function(t,n,r,i){typeof i=="undefined"&&(this.diffTimeout<=0?i=Number.MAX_VALUE:i=Date.now()+this.diffTimeout*1e3);var a=i;if(t==null||n==null)throw new Error("Null input. (diff_main)");if(t===n)return t?[[Xe.DIFF_EQUAL,t]]:[];typeof r=="undefined"&&(r=!0);var s=r,l=this.diff_commonPrefix(t,n),c=t.substring(0,l);t=t.substring(l),n=n.substring(l),l=this.diff_commonSuffix(t,n);var u=t.substring(t.length-l);t=t.substring(0,t.length-l),n=n.substring(0,n.length-l);var f=this.diff_compute_(t,n,s,a);return c&&f.unshift([Xe.DIFF_EQUAL,c]),u&&f.push([Xe.DIFF_EQUAL,u]),this.diff_cleanupMerge(f),f},e.prototype.diff_commonPrefix=function(t,n){if(!t||!n||t.charAt(0)!==n.charAt(0))return 0;for(var r=0,i=lr.min(t.length,n.length),a=i,s=0;r<a;)t.substring(s,a)===n.substring(s,a)?(r=a,s=r):i=a,a=Math.floor((i-r)/2+r);return a},e.prototype.diff_commonSuffix=function(t,n){if(!t||!n||t.charAt(t.length-1)!==n.charAt(n.length-1))return 0;for(var r=0,i=lr.min(t.length,n.length),a=i,s=0;r<a;)t.substring(t.length-a,t.length-s)===n.substring(n.length-a,n.length-s)?(r=a,s=r):i=a,a=Math.floor((i-r)/2+r);return a},e.prototype.diff_cleanupSemantic=function(t){for(var n=!1,r=[],i=0,a=null,s=0,l=0,c=0,u=0,f=0;s<t.length;)t[s][0]===Xe.DIFF_EQUAL?(r[i++]=s,l=u,c=f,u=0,f=0,a=t[s][1]):(t[s][0]===Xe.DIFF_INSERT?u+=t[s][1].length:f+=t[s][1].length,a&&a.length<=lr.max(l,c)&&a.length<=lr.max(u,f)&&(t.splice(r[i-1],0,[Xe.DIFF_DELETE,a]),t[r[i-1]+1][0]=Xe.DIFF_INSERT,i--,i--,s=i>0?r[i-1]:-1,l=0,c=0,u=0,f=0,a=null,n=!0)),s++;for(n&&this.diff_cleanupMerge(t),this.diff_cleanupSemanticLossless(t),s=1;s<t.length;){if(t[s-1][0]===Xe.DIFF_DELETE&&t[s][0]===Xe.DIFF_INSERT){var y=t[s-1][1],m=t[s][1],C=this.diff_commonOverlap_(y,m),j=this.diff_commonOverlap_(m,y);C>=j?(C>=y.length/2||C>=m.length/2)&&(t.splice(s,0,[Xe.DIFF_EQUAL,m.substring(0,C)]),t[s-1][1]=y.substring(0,y.length-C),t[s+1][1]=m.substring(C),s++):(j>=y.length/2||j>=m.length/2)&&(t.splice(s,0,[Xe.DIFF_EQUAL,y.substring(0,j)]),t[s-1][0]=Xe.DIFF_INSERT,t[s-1][1]=m.substring(0,m.length-j),t[s+1][0]=Xe.DIFF_DELETE,t[s+1][1]=y.substring(j),s++),s++}s++}},e.prototype.diff_cleanupSemanticLossless=function(t){for(var n=1;n<t.length-1;){if(t[n-1][0]===Xe.DIFF_EQUAL&&t[n+1][0]===Xe.DIFF_EQUAL){var r=t[n-1][1],i=t[n][1],a=t[n+1][1],s=this.diff_commonSuffix(r,i);if(s){var l=i.substring(i.length-s);r=r.substring(0,r.length-s),i=l+i.substring(0,i.length-s),a=l+a}for(var c=r,u=i,f=a,y=this.diff_cleanupSemanticScore_(r,i)+this.diff_cleanupSemanticScore_(i,a);i.charAt(0)===a.charAt(0);){r+=i.charAt(0),i=i.substring(1)+a.charAt(0),a=a.substring(1);var m=this.diff_cleanupSemanticScore_(r,i)+this.diff_cleanupSemanticScore_(i,a);m>=y&&(y=m,c=r,u=i,f=a)}t[n-1][1]!==c&&(c?t[n-1][1]=c:(t.splice(n-1,1),n--),t[n][1]=u,f?t[n+1][1]=f:(t.splice(n+1,1),n--))}n++}},e.prototype.diff_cleanupEfficiency=function(t){for(var n=!1,r=[],i=0,a=null,s=0,l=!1,c=!1,u=!1,f=!1;s<t.length;)t[s][0]===Xe.DIFF_EQUAL?(t[s][1].length<this.diffEditCost&&(u||f)?(r[i++]=s,l=u,c=f,a=t[s][1]):(i=0,a=null),u=f=!1):(t[s][0]===Xe.DIFF_DELETE?f=!0:u=!0,a&&(l&&c&&u&&f||a.length<this.diffEditCost/2&&Number(l)+Number(c)+Number(u)+Number(f)===3)&&(t.splice(r[i-1],0,[Xe.DIFF_DELETE,a]),t[r[i-1]+1][0]=Xe.DIFF_INSERT,i--,a=null,l&&c?(u=f=!0,i=0):(i--,s=i>0?r[i-1]:-1,u=f=!1),n=!0)),s++;n&&this.diff_cleanupMerge(t)},e.prototype.diff_cleanupMerge=function(t){t.push([Xe.DIFF_EQUAL,""]);for(var n=0,r=0,i=0,a="",s="",l;n<t.length;)switch(t[n][0]){case Xe.DIFF_INSERT:i++,s+=t[n][1],n++;break;case Xe.DIFF_DELETE:r++,a+=t[n][1],n++;break;case Xe.DIFF_EQUAL:r+i>1?(r!==0&&i!==0&&(l=this.diff_commonPrefix(s,a),l!==0&&(n-r-i>0&&t[n-r-i-1][0]===Xe.DIFF_EQUAL?t[n-r-i-1][1]+=s.substring(0,l):(t.splice(0,0,[Xe.DIFF_EQUAL,s.substring(0,l)]),n++),s=s.substring(l),a=a.substring(l)),l=this.diff_commonSuffix(s,a),l!==0&&(t[n][1]=s.substring(s.length-l)+t[n][1],s=s.substring(0,s.length-l),a=a.substring(0,a.length-l))),n-=r+i,t.splice(n,r+i),a.length&&(t.splice(n,0,[Xe.DIFF_DELETE,a]),n++),s.length&&(t.splice(n,0,[Xe.DIFF_INSERT,s]),n++),n++):n!==0&&t[n-1][0]===Xe.DIFF_EQUAL?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,i=0,r=0,a="",s="";break}t[t.length-1][1]===""&&t.pop();var c=!1;for(n=1;n<t.length-1;)t[n-1][0]===Xe.DIFF_EQUAL&&t[n+1][0]===Xe.DIFF_EQUAL&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),c=!0):t[n][1].substring(0,t[n+1][1].length)===t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),c=!0)),n++;c&&this.diff_cleanupMerge(t)},e.prototype.diff_xIndex=function(t,n){var r=0,i=0,a=0,s=0,l;for(l=0;l<t.length&&(t[l][0]!==Xe.DIFF_INSERT&&(r+=t[l][1].length),t[l][0]!==Xe.DIFF_DELETE&&(i+=t[l][1].length),!(r>n));l++)a=r,s=i;return t.length!==l&&t[l][0]===Xe.DIFF_DELETE?s:s+(n-a)},e.prototype.diff_prettyHtml=function(t){for(var n=[],r=/&/g,i=/</g,a=/>/g,s=/\n/g,l=0;l<t.length;l++){var c=t[l][0],u=t[l][1],f=u.replace(r,"&amp;").replace(i,"&lt;").replace(a,"&gt;").replace(s,"&para;<br>");switch(c){case Xe.DIFF_INSERT:n[l]='<ins style="background:#e6ffe6;">'+f+"</ins>";break;case Xe.DIFF_DELETE:n[l]='<del style="background:#ffe6e6;">'+f+"</del>";break;case Xe.DIFF_EQUAL:n[l]="<span>"+f+"</span>";break}}return n.join("")},e.prototype.diff_text1=function(t){for(var n=[],r=0;r<t.length;r++)t[r][0]!==Xe.DIFF_INSERT&&(n[r]=t[r][1]);return n.join("")},e.prototype.diff_text2=function(t){for(var n=[],r=0;r<t.length;r++)t[r][0]!==Xe.DIFF_DELETE&&(n[r]=t[r][1]);return n.join("")},e.prototype.diff_levenshtein=function(t){for(var n=0,r=0,i=0,a=0;a<t.length;a++){var s=t[a][0],l=t[a][1];switch(s){case Xe.DIFF_INSERT:r+=l.length;break;case Xe.DIFF_DELETE:i+=l.length;break;case Xe.DIFF_EQUAL:n+=lr.max(r,i),r=0,i=0;break}}return n+=lr.max(r,i),n},e.prototype.diff_toDelta=function(t){for(var n=[],r=0;r<t.length;r++)switch(t[r][0]){case Xe.DIFF_INSERT:n[r]="+"+encodeURI(t[r][1]);break;case Xe.DIFF_DELETE:n[r]="-"+t[r][1].length;break;case Xe.DIFF_EQUAL:n[r]="="+t[r][1].length;break}return n.join("	").replace(/%20/g," ")},e.prototype.diff_fromDelta=function(t,n){for(var r=[],i=0,a=0,s=n.split(/\t/g),l=0;l<s.length;l++){var c=s[l].substring(1);switch(s[l].charAt(0)){case"+":try{r[i++]=[Xe.DIFF_INSERT,decodeURI(c)]}catch(y){throw new Error("Illegal escape in diff_fromDelta: "+c)}break;case"-":case"=":var u=parseInt(c,10);if(isNaN(u)||u<0)throw new Error("Invalid number in diff_fromDelta: "+c);var f=t.substring(a,a+=u);s[l].charAt(0)==="="?r[i++]=[Xe.DIFF_EQUAL,f]:r[i++]=[Xe.DIFF_DELETE,f];break;default:if(s[l])throw new Error("Invalid diff operation in diff_fromDelta: "+s[l])}}if(a!==t.length)throw new Error("Delta length ("+a+") does not equal source text length ("+t.length+")");return r},e.prototype.diff_linesToChars=function(t,n){var r=[],i={};r[0]="";var a=this.diff_linesToCharsMunge_(t,r,i,4e4),s=this.diff_linesToCharsMunge_(n,r,i,65535);return{chars1:a,chars2:s,lineArray:r}},e.prototype.diff_charsToLines=function(t,n){for(var r=0;r<t.length;r++){for(var i=t[r][1],a=[],s=0;s<i.length;s++)a[s]=n[i.charCodeAt(s)];t[r][1]=a.join("")}},e.prototype.match_main=function(t,n,r){if(t==null||n==null||r==null)throw new Error("Null input. (match_main)");return r=lr.max(0,lr.min(r,t.length)),t===n?0:t.length?t.substring(r,r+n.length)===n?r:this.match_bitap_(t,n,r):-1},e.prototype.patch_make=function(t,n,r){var i,a;if(typeof t=="string"&&typeof n=="string"&&typeof r=="undefined")i=t,a=this.diff_main(i,n,!0),a.length>2&&(this.diff_cleanupSemantic(a),this.diff_cleanupEfficiency(a));else if(t&&typeof t=="object"&&typeof n=="undefined"&&typeof r=="undefined")a=t,i=this.diff_text1(a);else if(typeof t=="string"&&n&&typeof n=="object"&&typeof r=="undefined")i=t,a=n;else if(typeof t=="string"&&typeof n=="string"&&r&&typeof r=="object")i=t,a=r;else throw new Error("Unknown call format to patch_make");if(a.length===0)return[];for(var s=[],l=new Sr,c=0,u=0,f=0,y=i,m=i,C=0;C<a.length;C++){var j=a[C][0],Q=a[C][1];switch(!c&&j!==Xe.DIFF_EQUAL&&(l.start1=u,l.start2=f),j){case Xe.DIFF_INSERT:l.diffs[c++]=a[C],l.length2+=Q.length,m=m.substring(0,f)+Q+m.substring(f);break;case Xe.DIFF_DELETE:l.length1+=Q.length,l.diffs[c++]=a[C],m=m.substring(0,f)+m.substring(f+Q.length);break;case Xe.DIFF_EQUAL:Q.length<=2*this.patchMargin&&c&&a.length!==C+1?(l.diffs[c++]=a[C],l.length1+=Q.length,l.length2+=Q.length):Q.length>=2*this.patchMargin&&c&&(this.patch_addContext_(l,y),s.push(l),l=new Sr,c=0,y=m,u=f);break}j!==Xe.DIFF_INSERT&&(u+=Q.length),j!==Xe.DIFF_DELETE&&(f+=Q.length)}return c&&(this.patch_addContext_(l,y),s.push(l)),s},e.prototype.patch_deepCopy=function(t){for(var n=[],r=0;r<t.length;r++){for(var i=t[r],a=new Sr,s=0;s<i.diffs.length;s++)a.diffs[s]=[i.diffs[s][0],i.diffs[s][1]];a.start1=i.start1,a.start2=i.start2,a.length1=i.length1,a.length2=i.length2,n[r]=a}return n},e.prototype.patch_apply=function(t,n){if(t.length===0)return[n,[]];t=this.patch_deepCopy(t);var r=this.patch_addPadding(t);n=r+n+r,this.patch_splitMax(t);for(var i=0,a=[],s=0;s<t.length;s++){var l=t[s].start2+i,c=this.diff_text1(t[s].diffs),u=void 0,f=-1;if(c.length>this.matchMaxBits?(u=this.match_main(n,c.substring(0,this.matchMaxBits),l),u!==-1&&(f=this.match_main(n,c.substring(c.length-this.matchMaxBits),l+c.length-this.matchMaxBits),(f===-1||u>=f)&&(u=-1))):u=this.match_main(n,c,l),u===-1)a[s]=!1,i-=t[s].length2-t[s].length1;else{a[s]=!0,i=u-l;var y=void 0;if(f===-1?y=n.substring(u,u+c.length):y=n.substring(u,f+this.matchMaxBits),c===y)n=n.substring(0,u)+this.diff_text2(t[s].diffs)+n.substring(u+c.length);else{var m=this.diff_main(c,y,!1);if(c.length>this.matchMaxBits&&this.diff_levenshtein(m)/c.length>this.patchDeleteThreshold)a[s]=!1;else{this.diff_cleanupSemanticLossless(m);for(var C=0,j=0,Q=0;Q<t[s].diffs.length;Q++){var z=t[s].diffs[Q];z[0]!==Xe.DIFF_EQUAL&&(j=this.diff_xIndex(m,C)),z[0]===Xe.DIFF_INSERT?n=n.substring(0,u+j)+z[1]+n.substring(u+j):z[0]===Xe.DIFF_DELETE&&(n=n.substring(0,u+j)+n.substring(u+this.diff_xIndex(m,C+z[1].length))),z[0]!==Xe.DIFF_DELETE&&(C+=z[1].length)}}}}}return n=n.substring(r.length,n.length-r.length),[n,a]},e.prototype.patch_addPadding=function(t){for(var n=this.patchMargin,r="",i=1;i<=n;i++)r+=String.fromCharCode(i);for(var i=0;i<t.length;i++)t[i].start1+=n,t[i].start2+=n;var a=t[0],s=a.diffs;if(s.length===0||s[0][0]!==Xe.DIFF_EQUAL)s.unshift([Xe.DIFF_EQUAL,r]),a.start1-=n,a.start2-=n,a.length1+=n,a.length2+=n;else if(n>s[0][1].length){var l=n-s[0][1].length;s[0][1]=r.substring(s[0][1].length)+s[0][1],a.start1-=l,a.start2-=l,a.length1+=l,a.length2+=l}if(a=t[t.length-1],s=a.diffs,s.length===0||s[s.length-1][0]!==Xe.DIFF_EQUAL)s.push([Xe.DIFF_EQUAL,r]),a.length1+=n,a.length2+=n;else if(n>s[s.length-1][1].length){var l=n-s[s.length-1][1].length;s[s.length-1][1]+=r.substring(0,l),a.length1+=l,a.length2+=l}return r},e.prototype.patch_splitMax=function(t){for(var n=this.matchMaxBits,r=0;r<t.length;r++)if(!(t[r].length1<=n)){var i=t[r];t.splice(r--,1);for(var a=i.start1,s=i.start2,l="";i.diffs.length!==0;){var c=new Sr,u=!0;for(c.start1=a-l.length,c.start2=s-l.length,l!==""&&(c.length1=c.length2=l.length,c.diffs.push([Xe.DIFF_EQUAL,l]));i.diffs.length!==0&&c.length1<n-this.patchMargin;){var f=i.diffs[0][0],y=i.diffs[0][1];f===Xe.DIFF_INSERT?(c.length2+=y.length,s+=y.length,c.diffs.push(i.diffs.shift()),u=!1):f===Xe.DIFF_DELETE&&c.diffs.length===1&&c.diffs[0][0]===Xe.DIFF_EQUAL&&y.length>2*n?(c.length1+=y.length,a+=y.length,u=!1,c.diffs.push([f,y]),i.diffs.shift()):(y=y.substring(0,n-c.length1-this.patchMargin),c.length1+=y.length,a+=y.length,f===Xe.DIFF_EQUAL?(c.length2+=y.length,s+=y.length):u=!1,c.diffs.push([f,y]),y===i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(y.length))}l=this.diff_text2(c.diffs),l=l.substring(l.length-this.patchMargin);var m=this.diff_text1(i.diffs).substring(0,this.patchMargin);m!==""&&(c.length1+=m.length,c.length2+=m.length,c.diffs.length!==0&&c.diffs[c.diffs.length-1][0]===Xe.DIFF_EQUAL?c.diffs[c.diffs.length-1][1]+=m:c.diffs.push([Xe.DIFF_EQUAL,m])),u||t.splice(++r,0,c)}}},e.prototype.patch_toText=function(t){for(var n=[],r=0;r<t.length;r++)n[r]=t[r];return n.join("")},e.prototype.patch_fromText=function(t){var n=[];if(!t)return n;for(var r=t.split(`
`),i=0,a=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;i<r.length;){var s=r[i].match(a);if(!s)throw new Error("Invalid patch string: "+r[i]);var l=new Sr;n.push(l),l.start1=parseInt(s[1],10),s[2]===""?(l.start1--,l.length1=1):s[2]==="0"?l.length1=0:(l.start1--,l.length1=parseInt(s[2],10)),l.start2=parseInt(s[3],10),s[4]===""?(l.start2--,l.length2=1):s[4]==="0"?l.length2=0:(l.start2--,l.length2=parseInt(s[4],10)),i++;for(var c=void 0,u=void 0,f=void 0;i<r.length;){c=r[i].charAt(0),f=r[i].substring(1);try{u=decodeURI(f)}catch(y){throw new Error("Illegal escape in patch_fromText: "+f)}if(c==="-")l.diffs.push([Xe.DIFF_DELETE,u]);else if(c==="+")l.diffs.push([Xe.DIFF_INSERT,u]);else if(c===" ")l.diffs.push([Xe.DIFF_EQUAL,u]);else{if(c==="@")break;if(c!=="")throw new Error('Invalid patch mode "'+c+'" in: '+u)}i++}}return n},e.prototype.diff_compute_=function(t,n,r,i){var a;if(!t)return[[Xe.DIFF_INSERT,n]];if(!n)return[[Xe.DIFF_DELETE,t]];var s=t.length>n.length?t:n,l=t.length>n.length?n:t,c=s.indexOf(l);if(c!==-1)return a=[[Xe.DIFF_INSERT,s.substring(0,c)],[Xe.DIFF_EQUAL,l],[Xe.DIFF_INSERT,s.substring(c+l.length)]],t.length>n.length&&(a[0][0]=Xe.DIFF_DELETE,a[2][0]=Xe.DIFF_DELETE),a;if(l.length===1)return[[Xe.DIFF_DELETE,t],[Xe.DIFF_INSERT,n]];var u=this.diff_halfMatch_(t,n);if(u){var f=u[0],y=u[1],m=u[2],C=u[3],j=u[4],Q=this.diff_main(f,m,r,i),z=this.diff_main(y,C,r,i);return Q.concat([[Xe.DIFF_EQUAL,j]],z)}return r&&t.length>100&&n.length>100?this.diff_lineMode_(t,n,i):this.diff_bisect_(t,n,i)},e.prototype.diff_lineMode_=function(t,n,r){var i=this.diff_linesToChars(t,n);t=i.chars1,n=i.chars2;var a=i.lineArray,s=this.diff_main(t,n,!1,r);this.diff_charsToLines(s,a),this.diff_cleanupSemantic(s),s.push([Xe.DIFF_EQUAL,""]);for(var l=0,c=0,u=0,f="",y="";l<s.length;){switch(s[l][0]){case Xe.DIFF_INSERT:u++,y+=s[l][1];break;case Xe.DIFF_DELETE:c++,f+=s[l][1];break;case Xe.DIFF_EQUAL:if(c>=1&&u>=1){s.splice(l-c-u,c+u),l=l-c-u;for(var m=this.diff_main(f,y,!1,r),C=m.length-1;C>=0;C--)s.splice(l,0,m[C]);l=l+m.length}u=0,c=0,f="",y="";break}l++}return s.pop(),s},e.prototype.diff_bisect_=function(t,n,r){for(var i=t.length,a=n.length,s=Math.ceil((i+a)/2),l=s,c=2*s,u=new Array(c),f=new Array(c),y=0;y<c;y++)u[y]=-1,f[y]=-1;u[l+1]=0,f[l+1]=0;for(var m=i-a,C=m%2!=0,j=0,Q=0,z=0,G=0,re=0;re<s&&!(Date.now()>r);re++){for(var fe=-re+j;fe<=re-Q;fe+=2){var le=l+fe,be=void 0;fe===-re||fe!==re&&u[le-1]<u[le+1]?be=u[le+1]:be=u[le-1]+1;for(var Je=be-fe;be<i&&Je<a&&t.charAt(be)===n.charAt(Je);)be++,Je++;if(u[le]=be,be>i)Q+=2;else if(Je>a)j+=2;else if(C){var Ue=l+m-fe;if(Ue>=0&&Ue<c&&f[Ue]!==-1){var Oe=i-f[Ue];if(be>=Oe)return this.diff_bisectSplit_(t,n,be,Je,r)}}}for(var vt=-re+z;vt<=re-G;vt+=2){var Ue=l+vt,Oe=void 0;vt===-re||vt!==re&&f[Ue-1]<f[Ue+1]?Oe=f[Ue+1]:Oe=f[Ue-1]+1;for(var Pe=Oe-vt;Oe<i&&Pe<a&&t.charAt(i-Oe-1)===n.charAt(a-Pe-1);)Oe++,Pe++;if(f[Ue]=Oe,Oe>i)G+=2;else if(Pe>a)z+=2;else if(!C){var le=l+m-vt;if(le>=0&&le<c&&u[le]!==-1){var be=u[le],Je=l+be-le;if(Oe=i-Oe,be>=Oe)return this.diff_bisectSplit_(t,n,be,Je,r)}}}}return[[Xe.DIFF_DELETE,t],[Xe.DIFF_INSERT,n]]},e.prototype.diff_bisectSplit_=function(t,n,r,i,a){var s=t.substring(0,r),l=n.substring(0,i),c=t.substring(r),u=n.substring(i),f=this.diff_main(s,l,!1,a),y=this.diff_main(c,u,!1,a);return f.concat(y)},e.prototype.diff_linesToCharsMunge_=function(t,n,r,i){for(var a="",s=0,l=-1,c=n.length;l<t.length-1;){l=t.indexOf(`
`,s),l===-1&&(l=t.length-1);var u=t.substring(s,l+1);(r.hasOwnProperty?r.hasOwnProperty(u):r[u]!==void 0)?a+=String.fromCharCode(r[u]):(c===i&&(u=t.substring(s),l=t.length),a+=String.fromCharCode(c),r[u]=c,n[c++]=u),s=l+1}return a},e.prototype.diff_commonOverlap_=function(t,n){var r=t.length,i=n.length;if(r===0||i===0)return 0;r>i?t=t.substring(r-i):r<i&&(n=n.substring(0,r));var a=lr.min(r,i);if(t===n)return a;for(var s=0,l=1;;){var c=t.substring(a-l),u=n.indexOf(c);if(u===-1)return s;l+=u,(u===0||t.substring(a-l)===n.substring(0,l))&&(s=l,l++)}},e.prototype.diff_halfMatch_=function(t,n){if(this.diffTimeout<=0)return null;var r=t.length>n.length?t:n,i=t.length>n.length?n:t;if(r.length<4||i.length*2<r.length)return null;var a=this.diff_halfMatchI_(r,i,Math.ceil(r.length/4)),s=this.diff_halfMatchI_(r,i,Math.ceil(r.length/2)),l;if(!a&&!s)return null;s?a?l=a[4].length>s[4].length?a:s:l=s:l=a;var c,u,f,y,m=l[4];return t.length>n.length?(c=l[0],u=l[1],f=l[2],y=l[3]):(f=l[0],y=l[1],c=l[2],u=l[3]),[c,u,f,y,m]},e.prototype.diff_halfMatchI_=function(t,n,r){for(var i=t.substring(r,r+Math.floor(t.length/4)),a="",s,l,c,u,f=n.indexOf(i,0);f!==-1;){var y=this.diff_commonPrefix(t.substring(r),n.substring(f)),m=this.diff_commonSuffix(t.substring(0,r),n.substring(0,f));a.length<m+y&&(a=n.substring(f-m,f)+n.substring(f,f+y),s=t.substring(0,r-m),l=t.substring(r+y),c=n.substring(0,f-m),u=n.substring(f+y)),f=n.indexOf(i,f+1)}return a.length*2>=t.length?[s,l,c,u,a]:null},e.prototype.diff_cleanupSemanticScore_=function(t,n){if(!t||!n)return 6;var r=t.charAt(t.length-1),i=n.charAt(0),a=r.match(Un),s=i.match(Un),l=a&&r.match(tr),c=s&&i.match(tr),u=l&&r.match(Wn),f=c&&i.match(Wn),y=u&&t.match(an),m=f&&n.match(rr);return y||m?5:u||f?4:a&&!l&&c?3:l||c?2:a||s?1:0},e.prototype.match_bitap_=function(t,n,r){if(n.length>this.matchMaxBits)throw new Error("Pattern too long for this browser");var i=this.match_alphabet_(n),a=this.matchThreshold,s=t.indexOf(n,r);s!==-1&&(a=lr.min(this.match_bitapScore_(0,s,n,r),a),s=t.lastIndexOf(n,r+n.length),s!==-1&&(a=lr.min(this.match_bitapScore_(0,s,n,r),a)));var l=1<<n.length-1;s=-1;for(var c,u,f=n.length+t.length,y,m=0;m<n.length;m++){for(c=0,u=f;c<u;)this.match_bitapScore_(m,r+u,n,r)<=a?c=u:f=u,u=Math.floor((f-c)/2+c);f=u;var C=lr.max(1,r-u+1),j=lr.min(r+u,t.length)+n.length,Q=Array(j+2);Q[j+1]=(1<<m)-1;for(var z=j;z>=C;z--){var G=i[t.charAt(z-1)];if(m===0?Q[z]=(Q[z+1]<<1|1)&G:Q[z]=(Q[z+1]<<1|1)&G|((y[z+1]|y[z])<<1|1)|y[z+1],Q[z]&l){var re=this.match_bitapScore_(m,z-1,n,r);if(re<=a)if(a=re,s=z-1,s>r)C=lr.max(1,2*r-s);else break}}if(this.match_bitapScore_(m+1,r,n,r)>a)break;y=Q}return s},e.prototype.match_bitapScore_=function(t,n,r,i){var a=t/r.length,s=Math.abs(i-n);return this.matchDistance?a+s/this.matchDistance:s?1:a},e.prototype.match_alphabet_=function(t){for(var n={},r=0;r<t.length;r++)n[t.charAt(r)]=0;for(var r=0;r<t.length;r++)n[t.charAt(r)]|=1<<t.length-r-1;return n},e.prototype.patch_addContext_=function(t,n){if(n.length!==0){if(t.start2==null)throw Error("patch not initialized");for(var r=n.substring(t.start2,t.start2+t.length1),i=0;n.indexOf(r)!==n.lastIndexOf(r)&&r.length<this.matchMaxBits-this.patchMargin-this.patchMargin;)i+=this.patchMargin,r=n.substring(t.start2-i,t.start2+t.length1+i);i+=this.patchMargin;var a=n.substring(t.start2-i,t.start2);a&&t.diffs.unshift([Xe.DIFF_EQUAL,a]);var s=n.substring(t.start2+t.length1,t.start2+t.length1+i);s&&t.diffs.push([Xe.DIFF_EQUAL,s]),t.start1-=a.length,t.start2-=a.length,t.length1+=a.length+s.length,t.length2+=a.length+s.length}},e}();function qn(e,t){let n={};for(let a=0;a<t.length;a++){const s=t[a];n[s]?n[s].push(a):n[s]=[a]}let i=[{buffer1index:-1,buffer2index:-1,chain:null}];for(let a=0;a<e.length;a++){const s=e[a],l=n[s]||[];let c=0,u=i[0];for(let f=0;f<l.length;f++){const y=l[f];let m;for(m=c;m<i.length&&!(i[m].buffer2index<y&&(m===i.length-1||i[m+1].buffer2index>y));m++);if(m<i.length){const C={buffer1index:a,buffer2index:y,chain:i[m]};if(c===i.length?i.push(u):i[c]=u,c=m+1,u=C,c===i.length)break}}i[c]=u}return i[i.length-1]}o(qn,"LCS");function oi(e,t){const n=qn(e,t);let r=[],i=e.length,a=t.length,s={common:[]};function l(){s.common.length&&(s.common.reverse(),r.push(s),s={common:[]})}o(l,"processCommon");for(let c=n;c!==null;c=c.chain){let u={buffer1:[],buffer2:[]};for(;--i>c.buffer1index;)u.buffer1.push(e[i]);for(;--a>c.buffer2index;)u.buffer2.push(t[a]);(u.buffer1.length||u.buffer2.length)&&(l(),u.buffer1.reverse(),u.buffer2.reverse(),r.push(u)),i>=0&&s.common.push(e[i])}return l(),r.reverse(),r}o(oi,"diffComm");function Zr(e,t){const n=qn(e,t);let r=[],i=e.length,a=t.length;for(let s=n;s!==null;s=s.chain){const l=i-s.buffer1index-1,c=a-s.buffer2index-1;i=s.buffer1index,a=s.buffer2index,(l||c)&&r.push({buffer1:[i+1,l],buffer1Content:e.slice(i+1,i+1+l),buffer2:[a+1,c],buffer2Content:t.slice(a+1,a+1+c)})}return r.reverse(),r}o(Zr,"diffIndices");function fr(e,t){const n=qn(e,t);let r=[],i=e.length,a=t.length;function s(l,c,u){let f=[];for(let y=0;y<u;y++)f.push(l[c+y]);return{offset:c,length:u,chunk:f}}o(s,"chunkDescription");for(let l=n;l!==null;l=l.chain){const c=i-l.buffer1index-1,u=a-l.buffer2index-1;i=l.buffer1index,a=l.buffer2index,(c||u)&&r.push({buffer1:s(e,l.buffer1index+1,c),buffer2:s(t,l.buffer2index+1,u)})}return r.reverse(),r}o(fr,"diffPatch");function Wr(e,t,n){let r=[];function i(c,u){r.push({ab:u,oStart:c.buffer1[0],oLength:c.buffer1[1],abStart:c.buffer2[0],abLength:c.buffer2[1]})}o(i,"addHunk"),Zr(t,e).forEach(c=>i(c,"a")),Zr(t,n).forEach(c=>i(c,"b")),r.sort((c,u)=>c.oStart-u.oStart);let a=[],s=0;function l(c){c>s&&(a.push({stable:!0,buffer:"o",bufferStart:s,bufferLength:c-s,bufferContent:t.slice(s,c)}),s=c)}for(o(l,"advanceTo");r.length;){let c=r.shift(),u=c.oStart,f=c.oStart+c.oLength,y=[c];for(l(u);r.length;){const m=r[0],C=m.oStart;if(C>f)break;f=Math.max(f,C+m.oLength),y.push(r.shift())}if(y.length===1){if(c.abLength>0){const m=c.ab==="a"?e:n;a.push({stable:!0,buffer:c.ab,bufferStart:c.abStart,bufferLength:c.abLength,bufferContent:m.slice(c.abStart,c.abStart+c.abLength)})}}else{let m={a:[e.length,-1,t.length,-1],b:[n.length,-1,t.length,-1]};for(;y.length;){c=y.shift();const re=c.oStart,fe=re+c.oLength,le=c.abStart,be=le+c.abLength;let Je=m[c.ab];Je[0]=Math.min(le,Je[0]),Je[1]=Math.max(be,Je[1]),Je[2]=Math.min(re,Je[2]),Je[3]=Math.max(fe,Je[3])}const C=m.a[0]+(u-m.a[2]),j=m.a[1]+(f-m.a[3]),Q=m.b[0]+(u-m.b[2]),z=m.b[1]+(f-m.b[3]);let G={stable:!1,aStart:C,aLength:j-C,aContent:e.slice(C,j),oStart:u,oLength:f-u,oContent:t.slice(u,f),bStart:Q,bLength:z-Q,bContent:n.slice(Q,z)};a.push(G)}s=f}return l(t.length),a}o(Wr,"diff3MergeRegions");function si(e,t,n,r){r=Object.assign({excludeFalseConflicts:!0,stringSeparator:/\s+/},r);const a=typeof e=="string",s=typeof t=="string",l=typeof n=="string";a&&(e=e.split(r.stringSeparator)),s&&(t=t.split(r.stringSeparator)),l&&(n=n.split(r.stringSeparator));let c=[];const u=Wr(e,t,n);let f=[];function y(){f.length&&c.push({ok:f}),f=[]}o(y,"flushOk");function m(C,j){if(C.length!==j.length)return!1;for(let Q=0;Q<C.length;Q++)if(C[Q]!==j[Q])return!1;return!0}return o(m,"isFalseConflict"),u.forEach(C=>{C.stable?f.push(...C.bufferContent):r.excludeFalseConflicts&&m(C.aContent,C.bContent)?f.push(...C.aContent):(y(),c.push({conflict:{a:C.aContent,aIndex:C.aStart,o:C.oContent,oIndex:C.oStart,b:C.bContent,bIndex:C.bStart}}))}),y(),c}o(si,"diff3Merge");function xa(e,t,n,r){r=Object.assign({excludeFalseConflicts:!0,stringSeparator:/\s+/,label:{}},r);const a=si(e,t,n,r);let s=!1,l=[];return a.forEach(c=>{c.ok?l=l.concat(c.ok):c.conflict&&(s=!0,l.push(`<<<<<<<${r.label.a?` ${r.label.a}`:""}`),l=l.concat(c.conflict.a),l.push(`|||||||${r.label.o?` ${r.label.o}`:""}`),l=l.concat(c.conflict.o),l.push("======="),l=l.concat(c.conflict.b),l.push(`>>>>>>>${r.label.b?` ${r.label.b}`:""}`))}),{conflict:s,result:l}}o(xa,"mergeDiff3");function ea(e,t,n,r){r=Object.assign({excludeFalseConflicts:!0,stringSeparator:/\s+/},r);const a=si(e,t,n,r);let s=!1,l=[];for(let c=0;c<a.length;c++){const u=a[c];u.ok?l=l.concat(u.ok):(s=!0,l=l.concat([`
<<<<<<<<<
`],u.conflict.a,[`
=========
`],u.conflict.b,[`
>>>>>>>>>
`]))}return{conflict:s,result:l}}o(ea,"node_diff3_merge");function ba(e,t,n,r){r=Object.assign({excludeFalseConflicts:!1,stringSeparator:/\s+/},r);const a=si(e,t,n,r);let s=!1,l=[];for(let c=0;c<a.length;c++){const u=a[c];if(u.ok)l=l.concat(u.ok);else{const f=oi(u.conflict.a,u.conflict.b);for(let y=0;y<f.length;y++){let m=f[y];m.common?l=l.concat(m.common):(s=!0,l=l.concat([`
<<<<<<<<<
`],m.buffer1,[`
=========
`],m.buffer2,[`
>>>>>>>>>
`]))}}}return{conflict:s,result:l}}o(ba,"mergeDigIn");function Qr(e,t){let n=[],r=0;function i(a){for(;r<a;)n.push(e[r]),r++}o(i,"advanceTo");for(let a=0;a<t.length;a++){let s=t[a];i(s.buffer1.offset);for(let l=0;l<s.buffer2.chunk.length;l++)n.push(s.buffer2.chunk[l]);r+=s.buffer1.length}return i(e.length),n}o(Qr,"patch");function ki(e){return e.map(t=>({buffer1:{offset:t.buffer1.offset,length:t.buffer1.length},buffer2:{chunk:t.buffer2.chunk}}))}o(ki,"stripPatch");function ta(e){return e.map(t=>({buffer1:t.buffer2,buffer2:t.buffer1}))}o(ta,"invertPatch");const jr=new Gr;jr.diffTimeout=0;function Xr(e,t,n){return Rt.get("experimental.useDiffMatchPatch")===!0?jr.patch_toText(jr.patch_make(t,n)):Ht(e,t,n)}o(Xr,"diffs_createPatch");function dr(e,t,n,r){const i=`diff --git a/${e} b/${e}`;switch(r){case"modify":return Xr(e,t,n);case"add":{let a;!n.endsWith(`
`)&&!n.endsWith(`\r
`)?a=`
\\ No newline at end of file`:a="";const s=/\r?\n/g,l=n.split(s),c=n.match(s)||[],u=l.length,f=[];for(let y=0;y<u;y+=1)(y<l.length-1||y===l.length-1&&l[y]!=="")&&f.push("+"),f.push(l[y]),y<c.length&&f.push(c[y]);return n=f.join(""),`${i}
new file mode 100644
--- /dev/null
+++ b/${e}
@@ -0,0 +1,${u} @@
${n}${a}`}case"delete":{let a=0;return t=t.replace(/\r?\n/g,s=>(a++,`${s}-`)),`${i}
deleted file mode 100644
--- a/${e}
+++ /dev/null
@@ -1,${a} +0,0 @@
-${t}`}}}o(dr,"createPatch2");function Pi(e,t,n){return De(e,t,n)}o(Pi,"diffs_applyPatch");function we(e,t){const n=[];for(const r of ct(e,t))n.push({...r,oldFileName:r.newFileName,oldHeader:r.newHeader,newFileName:r.oldFileName,newHeader:r.oldHeader,hunks:r.hunks.map(i=>({...i,oldLines:i.newLines,oldStart:i.newStart,newLines:i.oldLines,newStart:i.oldStart,lines:i.lines.map(a=>a[0]==="-"?`+${a.slice(1)}`:a[0]==="+"?`-${a.slice(1)}`:a)}))}),n.push(r);return n}o(we,"reversePatch");function Qe(e,t,n,r){let i=`
`;const a=e.match(/(?:\r?\n)/g);if(a!==null&&a.length!==0){const u=a.filter(f=>f===`\r
`).length;i=u>a.length-u?`\r
`:`
`}const s=ea(e,t,n,{excludeFalseConflicts:!0,stringSeparator:/\r?\n/}),l=s.result;let c=s.conflict;for(let u=0;u<l.length;u+=1)l[u]===`
<<<<<<<<<
`?l[u]="<<<<<<< HEAD":l[u]===`
=========
`?l[u]="=======":l[u]===`
>>>>>>>>>
`&&(l[u]=`>>>>>>> ${r}`);return{conflicts:c,mergedContent:l.join(i)}}o(Qe,"diffs_merge");function tt(e){return e!==void 0&&typeof e.then=="function"}o(tt,"isPromise");const ot="";function jt(...e){if(e.length===1){const t=e[0];return t===void 0?ot:typeof t=="string"?t:typeof t=="number"||typeof t=="boolean"||t instanceof Error?String(t):t instanceof d.Uri?t.toString():JSON.stringify(t)}return JSON.stringify(e)}o(jt,"defaultResolver");function Xt(e){return(t,n,r)=>{let i;if(typeof r.value=="function"?i=r.value:typeof r.get=="function"&&(i=r.get),i===void 0)throw new Error("Not supported");const a=`$gate$${n}`;r.value=function(...s){const l=s.length===0?a:`${a}$${(e!=null?e:jt)(...s)}`;Object.prototype.hasOwnProperty.call(this,l)||Object.defineProperty(this,l,{configurable:!1,enumerable:!1,writable:!0,value:void 0});let c=this[l];if(c===void 0){let u;try{if(u=i.apply(this,s),u==null||!tt(u))return u;this[l]=c=u.then(f=>(this[l]=void 0,f)).catch(f=>{throw this[l]=void 0,f})}catch(f){throw this[l]=void 0,f}}return c}}}o(Xt,"gate");function nn(e){const t=performance.now()*.001;let n=Math.floor(t),r=Math.floor(t%1*1e9);return e!==void 0&&(n=n-e[0],r=r-e[1],r<0&&(n--,r+=1e9)),[n,r]}o(nn,"hrtime");let gn=0;function H(){return gn===Number.MAX_SAFE_INTEGER&&(gn=0),++gn}o(H,"getNextInstanceId");const Y=o(class{constructor(e,t,...n){this.context=e,this.instance=`[${H().toString().padStart(5)}] `;var r,i,a,s,l,c;let u;if(typeof(t==null?void 0:t.log)=="boolean"?u=t.log?{}:void 0:u=(r=t==null?void 0:t.log)!=null?r:{},this.logLevel=(i=t==null?void 0:t.logLevel)!=null?i:Ut.Info,this.time=nn(),u){if(!se.enabled(this.logLevel))return;n.length?me(this.logLevel,`${this.instance}${(a=u.prefix)!=null?a:""}${e}${(s=u.message)!=null?s:""}`,...n):me(this.logLevel,`${this.instance}${(l=u.prefix)!=null?l:""}${e}${(c=u.message)!=null?c:""}`)}}log(e){this.logCore(this.context,e,!1)}logStep(e,t){(!e||t)&&this.logCore(this.context,t,!1),this.step=e?{time:nn(),label:e}:void 0}restart(e){this.logCore(this.context,e,!0),this.step=void 0,this.time=nn()}stop(e){this.restart(e)}logCore(e,t,n){var r,i,a,s,l,c,u;if(!se.enabled(this.logLevel))return;let f="";if(this.step){const[j,Q]=nn(this.step.time),z=j*1e3+Math.floor(Q/1e6);f=`${this.step.label?`${this.step.label} took `:""}${z} ms`}if(!n){me(this.logLevel,`${this.instance}${(r=t==null?void 0:t.prefix)!=null?r:""}${e}${(i=t==null?void 0:t.message)!=null?i:""}${f?` ${f}`:""}${(a=t==null?void 0:t.suffix)!=null?a:""}`);return}const[y,m]=nn(this.time),C=y*1e3+Math.floor(m/1e6);me(C>500?Ut.Warn:this.logLevel,`${this.instance}${(s=t==null?void 0:t.prefix)!=null?s:""}${e}${(l=t==null?void 0:t.message)!=null?l:""}${(c=t==null?void 0:t.took)!=null?c:" took "}${C} ms${f?` (${f})`:""}${(u=t==null?void 0:t.suffix)!=null?u:""}`)}static start(e,t,...n){var r;(r=Y.watches.get(e))==null||r.log(),Y.watches.set(e,new Y(e,t,...n))}static log(e,t){var n;(n=Y.watches.get(e))==null||n.log(t)}static stop(e,t){var n;(n=Y.watches.get(e))==null||n.stop(t),Y.watches.delete(e)}},"_Stopwatch");let N=Y;N.watches=new Map;function me(e,t,...n){switch(e){case Ut.Warn:se.warn(t,...n);break;case Ut.Info:se.log(t,...n);break;default:se.debug(t,...n);break}}o(me,"log");let $e=0;function Be(){return $e===Number.MAX_SAFE_INTEGER&&($e=0),String(++$e)}o(Be,"getNextLockId");class kt{constructor(){this.id=Be()}async synchronize(t){let n;const r=this.promise;this.promise=new Promise(i=>n=i),await r;try{return await t()}finally{n()}}}o(kt,"Lock");class Nt{constructor(t){this.lock=new kt,this.readers=new Set,this.counter=0,this._id=t!=null?t:this.lock.id}get id(){return this._id}getNextCounter(){return this.counter===Number.MAX_SAFE_INTEGER&&(this.counter=0),++this.counter}async synchronizeRead(t,n){let r;const i=new N(`Reader(${this.getNextCounter()}|${this.id})`,{log:{prefix:"(A) ",message:n?` \u2022 ${n}`:""},logLevel:Ut.Debug});let a;await this.lock.synchronize(async()=>{this.writer&&await this.writer,a=new Promise(s=>r=s),this.readers.add(a)}),i.restart({prefix:"(L) ",suffix:n?` \u2022 ${n}`:"",took:" waited for "});try{return await t()}finally{i.stop({prefix:"(U) ",suffix:n?` \u2022 ${n}`:"",took:" locked for "}),a!==void 0&&this.readers.delete(a),r()}}async synchronizeWrite(t,n){let r;const i=new N(`Writer(${this.getNextCounter()}|${this.id})`,{log:{prefix:"(A) ",message:n?` \u2022 ${n}`:""},logLevel:Ut.Debug});await this.lock.synchronize(async()=>{if(this.writer&&await this.writer,this.readers.size){const a=[...this.readers];this.readers.clear(),await Promise.all(a)}this.writer=new Promise(a=>r=a)}),i.restart({prefix:"(L) ",suffix:n?` \u2022 ${n}`:"",took:" waited for "});try{return await t()}finally{i.stop({prefix:"(U) ",suffix:n?` \u2022 ${n}`:"",took:" locked for "}),r(),this.writer=void 0}}}o(Nt,"ReaderWriterLock");class mn{constructor(){this.locks=new Map}async synchronizeRead(t,n,r){let i=this.locks.get(t);return i===void 0&&(i=new Nt(String(t)),this.locks.set(t,i)),i.synchronizeRead(n,r)}async synchronizeWrite(t,n,r){let i=this.locks.get(t);return i===void 0&&(i=new Nt(String(t)),this.locks.set(t,i)),i.synchronizeWrite(n,r)}}o(mn,"KeyedReaderWriterLock");const yn=new TextDecoder,$n=new TextEncoder;async function jn(e){const t=typeof e=="string"?$n.encode(e):e;let n;if(globalThis.crypto.subtle)n=await globalThis.crypto.subtle.digest({name:"sha-1"},t);else{const r=new Jr;r.update(t),n=r.digest()}return globalThis.btoa(encodeURIComponent(yn.decode(n)))}o(jn,"sha1");var ir;(function(e){e[e.BLOCK_SIZE=64]="BLOCK_SIZE"})(ir||(ir={}));function xr(e,t,n=32){const r=n-t,i=~((1<<r)-1);return(e<<t|(i&e)>>>r)>>>0}o(xr,"leftRotate");function Pr(e,t=0,n=e.byteLength,r=0){for(let i=0;i<n;i++)e[t+i]=r}o(Pr,"fill");const li=o(class{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._finished=!1}update(e){const t=this._buff;let n=this._buffLen,r=0;const i=e.byteLength;for(;r<i;){const a=Math.min(64-n,i-r);for(let s=0;s<a;s++)t[n++]=e[r++];n>=64&&(this._step(),n-=64,this._totalLen+=64)}this._buffLen=n}digest(){this._finished||(this._finished=!0,this._totalLen+=this._buffLen,this._wrapUp());const e=new ArrayBuffer(20),t=new DataView(e);return t.setUint32(0,this._h0,!1),t.setUint32(4,this._h1,!1),t.setUint32(8,this._h2,!1),t.setUint32(12,this._h3,!1),t.setUint32(16,this._h4,!1),e}_wrapUp(){this._buff[this._buffLen++]=128,Pr(this._buff,this._buffLen),this._buffLen>56&&(this._step(),Pr(this._buff));const e=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(e/4294967296),!1),this._buffDV.setUint32(60,e%4294967296,!1),this._step()}_step(){const e=li._bigBlock32,t=this._buffDV;for(let f=0;f<64;f+=4)e.setUint32(f,t.getUint32(f,!1),!1);for(let f=64;f<320;f+=4)e.setUint32(f,xr(e.getUint32(f-12,!1)^e.getUint32(f-32,!1)^e.getUint32(f-56,!1)^e.getUint32(f-64,!1),1),!1);let n=this._h0,r=this._h1,i=this._h2,a=this._h3,s=this._h4,l,c,u;for(let f=0;f<80;f++)f<20?(l=r&i|~r&a,c=1518500249):f<40?(l=r^i^a,c=1859775393):f<60?(l=r&i|r&a|i&a,c=2400959708):(l=r^i^a,c=3395469782),u=xr(n,5)+l+s+c+e.getUint32(f*4,!1)&4294967295,s=a,a=i,i=xr(r,30),r=n,n=u;this._h0=this._h0+n&4294967295,this._h1=this._h1+r&4294967295,this._h2=this._h2+i&4294967295,this._h3=this._h3+a&4294967295,this._h4=this._h4+s&4294967295}},"_SHA1Computer");let Jr=li;Jr._bigBlock32=new DataView(new ArrayBuffer(320));function Oi(e){const t=globalThis.atob(e),n=t.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=t.charCodeAt(i);return r}o(Oi,"fromBase64");const{fromCharCode:Os}=String;function Va(e){let t;if(typeof e=="string")t=e;else{t="";for(let n=0,{length:r}=e;n<r;n++)t+=Os(e[n])}return globalThis.btoa(t)}o(Va,"toBase64");function Ga(e,t){if(e===t)return-1;let n=0;for(;e[n]===t[n];)n++;return n}o(Ga,"indexOfDifference");var X0=Object.defineProperty,J0=Object.getOwnPropertyDescriptor,Y0=o((e,t,n,r)=>{for(var i=r>1?void 0:r?J0(t,n):t,a=e.length-1,s;a>=0;a--)(s=e[a])&&(i=(r?s(t,n,i):s(i))||i);return r&&i&&X0(t,n,i),i},"__decorateClass");const hr=S.loadMessageBundle(),ev=d.FileSystemError.FileNotFound().code,ad=`===================================================================
`,mi=new TextDecoder,tv=new TextEncoder;function nv(e){return e&&"type"in e&&"uri"in e&&"uri"in e&&"fileType"in e&&"revision"in e&&"timestamp"in e}o(nv,"isOperation");function Ms(e,t,n){return{type:e.type,rootUri:t,uri:n!=null?n:e.uri}}o(Ms,"toEvent");const ko=o(class{constructor(e,t,n,r,i,a){this.providerService=e,this.storageService=t,this.fileStorageService=n,this.telemetryService=r,this.workspaceId=i,this._onDidChange=new d.EventEmitter,this.cache=new Map,this.lock=new mn,this.scopedStores=new Map,a===void 0&&(this.disposable=d.Disposable.from(this.providerService.onDidRefresh(()=>this.cache.clear())))}get onDidChange(){return this._onDidChange.event}dispose(){var e;(e=this.disposable)==null||e.dispose()}async exportDebugInfo(e){var t;async function n(r){const i=await d.workspace.openTextDocument({language:"json",content:`ChangeStore Operations for ${r.toString(!0)}

${this.toStorage(await this.getWorkingOperations(r))}`});return void d.window.showTextDocument(i)}if(o(n,"exportCore"),e===void 0)for(const r of(t=d.workspace.workspaceFolders)!=null?t:[])await n.call(this,r.uri);else return n.call(this,e)}async getWorkspacesWithChanges(){var e;const t=new N("ChangeStore.getWorkspacesWithChanges()");try{const n=[];for(const r of(e=d.workspace.workspaceFolders)!=null?e:[])r.uri.scheme===L.scheme&&await this.hasChanges(r.uri)&&n.push(r.uri);return n.length>0?n:void 0}finally{t.stop()}}async acceptAll(e,t){const n=`ChangeStore.acceptAll(${e.toString()}, ${t==null?void 0:t.staged})`;se.log(n);const r=[];await this.lock.synchronizeWrite(R(e),async()=>{const i=await this.getWorkingOperations(e),a=[];let s=[];const l=(t==null?void 0:t.staged)&&!(t.staged==="auto"&&!i.some(c=>c.staged));for(const c of i){if(l&&!c.staged){s.push(c);continue}c.fileType===d.FileType.File&&await this.discardWorkingContent(e,c.uri);let u;if(c.type===U.Created&&c.fileType===d.FileType.Directory&&(i.some(f=>O(f.uri,c.uri))||(u={type:U.Deleted,rootUri:e,uri:c.uri})),r.push(u!=null?u:Ms(c,e)),c.type===U.Created){let f=c.uri;for(;;){const{parent:y}=this.findParent(f,i,m=>m.type===U.Created);if(y){a.push(y),f=y.uri;continue}break}}}s.length>0&&a.length>0&&(s=s.filter(c=>a.includes(c)?(r.push(Ms(c,e)),!1):!0)),await this.saveWorkingOperations(e,s)},n),r.length!==0&&this._onDidChange.fire(r)}async discard(e){const t=this.providerService.getVirtualWorkspaceUri(e);if(t===void 0)return;const n=`ChangeStore.discard(${e.toString()})`;se.log(n);const r=[];await this.lock.synchronizeWrite(R(t),async()=>this.discardCore(t,e,r),n),r.length!==0&&this._onDidChange.fire(r)}async discardCore(e,t,n){se.debug(`ChangeStore.discardCore(${t.toString()})`);let r=await this.getWorkingOperations(e);if(r.length===0)return;const i=T(t),a=r.findIndex(c=>T(c.uri)===i);if(a===-1)return;const[s]=r.splice(a,1);let l;switch(s.type){case U.Created:l=U.Deleted;break;case U.Deleted:l=U.Created;break;default:l=s.type;break}if(n.push({type:l,rootUri:e,uri:t}),s.type===U.Created){let c=s.uri;for(;;){const{parent:u,parentIndex:f}=this.findNewParentWithOnlyChild(c,r);if(u){r.splice(f,1),n.push({type:U.Deleted,rootUri:e,uri:u.uri}),c=u.uri;continue}break}}else if(s.type===U.Deleted){let c=s.uri;const u=this.findDeletedParents(c,r);let f=[...r];u.forEach(({parent:y,parentIndex:m})=>{f[m]=void 0,n.push({type:U.Created,rootUri:e,uri:y.uri})}),r=f.filter(y=>y!==void 0)}await this.saveWorkingOperations(e,r),s.fileType===d.FileType.File&&await this.discardWorkingContent(e,t)}async discardAll(e,t){const n=this.getUriScope(e);if(n)return this.getScopedChangeStore(n).discardAll(e,t);const r=`ChangeStore.discardAll(${e.toString()}, ${t==null?void 0:t.staged})`;se.log(r);const i=[];await this.lock.synchronizeWrite(R(e),async()=>{const a=await this.getWorkingOperations(e),s=[];let l=[];const c=(t==null?void 0:t.staged)&&!(t.staged==="auto"&&!a.some(u=>u.staged));for(const u of a){if(c&&!u.staged){l.push(u);continue}u.fileType===d.FileType.File&&await this.discardWorkingContent(e,u.uri);let f;switch(u.type){case U.Created:f=U.Deleted;break;case U.Deleted:f=U.Created;break;default:f=u.type;break}if(i.push({type:f,rootUri:e,uri:u.uri}),u.type===U.Created){let y=u.uri;for(;;){const{parent:m}=this.findNewParentWithOnlyChild(y,a);if(m){s.push(m),y=m.uri;continue}break}}}l.length>0&&s.length>0&&(l=l.filter(u=>s.includes(u)?(i.push({type:U.Deleted,rootUri:e,uri:u.uri}),!1):!0)),await this.saveWorkingOperations(e,l)},r),i.length!==0&&this._onDidChange.fire(i)}async stage(e){const t=this.providerService.getVirtualWorkspaceUri(e);if(t===void 0)return;const n=`ChangeStore.stage(${e.toString()})`;se.log(n);const r=[];await this.lock.synchronizeWrite(R(t),async()=>{const{operation:i,index:a}=await this.getWorkingOperation(e,t);i!==void 0&&await this.stageCore(t,e,i,r,a)},n),r.length!==0&&this._onDidChange.fire(r)}async stageAll(e){const t=`ChangeStore.stageAll(${e.toString()})`;se.log(t);const n=[];await this.lock.synchronizeWrite(R(e),async()=>{const r=(await this.getWorkingOperations(e)).filter(i=>!i.staged);if(r.length!==0)for(const i of r){const{index:a}=await this.getWorkingOperation(i.uri,e);if(!await this.stageCore(e,i.uri,i,n,a))return}},t),n.length!==0&&this._onDidChange.fire(n)}async stageCore(e,t,n,r,i){if(n.conflicts){if(!n.conflicts.status.includes(U.Deleted)){const s=hr("yes","Yes");if(await d.window.showWarningMessage(hr("stage with merge conflicts","Are you sure you want to stage {0} with merge conflicts?",Z(t)),{modal:!0},s)!==s)return!1}const[,a]=n.conflicts.status;switch(a){case U.Changed:switch(n.type){case U.Created:return!1;case U.Changed:return await this.spliceOperation(t,i,{...n,conflicts:void 0,staged:!0,timestamp:Date.now()},r),!0;case U.Deleted:const s=hr("keep theirs","Keep Their Version"),l=hr("delete","Delete File"),c=await d.window.showInformationMessage(hr("deleted by us",`File '{0}' was deleted by us and modified by them.

What would you like to do?`,Z(t)),{modal:!0},s,l);return c===s?(await this.discardCore(e,t,r),!0):c===l?(await this.spliceOperation(t,i,{...n,type:U.Deleted,size:void 0,hash:void 0,originalHash:void 0,conflicts:void 0,staged:!0,timestamp:Date.now()},r),!0):!1}case U.Created:switch(n.type){case U.Changed:case U.Deleted:return!1;case U.Created:return await this.spliceOperation(t,i,{...n,type:U.Changed,conflicts:void 0,size:n.size,hash:n.hash,originalHash:n.originalHash,staged:!0,timestamp:Date.now()},r),!0}case U.Deleted:switch(n.type){case U.Created:case U.Changed:{const s=hr("keep ours","Keep Our Version"),l=hr("delete","Delete File"),c=await d.window.showInformationMessage(hr("deleted by them",`File '{0}' was deleted by them and modified by us.

What would you like to do?`,Z(t)),{modal:!0},s,l);return c===s?(await this.spliceOperation(t,i,{...n,type:U.Created,originalHash:void 0,conflicts:void 0,staged:!0,timestamp:Date.now()},r),!0):c===l?(await this.discardCore(e,t,r),!0):!1}case U.Deleted:return await this.discardCore(e,t,r),!0}}}return await this.spliceOperation(t,i,{...n,staged:!0,conflicts:void 0,timestamp:Date.now()},r),!0}async unstage(e){const t=this.providerService.getVirtualWorkspaceUri(e);if(t===void 0)return;const n=`ChangeStore.unstage(${e.toString()})`;se.log(n);const r=[];await this.lock.synchronizeWrite(R(t),async()=>{const{operation:i,index:a}=await this.getWorkingOperation(e,t);i!==void 0&&await this.spliceOperation(e,a,{...i,staged:!1,timestamp:Date.now()},r)},n),r.length!==0&&this._onDidChange.fire(r)}async unstageAll(e){const t=`ChangeStore.unstageAll(${e.toString()})`;se.log(t);const n=[];await this.lock.synchronizeWrite(R(e),async()=>{const r=(await this.getWorkingOperations(e)).map(i=>({...i,staged:!1,timestamp:Date.now()}));r.length!==0&&(await this.saveWorkingOperations(e,r),n.push(...r.map(i=>Ms(i,e))))},t),n.length!==0&&this._onDidChange.fire(n)}async hasChanges(e){const t=this.getUriScope(e);if(t)return this.getScopedChangeStore(t).hasChanges(e);const n=R(e),r=this.cache.get(n);return r!==void 0?r.length!==0:this.lock.synchronizeRead(n,async()=>(await this.getWorkingOperations(e)).length!==0,`ChangeStore.hasChanges(${e.toString()})`)}maybeHasChanges(e,t){const n=this.getUriScope(e);if(n)return this.getScopedChangeStore(n).maybeHasChanges(e,t);const r=R(e),i=this.cache.get(r);if(i===void 0)return;if(i.length===0)return!1;if(t===void 0)return!0;const a=T(t);return i.some(s=>T(s.uri)===a)}async hasMergeConflicts(e){return this.lock.synchronizeRead(R(e),async()=>(await this.getWorkingOperations(e)).some(t=>t.conflicts!==void 0),`ChangeStore.hasMergeConflicts(${e.toString()})`)}async hasStagedChanges(e){return this.lock.synchronizeRead(R(e),async()=>(await this.getWorkingOperations(e)).some(t=>t.staged&&t.conflicts===void 0),`ChangeStore.hasStagedChanges(${e.toString()})`)}async hasWorkingChanges(e){return this.lock.synchronizeRead(R(e),async()=>(await this.getWorkingOperations(e)).some(t=>!t.staged&&t.conflicts===void 0),`ChangeStore.hasWorkingChanges(${e.toString()})`)}async getChange(e){const t=this.getUriScope(e);if(t)return this.getScopedChangeStore(t).getChange(e);const n=this.providerService.getVirtualRootUri(e);if(n!==void 0)return this.lock.synchronizeRead(R(n),async()=>{const{operation:r}=await this.getWorkingOperation(e,n);return r},`ChangeStore.getChange(${e.toString()})`)}async getChanges(e,t){const n=this.getUriScope(e);return n?this.getScopedChangeStore(n).getChanges(e,t):this.lock.synchronizeRead(R(e),async()=>{let r=await this.getWorkingOperations(e);if((t==null?void 0:t.excludeConflicts)||(t==null?void 0:t.predicate)){const{excludeConflicts:i,predicate:a}=t;r=r.filter(s=>{var l;return(!i||s.conflicts===void 0)&&((l=a==null?void 0:a(s))!=null?l:!0)})}return r},`ChangeStore.getChanges(${e.toString()})`)}async getGroupedChanges(e,t){const n=this.getUriScope(e);return n?this.getScopedChangeStore(n).getGroupedChanges(e,t):this.lock.synchronizeRead(R(e),async()=>{var r,i;const a=await this.getWorkingOperations(e),s={conflicts:[],staged:[],working:[]};for(const l of a)!((i=(r=t==null?void 0:t.predicate)==null?void 0:r.call(t,l))!=null?i:!0)||(l.conflicts?s.conflicts.push(l):l.staged?s.staged.push(l):s.working.push(l));return s},`ChangeStore.getChangesByType(${e.toString()})`)}async getContent(e){const t=this.providerService.getVirtualRootUri(e);if(t===void 0)throw new Error(`Unable to find content for ${e.toString()}; Repository not found`);const n=R(t),r=this.cache.get(n);if((r==null?void 0:r.length)===0)throw new Error(`Unable to find content for ${e.toString()}`);return this.lock.synchronizeRead(n,async()=>{const i=mi.decode(await this.getWorkingContent(t,e));if(i!==void 0)return i;throw new Error(`Unable to find content for ${e.toString()}`)},`ChangeStore.getContent(${e.toString()}}`)}async getMergeConflicts(e,t){return this.lock.synchronizeRead(R(e),async()=>(await this.getWorkingOperations(e)).filter(r=>{var i,a;return r.conflicts!==void 0&&((a=(i=t==null?void 0:t.predicate)==null?void 0:i.call(t,r))!=null?a:!0)}),`ChangeStore.getMergeConflicts(${e.toString()})`)}async getStagedChanges(e,t){return this.lock.synchronizeRead(R(e),async()=>(await this.getWorkingOperations(e)).filter(r=>{var i,a;return r.staged&&r.conflicts===void 0&&((a=(i=t==null?void 0:t.predicate)==null?void 0:i.call(t,r))!=null?a:!0)}),`ChangeStore.getStagedChanges(${e.toString()})`)}async getWorkingChanges(e,t){return this.lock.synchronizeRead(R(e),async()=>(await this.getWorkingOperations(e)).filter(r=>{var i,a;return!r.staged&&r.conflicts===void 0&&((a=(i=t==null?void 0:t.predicate)==null?void 0:i.call(t,r))!=null?a:!0)}),`ChangeStore.getWorkingChanges(${e.toString()})`)}async applyChangeset(e,t,n,r){var i;let a;nv(n)?a=n:r=r!=null?r:n,se.log(`ChangeStore.applyChangeset${e.toString()}`,t.workspaceId,t.uri,a==null?void 0:a.uri,r==null?void 0:r.save);const s=this.getScopedChangeStore(t.workspaceId),l=(i=t.patch)!=null?i:await s.createPatch(t.uri,a==null?void 0:a.uri);await this.applyPatchCore(e,l,{...r,getIncomingContent:async c=>{const u=this.getScopedUri(this.providerService.createRelativeVirtualUri(t.uri,c),t.workspaceId);return mi.decode(await d.workspace.fs.readFile(u))},merge:async(c,u,f)=>{try{const y=L.getProviderUri(c),m=mi.decode(await d.workspace.fs.readFile(y)),C=this.getScopedUri(this.providerService.createRelativeVirtualUri(t.uri,u),t.workspaceId),j=mi.decode(await d.workspace.fs.readFile(C)),Q=await this.providerService.getMetadata(C);return{...Qe(f,m,j,Q.HEAD.sha),baseUri:y,incomingUri:C}}catch(y){throw new Error(`Unable to apply patch to ${u}: ${String(y)}`)}}})}async applyPatch(e,t,n){if(se.log(`ChangeStore.applyPatch(${e.toString()})`,n==null?void 0:n.save),!t.startsWith("diff --"))throw new Error("Invalid patch");return this.applyPatchCore(e,t,n)}async applyPatchCore(e,t,n={}){const r=`ChangeStore.applyPatchCore(${e.toString()})`;se.debug(r,n==null?void 0:n.save);const i=new d.WorkspaceEdit,a=[],s=new Map;async function l(m){var C;const j=R(m),Q=d.workspace.textDocuments.find(z=>R(z.uri)===j);return(C=Q==null?void 0:Q.getText())!=null?C:mi.decode(await d.workspace.fs.readFile(m))}o(l,"getContent");async function c(m){try{const C=await d.workspace.fs.stat(m);return Boolean(C)}catch{return!1}}o(c,"exists");async function u(m,C,j){let Q=Pi("",j,{fuzzFactor:0});if(Q===!1){if(!n.getIncomingContent)throw new Error(`Unable to apply patch to ${C}`);Q=await n.getIncomingContent(C)}i.createFile(m,{overwrite:!0}),i.replace(m,new d.Range(0,0,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),Q)}o(u,"applyCreate");async function f(m,C,j,Q){const z=await l(m);let G=Pi(z,j,{fuzzFactor:1});if(G===!1){if(n.merge===void 0)throw new Error(`Unable to apply patch to ${C}; Resulted in conflicts`);const re={title:hr("apply patch failed prompt confirm","Merge")},fe={title:hr("apply patch failed prompt cancel","Skip File"),isCloseAffordance:!0};if(await d.window.showWarningMessage(hr("apply patch failed prompt",`Unable to apply changes to '{0}'.

Do you want to retry by merging the files?`,C),{modal:!0},re,fe)!==re)return;const be=await n.merge(m,C,z);G=be.mergedContent,be.conflicts&&s.set(R(m),{type:Q,baseUri:be.baseUri,incomingUri:be.incomingUri})}i.replace(m,new d.Range(0,0,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),G)}o(f,"applyModification");const y=(n==null?void 0:n.reverse)?we(t,{}):ct(t,{});for(const m of y)if(m.oldFileName==="/dev/null"){if(!m.newFileName)continue;const C=m.newFileName.startsWith("b/")?m.newFileName.substr(2):m.newFileName,j=this.providerService.createRelativeVirtualUri(e,C);a.push(R(j)),!await c(j)?await u(j,C,m):await f(j,C,m,U.Created)}else if(m.newFileName==="/dev/null"){if(!m.oldFileName)continue;const C=m.oldFileName.startsWith("a/")?m.oldFileName.substr(2):m.oldFileName,j=this.providerService.createRelativeVirtualUri(e,C);await c(j)&&i.deleteFile(j)}else if(m.oldFileName===m.newFileName){if(!m.newFileName)continue;const C=this.providerService.createRelativeVirtualUri(e,m.newFileName);a.push(R(C)),!await c(C)?await u(C,m.newFileName,m):await f(C,m.newFileName,m,U.Changed)}else throw new Error(`Unable to apply patch to ${m.oldFileName}; Renames aren't currently supported`);if(await d.workspace.applyEdit(i),n.save&&a.length)for(const m of a){const C=d.workspace.textDocuments.find(j=>R(j.uri)===m);await(C==null?void 0:C.save())}s.size&&setTimeout(async()=>{const m=[];await this.lock.synchronizeWrite(R(e),async()=>{const C=await this.getWorkingOperations(e);if(C.length===0)return;let j=-1;for(const Q of C){j++;const z=s.get(R(Q.uri));z!==void 0&&await this.spliceOperation(Q.uri,j,{...Q,conflicts:{baseUri:z.baseUri,incomingUri:z.incomingUri,status:[Q.type,z.type]},timestamp:Date.now()},m)}},r),m.length!==0&&this._onDidChange.fire(m)},0)}async createChangeset(e){se.log(`ChangeStore.createChangeset${e.toString()})`);const t=await this.createPatch(e);return t?{workspaceId:this.workspaceId,uri:e,patch:t}:void 0}async createPatch(e,t,n){if(se.log(`ChangeStore.createPatch${e.toString()})`,t),t===void 0){let a=await this.getWorkingOperations(e);if((n==null?void 0:n.staged)&&(a=a.filter(l=>l.staged)),a.length===0)return"";const s=[];for(const l of a){const c=await this.createPatchCore(e,l);s.push(c)}return s.join("")}const{operation:r}=await this.getWorkingOperation(t,e);if(r===void 0)throw new Error(`Unable to create patch for ${t.toString()}`);return(n==null?void 0:n.staged)&&r.staged?"":await this.createPatchCore(e,r)}async createPatchCore(e,t){const n=this.providerService.getRelativeFilePath(e,t.uri),r=`diff --git a/${n} b/${n}`;if(t.type===U.Created){let c=await this.getContent(t.uri);return dr(n,"",c,"add")}if(t.type===U.Deleted){let c=mi.decode(await d.workspace.fs.readFile(L.getProviderUri(t.uri)));return dr(n,c,"","delete")}const i=await this.getContent(t.uri),a=mi.decode(await d.workspace.fs.readFile(L.getProviderUri(t.uri))),s=Xr(n,a,i),l=s.indexOf(ad);return`${r}
${s.substr(l+ad.length)}`}async keep(e,t){const n=this.providerService.getVirtualWorkspaceUri(e);if(n===void 0)return;const r=`ChangeStore.keep(${e.toString()})`;se.log(r,t);const i=[];await this.lock.synchronizeWrite(R(n),async()=>{const{operation:a,index:s}=await this.getWorkingOperation(e,n);if(a===void 0)return;if(t===void 0&&a.conflicts){const[,c]=a.conflicts.status;switch(c){case U.Changed:switch(a.type){case U.Changed:case U.Created:case U.Deleted:await this.spliceOperation(e,s,{...a,conflicts:void 0,timestamp:Date.now()},i);break}break;case U.Created:switch(a.type){case U.Changed:case U.Deleted:await this.spliceOperation(e,s,{...a,conflicts:void 0,timestamp:Date.now()},i);break;case U.Created:await this.spliceOperation(e,s,{...a,type:U.Changed,size:a.size,hash:a.hash,originalHash:a.originalHash,conflicts:void 0,timestamp:Date.now()},i);break}break;case U.Deleted:switch(a.type){case U.Deleted:await this.discardCore(n,e,i);break;case U.Changed:await this.spliceOperation(e,s,{...a,type:U.Created,originalHash:void 0,conflicts:void 0,timestamp:Date.now()},i);break;case U.Created:await this.spliceOperation(e,s,{...a,conflicts:void 0,timestamp:Date.now()},i);break}break}return}if(t===void 0)return;switch(t.type){case U.Changed:switch(a.type){case U.Deleted:await this.spliceOperation(e,s,{...a,type:U.Deleted,size:void 0,hash:void 0,originalHash:void 0,conflicts:void 0,timestamp:Date.now()},i);return;case U.Created:break;case U.Changed:break}break;case U.Created:switch(a.type){case U.Changed:case U.Deleted:return;case U.Created:break}break;case U.Deleted:switch(a.type){case U.Deleted:return this.discardCore(n,e,i);case U.Changed:await this.spliceOperation(e,s,{...a,type:U.Created,originalHash:void 0,conflicts:void 0,timestamp:Date.now()},i);return;case U.Created:return}}const l=t!==void 0?await d.workspace.fs.readFile(t.providerUri):void 0;await this.spliceOperation(e,s,{...a,type:U.Changed,originalHash:l!==void 0?await jn(l):a.originalHash,conflicts:void 0,timestamp:Date.now()},i)},r),i.length!==0&&this._onDidChange.fire(i)}async merge(e,t,n){const r=this.providerService.getVirtualWorkspaceUri(e);if(r===void 0)return;const i=`ChangeStore.merge(${e.toString()})`;se.log(i,t,n);const a=[];await this.lock.synchronizeWrite(R(r),async()=>{const{operation:s,index:l}=await this.getWorkingOperation(e,r);if(s===void 0)return;switch(t.type){case U.Changed:switch(s.type){case U.Deleted:await this.spliceOperation(e,l,{...s,type:U.Deleted,size:void 0,hash:void 0,originalHash:void 0,conflicts:{baseUri:n.providerUri,incomingUri:t.providerUri,status:[s.type,t.type]},timestamp:Date.now()},a);return;case U.Created:break;case U.Changed:break}break;case U.Created:switch(s.type){case U.Deleted:case U.Changed:return;case U.Created:break}break;case U.Deleted:switch(s.type){case U.Deleted:return this.discardCore(r,e,a);case U.Changed:await this.spliceOperation(e,l,{...s,type:U.Created,originalHash:void 0,conflicts:{baseUri:void 0,incomingUri:t.providerUri,status:[s.type,t.type]},timestamp:Date.now()},a);return;case U.Created:return}}const c=await this.providerService.getMetadata(t.providerUri),u=await this.getWorkingContent(r,e),f=s.type===U.Created?new Uint8Array(0):await d.workspace.fs.readFile(n.providerUri),y=await d.workspace.fs.readFile(t.providerUri),m=Qe(mi.decode(u),mi.decode(f),mi.decode(y),c.HEAD.sha);await this.writeFileCore(r,e,a,tv.encode(m.mergedContent),y!=null?y:new Uint8Array(0),m.conflicts?{baseUri:n.providerUri,incomingUri:t.providerUri,status:[s.type,t.type]}:void 0)},i),a.length!==0&&this._onDidChange.fire(a)}async resolveDiffCommand(e,t,n,r){let i;const a=this.providerService.getVirtualRootUri(e);return a!==void 0&&({operation:i}=await this.getWorkingOperation(e,a)),(i==null?void 0:i.type)===U.Deleted?this.resolveOpenCommand(t):((i==null?void 0:i.type)===U.Created&&(t=t.with({query:"~"})),{command:"vscode.diff",title:"Open Changes",arguments:[t,e,n,r]})}resolveOpenCommand(e,t){return{command:"vscode.open",title:"Open File",arguments:[e,t]}}getScopedUri(e,t){const n=typeof t=="string"?t:t.workspaceId;return n===this.workspaceId?e:e.with({fragment:n})}getUriScope(e){return e.fragment||void 0}getScopedChangeStore(e){const t=typeof e=="string"?e:e.workspaceId;se.log(`ChangeStore.getScopedChangeStore(${t})`);let n=this.scopedStores.get(t);return n===void 0&&(n=t===this.workspaceId?new ko.ScopedChangeStore(this,t,this.workspaceId):new ko.ScopedChangeStore(new ko(this.providerService,this.storageService.with(t),this.fileStorageService.with(t),this.telemetryService,this.workspaceId,t),t,this.workspaceId),this.scopedStores.set(t,n)),n}async stat(e){const t=this.getUriScope(e);if(t)return this.getScopedChangeStore(t).stat(e);const n=this.providerService.getVirtualRootUri(e);if(n===void 0)return;const r=R(n),i=this.cache.get(r);if((i==null?void 0:i.length)!==0)return this.lock.synchronizeRead(r,async()=>{var a;const{operation:s}=await this.getWorkingOperation(e,n);if(s!==void 0){if(s.type===U.Deleted)throw d.FileSystemError.FileNotFound(`The ${s.fileType===d.FileType.Directory?"folder":"file"} has been deleted.`);return{type:s.fileType,size:(a=s.size)!=null?a:0,ctime:0,mtime:s.timestamp}}},`ChangeStore.stat(${e.toString()}`)}async readFile(e){const t=this.getUriScope(e);if(t)return this.getScopedChangeStore(t).readFile(e);const n=new N(`ChangeStore.readFile(${e.toString()})`);try{const r=this.providerService.getVirtualRootUri(e);if(r===void 0)return;const i=R(r),a=this.cache.get(i);return(a==null?void 0:a.length)===0?void 0:await this.lock.synchronizeRead(i,()=>{const s=this.cache.get(i);if((s==null?void 0:s.length)===0){n.log({message:": Not found; no operations"});return}return this.getWorkingContent(r,e)},n.context)}finally{n.stop()}}async createDirectory(e){const t=this.providerService.getVirtualWorkspaceUri(e);if(t===void 0)return;const n=new N(`ChangeStore.createDirectory(${e.toString()})`);try{const r=[];if(await this.lock.synchronizeWrite(R(t),async()=>{const{operation:i,index:a}=await this.getWorkingOperation(e,t),s=await this.providerService.getMetadata(e);await this.spliceOperation(e,a,i===void 0?{type:U.Created,uri:e,fileType:d.FileType.Directory,revision:s.HEAD.sha,timestamp:Date.now(),size:0,hash:"",originalHash:void 0}:{...i,timestamp:Date.now()},r)},n.context),r.length===0)return;this._onDidChange.fire(r)}finally{n.stop()}}async deleteDirectory(e){const t=this.providerService.getVirtualWorkspaceUri(e);if(t===void 0)return;const n=new N(`ChangeStore.deleteDirectory(${e.toString()})`);try{const r=[];if(await this.lock.synchronizeWrite(R(t),async()=>{const{operation:i,index:a}=await this.getWorkingOperation(e,t);if((i==null?void 0:i.type)===U.Created)return this.discardCore(t,e,r);const s=await this.providerService.getMetadata(e);await this.spliceOperation(e,a,{type:U.Deleted,uri:e,fileType:d.FileType.Directory,revision:s.HEAD.sha,timestamp:Date.now(),size:void 0,hash:void 0,originalHash:void 0},r)},n.context),r.length===0)return;this._onDidChange.fire(r)}finally{n.stop()}}async updateDirectoryEntries(e,t){const n=this.providerService.getVirtualWorkspaceUri(e);if(n===void 0)return t;const r=new N(`ChangeStore.updateDirectoryEntries(${e.toString()})`,{},t.length);try{const i=R(n),a=this.cache.get(i);return(a==null?void 0:a.length)===0?t:await this.lock.synchronizeRead(i,async()=>{const{path:s}=$(n,e),l=await this.getWorkingOperations(n);for(const c of l)switch(c.type){case U.Changed:break;case U.Created:{if(O(c.uri,s)){const u=this.providerService.getRelativeFilePath(e,c.uri);t.push([u,c.fileType])}break}case U.Deleted:{if(O(c.uri,s)){const u=this.providerService.getRelativeFilePath(e,c.uri),f=t.findIndex(([y])=>y===u);f!==-1&&t.splice(f,1)}break}}return t},r.context)}finally{r.stop()}}async writeFile(e,t,n,r){const i=this.providerService.getVirtualWorkspaceUri(e);if(i===void 0)return;const a=new N(`ChangeStore.writeFile(${e.toString()})`,{},t.length,r);try{const s=[];if(await this.lock.synchronizeWrite(R(i),async()=>this.writeFileCore(i,e,s,t,n,r),a.context),s.length===0)return;this._onDidChange.fire(s)}finally{a.stop()}}async writeFileCore(e,t,n,r,i,a){const s=new N(`ChangeStore.writeFileCore(${t.toString()})`,{},r.length,a);try{const[{operation:l,index:c},u,f]=await Promise.all([this.getWorkingOperation(t,e),jn(r),jn(i)]);if(u===f&&(!l||(l==null?void 0:l.type)===U.Changed))return this.discardCore(e,t,n);if(u===(l==null?void 0:l.hash)&&f===(l==null?void 0:l.originalHash))return;const[{HEAD:y}]=await Promise.all([this.providerService.getMetadata(t),this.saveWorkingContent(e,t,r)]);await this.spliceOperation(t,c,l===void 0?{type:U.Changed,uri:t,fileType:d.FileType.File,revision:y.sha,timestamp:Date.now(),size:r.byteLength,hash:u,originalHash:f,conflicts:a,staged:!1}:{...l,revision:y.sha,timestamp:Date.now(),size:r.byteLength,hash:u,originalHash:f,conflicts:a,staged:!1},n)}finally{s.stop()}}async createFile(e,t){const n=this.providerService.getVirtualWorkspaceUri(e);if(n===void 0)return;const r=new N(`ChangeStore.createFile(${e.toString()})`,{},t.length);try{const i=[];if(await this.lock.synchronizeWrite(R(n),async()=>{const[{operation:a,index:s},l,c]=await Promise.all([this.getWorkingOperation(e,n),jn(t),this.providerService.getMetadata(e),this.saveWorkingContent(n,e,t)]);await this.spliceOperation(e,s,a===void 0?{type:U.Created,uri:e,fileType:d.FileType.File,revision:c.HEAD.sha,timestamp:Date.now(),size:t.byteLength,hash:l,originalHash:l}:{...a,type:U.Created,revision:c.HEAD.sha,timestamp:Date.now(),size:t.byteLength,hash:l},i)},r.context),i.length===0)return;this._onDidChange.fire(i)}finally{r.stop()}}async deleteFile(e){const t=this.providerService.getVirtualWorkspaceUri(e);if(t===void 0)return;const n=new N(`ChangeStore.deleteFile(${e.toString()})`);try{const r=[];if(await this.lock.synchronizeWrite(R(t),async()=>{const{operation:i,index:a}=await this.getWorkingOperation(e,t);if((i==null?void 0:i.type)===U.Created)return this.discardCore(t,e,r);const[s]=await Promise.all([this.providerService.getMetadata(e),this.discardWorkingContent(t,e)]);await this.spliceOperation(e,a,{type:U.Deleted,uri:e,fileType:d.FileType.File,revision:s.HEAD.sha,timestamp:Date.now(),size:void 0,hash:void 0,originalHash:void 0},r)},n.context),r.length===0)return;this._onDidChange.fire(r)}finally{n.stop()}}findParent(e,t,n){const r=M(e),{operation:i,index:a}=this.findWorkingOperation(r,t);return i!==void 0&&n(i,t)?{parent:i,parentIndex:a}:{parent:void 0,parentIndex:-1}}findNewParentWithOnlyChild(e,t){const n=T(e);return this.findParent(e,t,(r,i)=>r.type===U.Created&&!i.some(a=>O(a.uri,r.uri)&&T(a.uri)!==n))}findDeletedParents(e,t){const n=[];for(let r=0;r<t.length;r+=1){const i=t[r];i.type===U.Deleted&&D(e,i.uri)&&n.push({parent:i,parentIndex:r})}return n}async getWorkingOperation(e,t){return this.findWorkingOperation(e,await this.getWorkingOperations(t))}findWorkingOperation(e,t){if(t.length===0)return{operation:void 0,index:-1};const n=T(e);let r=-1;const i=t.find((a,s)=>T(a.uri)!==n?!1:(r=s,!0));return i===void 0?{operation:void 0,index:-1}:{operation:i,index:r}}async getWorkingOperations(e){const t=R(e);let n=this.cache.get(t);return n===void 0&&(n=this.fromStorage(await this.storageService.get(this.getOperationsStorageKey(t))),this.cache.set(t,n)),n}async saveWorkingOperations(e,t){se.debug(`ChangeStore.saveWorkingOperations(${e.toString()})`,t.length);const n=R(e);this.cache.set(n,t);try{await this.storageService.store(this.getOperationsStorageKey(n),this.toStorage(t))}catch(r){throw this.cache.delete(n),se.error(r,`Failed to save repository changes for ${n}`),r}}getOperationsStorageKey(e){return`operations/${e}`}async getWorkingContent(e,t){try{return await this.fileStorageService.get(this.getFileStorageKey(e,t))}catch(n){throw se.error(n),this.telemetryService.sendException(n),n}}async discardWorkingContent(e,t){se.debug(`ChangeStore.discardWorkingContent(${t.toString()})`);try{return await this.fileStorageService.delete(this.getFileStorageKey(e,t))}catch(n){if(n instanceof d.FileSystemError&&n.code===ev)return;throw se.error(n),this.telemetryService.sendException(n),n}}async saveWorkingContent(e,t,n){se.debug(`ChangeStore.saveWorkingContent(${t.toString()})`,n.length);try{return await this.fileStorageService.store(this.getFileStorageKey(e,t),n)}catch(r){throw se.error(r),this.telemetryService.sendException(r),r}}getFileStorageKey(e,t){return`changestore/${B(t)}`}async spliceOperation(e,t,n,r){const i=this.providerService.getVirtualWorkspaceUri(e);if(i===void 0)return;const a=await this.getWorkingOperations(i);t!==-1?a.splice(t,1,n):a.push(n),await this.saveWorkingOperations(i,a),r.push(Ms(n,i,e))}fromStorage(e){if(!e)return[];try{const t=JSON.parse(e,(n,r)=>(n==="uri"||n.endsWith("Uri"))&&P(r)?typeof r=="string"?d.Uri.parse(r):d.Uri.from(r):r);return Array.isArray(t)?t:t.operations}catch(t){throw se.error(t,"Failed to deserialize ChangeStore operations"),t}}toStorage(e){const t={schemaVersion:ko.operationsStorageSchemaVersion,operations:e};return JSON.stringify(t)}},"_ChangeStore");let Ls=ko;Ls.operationsStorageSchemaVersion=1,Ls.ScopedChangeStore=class{constructor(e,t,n){this.changeStore=e,this.scope=t,this.workspaceId=n}createPatch(e,t,n){return this.changeStore.createPatch(this.stripUriScope(e),this.stripUriScope(t),n)}discardAll(e,t){return this.changeStore.discardAll(this.stripUriScope(e),t)}getChange(e){return this.changeStore.getChange(this.stripUriScope(e))}getChanges(e,t){return this.changeStore.getChanges(this.stripUriScope(e),t)}async getGroupedChanges(e,t){return this.changeStore.getGroupedChanges(this.stripUriScope(e),t)}hasChanges(e){return this.changeStore.hasChanges(this.stripUriScope(e))}maybeHasChanges(e,t){return this.changeStore.maybeHasChanges(this.stripUriScope(e),this.stripUriScope(t))}async stat(e){const n=this.changeStore.getUriScope(e)!==this.workspaceId,r=await this.changeStore.stat(this.stripUriScope(e));return r!==void 0&&n&&(r.permissions=d.FilePermission.Readonly),r}readFile(e){return this.changeStore.readFile(this.stripUriScope(e))}resolveDiffCommand(e,t,n,r){return this.changeStore.resolveDiffCommand(this.changeStore.getScopedUri(e,this.scope),this.changeStore.getScopedUri(t,this.scope),n,r)}stripUriScope(e){return e===void 0||!e.fragment?e:e.with({fragment:""})}},Y0([Xt()],Ls.prototype,"getWorkingOperations",1);function Db(e){switch(e){case OperationType.Changed:return hr("change type changed","Modified");case OperationType.Created:return hr("change type created","Added");case OperationType.Deleted:return hr("change type deleted","Deleted")}}o(Db,"getStatusText");function Fb(e){const[t,n]=e;switch(t){case OperationType.Changed:switch(n){case OperationType.Changed:case OperationType.Created:return hr("conflict status changed both","Modified by Both");case OperationType.Deleted:return hr("conflict status deleted them","Deleted by Incoming")}case OperationType.Created:switch(n){case OperationType.Changed:case OperationType.Created:return hr("conflict status created both","Added by Both");case OperationType.Deleted:return hr("conflict status deleted them","Deleted by Incoming")}case OperationType.Deleted:switch(n){case OperationType.Changed:case OperationType.Created:return hr("conflict status deleted us","Deleted by Current");case OperationType.Deleted:return hr("conflict status deleted both","Deleted by Both")}}}o(Fb,"getConflictStatusText");const fu=o(class{constructor(e){this.storageService=e,this._onDidChange=new d.EventEmitter,this.cache=new Map}get onDidChange(){return this._onDidChange.event}async delete(e){const t=R(e),n=this.cache.has(t);this.cache.delete(t);try{await this.storageService.delete(this.getStorageKey(t))}catch(r){throw se.error(r,`Failed to delete repository metadata for ${t}`),r}!n||setTimeout(()=>this._onDidChange.fire({uri:e}),0)}async get(e){this.assertMatchingScheme(e);const t=R(e),n=this.cache.get(t);if(n!==void 0)return n;let r;try{r=this.fromStorage(await this.storageService.get(this.getStorageKey(t)))}catch(i){throw se.error(i,`Failed to get repository metadata for ${t}`),i}return r?this.cache.set(t,{revision:r}):this.cache.delete(t),{revision:r}}async set(e,t,n,r){this.assertMatchingScheme(e);const i=(await this.get(e)).revision!==t?"revision":void 0,a=R(e);if(n!==void 0&&!this.validate(n))throw new Error(`Metadata validation failed for ${e.toString()}`);const s={revision:t,cachedMetadata:n};this.cache.set(a,s);try{await this.storageService.store(this.getStorageKey(a),this.toStorage(t))}catch(l){throw this.cache.delete(a),se.error(l,`Failed to save repository metadata for ${a}`),l}(r==null?void 0:r.silent)||setTimeout(()=>this._onDidChange.fire({uri:e,reason:i}),0)}refresh(){this.cache.clear()}validate(e){var t,n,r,i,a,s,l,c;return typeof e.version=="number"&&e.version>=fu.schemaVersion&&typeof e.timestamp=="number"&&typeof((t=e.provider)==null?void 0:t.id)=="string"&&typeof e.provider.name=="string"&&typeof e.name=="string"&&e.repo&&typeof e.accessLevel=="number"&&typeof((n=e.HEAD)==null?void 0:n.type)=="number"&&typeof((r=e.HEAD)==null?void 0:r.name)=="string"&&typeof((i=e.HEAD)==null?void 0:i.sha)=="string"&&(typeof((a=e.HEAD.detached)==null?void 0:a.name)=="string"&&typeof((s=e.HEAD.detached)==null?void 0:s.type)=="number"||typeof((l=e.HEAD.branch)==null?void 0:l.name)=="string")&&typeof((c=e.defaultBranch)==null?void 0:c.name)=="string"&&typeof e.defaultBranch.sha=="string"}assertMatchingScheme(e){if(e.scheme!==L.scheme)throw new Error(`Uri scheme '${e.scheme}' must match configured scheme '${L.scheme}'; uri=${e.toString()}`)}getStorageKey(e){return`metadata/${e}`}fromStorage(e){if(!e)return;const t=JSON.parse(e,(n,r)=>(n==="uri"||n.endsWith("Uri"))&&P(r)?d.Uri.from(r):r);return t==null?void 0:t.revision}toStorage(e){const t={schemaVersion:fu.storageSchemaVersion,revision:e};return JSON.stringify(t)}},"_MetadataStore");let Ns=fu;Ns.schemaVersion=Re,Ns.storageSchemaVersion=1;class Bs{constructor(t,n){this.memento=t,this.scope=n,this._onDidChange=new d.EventEmitter}get onDidChange(){return this._onDidChange.event}async get(t){const n=this.getScoped(t),r=new N(`MementoStorage.get(${t}): scopedKey=${n}`,{logLevel:Ut.Debug});try{return await Promise.resolve(this.memento.get(n))}finally{r.stop()}}async getKeys(t){const n=this.getScoped(t),r=new N(`MementoStorage.getKeys(${t}): scopedPrefix=${n}`,{logLevel:Ut.Debug});try{let i=this.getKeysCore(t);if(this.scope!==void 0){const a=this.scope.length+1;i=i.map(s=>s.substr(a))}return await Promise.resolve(i)}finally{r.stop()}}getKeysCore(t){let n=this.memento.keys();return t&&(n=n.filter(r=>r.startsWith(t))),n}async store(t,n){const r=this.getScoped(t),i=new N(`MementoStorage.store(${t}): scopedKey=${r}`,{logLevel:Ut.Debug});try{return await this.storeCore(t,r,n)}finally{i.stop()}}async storeCore(t,n,r){await this.memento.update(n,r),this._onDidChange.fire({key:t})}async delete(t){const n=this.getScoped(t),r=new N(`MementoStorage.delete(${t}): scopedKey=${n}`,{logLevel:Ut.Debug});try{return await this.storeCore(t,n,void 0)}finally{r.stop()}}async deleteKeys(t){const n=this.getScoped(t),r=new N(`MementoStorage.deleteKeys(${t}): scopedPrefix=${n}`,{logLevel:Ut.Debug});try{const i=[],a=this.scope!==void 0?this.scope.length+1:0,s=this.getKeysCore(n);for(const l of s){const c=a!==0?l.substr(a):l;se.debug(`MementoStorage.deleteKeys(${t}): Deleting key=${c}, scopedKey=${l}`);try{await this.storeCore(c,l,void 0)}catch(u){se.debug(`MementoStorage.deleteKeys(${t}): Failed to delete key=${c}, scopedKey=${l}`),i.push(c)}}if(i.length)throw new Error(`Failed to delete keys: ${i.join(", ")}`)}finally{r.stop()}}with(t){return new Bs(this.memento,t)}getScoped(t){return`${this.scope!==void 0?`${this.scope}/`:""}${t!=null?t:""}`}}o(Bs,"MementoStorageService");class Us{constructor(t,n){this.storageUri=t,this.scope=n,this._onDidChange=new d.EventEmitter}get onDidChange(){return this._onDidChange.event}async get(t){const n=this.getScoped(t),r=new N(`ExtFileStorageService.get(${t}): scopedKey=${n}`,{logLevel:Ut.Debug});try{return await d.workspace.fs.readFile(d.Uri.joinPath(this.storageUri,n))}catch(i){return}finally{r.stop()}}async store(t,n){const r=this.getScoped(t),i=new N(`ExtFileStorageService.store(${t}): scopedKey=${r}`,{logLevel:Ut.Debug});try{return await this.storeCore(t,r,n)}finally{i.stop()}}async storeCore(t,n,r){await d.workspace.fs.writeFile(d.Uri.joinPath(this.storageUri,n),r),this._onDidChange.fire({key:t})}async delete(t){const n=this.getScoped(t),r=new N(`ExtFileStorageService.delete(${t}): scopedKey=${n}`,{logLevel:Ut.Debug});try{return await d.workspace.fs.delete(d.Uri.joinPath(this.storageUri,n))}finally{r.stop()}}with(t){return new Us(this.storageUri,t)}getScoped(t){return`${this.scope!==void 0?`${this.scope}/`:""}${t}`}}o(Us,"ExtFileStorageService");var od=Object.defineProperty,sd=Object.getOwnPropertySymbols,rv=Object.prototype.hasOwnProperty,iv=Object.prototype.propertyIsEnumerable,ld=o((e,t,n)=>t in e?od(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,"ho"),yi=o((e,t)=>{for(var n in t||(t={}))rv.call(t,n)&&ld(e,n,t[n]);if(sd)for(var n of sd(t))iv.call(t,n)&&ld(e,n,t[n]);return e},"at"),it=o((e,t)=>()=>(e&&(t=e(e=0)),t),"I"),av=o((e,t)=>{for(var n in t)od(e,n,{get:t[n],enumerable:!0})},"Ec"),Za=o((e,t,n)=>new Promise((r,i)=>{var a=o(c=>{try{l(n.next(c))}catch(u){i(u)}},"a"),s=o(c=>{try{l(n.throw(c))}catch(u){i(u)}},"o"),l=o(c=>c.done?r(c.value):Promise.resolve(c.value).then(a,s),"u");l((n=n.apply(e,t)).next())}),"At"),ud,ov=it(()=>{ud={Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}}),Qa,wi,Mi,Kr,$s,Li,Hs,zs,cd,fd,Po,du=it(()=>{Qa="function",wi="object",Mi="undefined",Kr="prototype",$s="hasOwnProperty",Li=Object,Hs=Li[Kr],zs=Li.assign,cd=Li.create,fd=Li.defineProperty,Po=Hs[$s]});function Xa(){return typeof globalThis!==Mi&&globalThis?globalThis:typeof self!==Mi&&self?self:typeof window!==Mi&&window?window:typeof __webpack_require__.g!==Mi&&__webpack_require__.g?__webpack_require__.g:null}o(Xa,"ot");function hu(e){throw new TypeError(e)}o(hu,"Tr");function Ws(e){var t=cd;if(t)return t(e);if(e==null)return{};var n=typeof e;n!==wi&&n!==Qa&&hu("Object prototype may only be an Object:"+e);function r(){}return o(r,"n"),r[Kr]=e,new r}o(Ws,"Dt");var dd=it(()=>{du()});function zn(e,t){typeof t!==Qa&&t!==null&&hu("Class extends value "+String(t)+" is not a constructor or null"),js(e,t);function n(){this.constructor=e}o(n,"r"),e[Kr]=t===null?Ws(t):(n[Kr]=t[Kr],new n)}o(zn,"B");var sv,lv,hd,Ja,js,uv=it(()=>{du(),dd(),sv=(Xa()||{}).Symbol,lv=(Xa()||{}).Reflect,hd=o(function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Hs[$s].call(t,i)&&(e[i]=t[i])}return e},"bc"),Ja=zs||hd,js=o(function(e,t){return js=Li.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r[$s](i)&&(n[i]=r[i])},js(e,t)},"ki")}),cv=it(()=>{}),Vn=it(()=>{du(),dd(),uv(),cv()});function Ni(e,t){return e&&Bo[_i].hasOwnProperty.call(e,t)}o(Ni,"kt");function gd(e){return e&&(e===Bo[_i]||e===Array[_i])}o(gd,"No");function gu(e){return gd(e)||e===Function[_i]}o(gu,"Ui");function Ea(e){var t;if(e){if(eo)return eo(e);var n=e[_u]||e[_i]||(e[Oo]?e[Oo][_i]:null);t=e[No]||n,Ni(e,No)||(delete e[Zs],t=e[No]=e[Zs]||e[No],e[Zs]=n)}return t}o(Ea,"ir");function Ks(e,t){var n=[];if(bu)n=bu(e);else for(var r in e)typeof r=="string"&&Ni(e,r)&&n.push(r);if(n&&n.length>0)for(var i=0;i<n.length;i++)t(n[i])}o(Ks,"jn");function pu(e,t,n){return t!==Oo&&typeof e[t]===Mo&&(n||Ni(e,t))}o(pu,"Oi");function qs(e){throw new TypeError("DynamicProto: "+e)}o(qs,"Gn");function fv(e){var t={};return Ks(e,function(n){!t[n]&&pu(e,n,!1)&&(t[n]=e[n])}),t}o(fv,"Dc");function vu(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return!0;return!1}o(vu,"Bi");function dv(e,t,n,r){function i(c,u,f){var y=u[f];if(y[Vs]&&r){var m=c[Lo]||{};m[Ya]!==!1&&(y=(m[u[Sa]]||{})[f]||y)}return function(){return y.apply(c,arguments)}}o(i,"i");var a={};Ks(n,function(c){a[c]=i(t,n,c)});for(var s=Ea(e),l=[];s&&!gu(s)&&!vu(l,s);)Ks(s,function(c){!a[c]&&pu(s,c,!eo)&&(a[c]=i(t,s,c))}),l.push(s),s=Ea(s);return a}o(dv,"Nc");function hv(e,t,n,r){var i=null;if(e&&Ni(n,Sa)){var a=e[Lo]||{};if(i=(a[n[Sa]]||{})[t],i||qs("Missing ["+t+"] "+Mo),!i[Gs]&&a[Ya]!==!1){for(var s=!Ni(e,t),l=Ea(e),c=[];s&&l&&!gu(l)&&!vu(c,l);){var u=l[t];if(u){s=u===r;break}c.push(l),l=Ea(l)}try{s&&(e[t]=i),i[Gs]=1}catch(f){a[Ya]=!1}}}return i}o(hv,"kc");function gv(e,t,n){var r=t[e];return r===n&&(r=Ea(t)[e]),typeof r!==Mo&&qs("["+e+"] is not a "+Mo),r}o(gv,"Fc");function pv(e,t,n,r,i){function a(c,u){var f=o(function(){var y=hv(this,u,c,f)||gv(u,c,f);return y.apply(this,arguments)},"l");return f[Vs]=1,f}if(o(a,"a"),!gd(e)){var s=n[Lo]=n[Lo]||{},l=s[t]=s[t]||{};s[Ya]!==!1&&(s[Ya]=!!i),Ks(n,function(c){pu(n,c,!1)&&n[c]!==r[c]&&(l[c]=n[c],delete n[c],(!Ni(e,c)||e[c]&&!e[c][Vs])&&(e[c]=a(e,c)))})}}o(pv,"Rc");function vv(e,t){if(eo){for(var n=[],r=Ea(t);r&&!gu(r)&&!vu(n,r);){if(r===e)return!0;n.push(r),r=Ea(r)}return!1}return!0}o(vv,"Mc");function mu(e,t){return Ni(e,_i)?e.name||t||wu:((e||{})[Oo]||{}).name||t||wu}o(mu,"Mi");function ur(e,t,n,r){Ni(e,_i)||qs("theClass is an invalid class definition.");var i=e[_i];vv(i,t)||qs("["+mu(e)+"] is not in class hierarchy of ["+mu(t)+"]");var a=null;Ni(i,Sa)?a=i[Sa]:(a=pd+mu(e,"_")+"$"+Eu,Eu++,i[Sa]=a);var s=ur[yu],l=!!s[Qs];l&&r&&r[Qs]!==void 0&&(l=!!r[Qs]);var c=fv(t),u=dv(i,t,c,l);n(t,u);var f=!!eo&&!!s[xu];f&&r&&(f=!!r[xu]),pv(i,a,t,c,f!==!1)}o(ur,"W");var Oo,_i,Mo,Lo,Vs,Sa,pd,Gs,Ya,yu,wu,_u,No,Zs,Qs,xu,Bo,eo,bu,Eu,vd,br=it(()=>{Oo="constructor",_i="prototype",Mo="function",Lo="_dynInstFuncs",Vs="_isDynProxy",Sa="_dynClass",pd="_dynCls$",Gs="_dynInstChk",Ya=Gs,yu="_dfOpts",wu="_unknown_",_u="__proto__",No="_dyn"+_u,Zs="_dynInstProto",Qs="useBaseInst",xu="setInstFuncs",Bo=Object,eo=Bo.getPrototypeOf,bu=Bo.getOwnPropertyNames,Eu=0,vd={setInstFuncs:!0,useBaseInst:!0},ur[yu]=vd}),Dt,yt,Xs=it(()=>{(function(e){e[e.CRITICAL=1]="CRITICAL",e[e.WARNING=2]="WARNING"})(Dt||(Dt={})),yt={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103}});function Su(e){return Hs.toString.call(e)}o(Su,"Hi");function mv(e,t){return typeof e===t}o(mv,"Vi");function Or(e){return e===void 0||typeof e===Mi}o(Or,"fe");function Ft(e){return e===null||Or(e)}o(Ft,"x");function yv(e){return!Ft(e)}o(yv,"qi");function Cu(e,t){return e&&Po.call(e,t)}o(Cu,"wr");function Ca(e){return typeof e===wi}o(Ca,"st");function Dn(e){return typeof e===Qa}o(Dn,"z");function Uo(e,t,n,r){r===void 0&&(r=!1);var i=!1;if(!Ft(e))try{Ft(e[ku])?Ft(e[Fu])||(e[Fu](Du+t,n),i=!0):(e[ku](t,n,r),i=!0)}catch(a){}return i}o(Uo,"Vt");function md(e,t,n,r){if(r===void 0&&(r=!1),!Ft(e))try{Ft(e[Ou])?Ft(e[Pu])||e[Pu](Du+t,n):e[Ou](t,n,r)}catch(i){}}o(md,"Wn");function wv(e){var t=e,n=/([^\w\d_$])/g;return n.test(e)&&(t=e.replace(n,"_")),t}o(wv,"ji");function vr(e,t){if(e)for(var n in e)Po.call(e,n)&&t.call(e,n,e[n])}o(vr,"$");function _v(e,t){if(e&&t){var n=t.length,r=e.length;if(e===t)return!0;if(r>=n){for(var i=r-1,a=n-1;a>=0;a--){if(e[i]!=t[a])return!1;i--}return!0}}return!1}o(_v,"Gi");function Ir(e,t){return e&&t?e.indexOf(t)!==-1:!1}o(Ir,"Te");function Tu(e){return Su(e)==="[object Date]"}o(Tu,"Pr");function Bi(e){return Su(e)==="[object Array]"}o(Bi,"Fe");function Js(e){return Su(e)==="[object Error]"}o(Js,"qt");function En(e){return typeof e=="string"}o(En,"U");function Iu(e){return typeof e=="number"}o(Iu,"ar");function Au(e){return typeof e=="boolean"}o(Au,"Gr");function na(e){if(Tu(e)){var t=o(function(n){var r=String(n);return r.length===1&&(r="0"+r),r},"e");return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}o(na,"Re");function Sn(e,t,n){for(var r=e.length,i=0;i<r&&!(i in e&&t.call(n||e,e[i],i,e)===-1);i++);}o(Sn,"R");function $o(e,t,n){for(var r=e.length,i=n||0,a=Math.max(i>=0?i:r-Math.abs(i),0);a<r;a++)if(a in e&&e[a]===t)return a;return-1}o($o,"Ft");function Ho(e,t,n){for(var r=e.length,i=n||e,a=new Array(r),s=0;s<r;s++)s in e&&(a[s]=t.call(i,e[s],e));return a}o(Ho,"jt");function yd(e,t,n){var r=e.length,i=0,a;if(arguments.length>=3)a=arguments[2];else{for(;i<r&&!(i in e);)i++;a=e[i++]}for(;i<r;)i in e&&(a=t(a,e[i],i,e)),i++;return a}o(yd,"Kr");function Cr(e){return typeof e!="string"?e:e.replace(/^\s+|\s+$/g,"")}o(Cr,"oe");function Ta(e){var t=typeof e;t!==Qa&&(t!==wi||e===null)&&hu("objKeys called on non-object");var n=[];for(var r in e)e&&Po.call(e,r)&&n.push(r);if(bd)for(var i=Ys.length,a=0;a<i;a++)e&&Po.call(e,Ys[a])&&n.push(Ys[a]);return n}o(Ta,"Ye");function to(e,t,n,r){if(Mu)try{var i={enumerable:!0,configurable:!0};return n&&(i.get=n),r&&(i.set=r),Mu(e,t,i),!0}catch(a){}return!1}o(to,"St");function Yr(){var e=Date;return e.now?e.now():new e().getTime()}o(Yr,"pe");function Bn(e){return Js(e)?e.name:""}o(Bn,"G");function Fn(e,t,n,r,i){var a=n;return e&&(a=e[t],a!==n&&(!i||i(a))&&(!r||r(n))&&(a=n,e[t]=a)),a}o(Fn,"K");function Ar(e,t,n){var r;return e?(r=e[t],!r&&Ft(r)&&(r=Or(n)?{}:n,e[t]=r)):r=Or(n)?{}:n,r}o(Ar,"ge");function wd(e){return!e}o(wd,"Xn");function Ru(e){return!!e}o(Ru,"br");function xi(e){throw new Error(e)}o(xi,"Ae");function _d(e,t,n){if(e&&t&&e!==t&&Ca(e)&&Ca(t)){var r=o(function(a){if(En(a)){var s=t[a];Dn(s)?(!n||n(a,!0,t,e))&&(e[a]=function(l){return function(){var c=arguments;return t[l].apply(t,c)}}(a)):(!n||n(a,!1,t,e))&&(Cu(e,a)&&delete e[a],to(e,a,function(){return t[a]},function(l){t[a]=l})||(e[a]=s))}},"n");for(var i in t)r(i)}return e}o(_d,"Wr");function xv(e){return function(){function t(){var n=this;e&&vr(e,function(r,i){n[r]=i})}return o(t,"e"),t}()}o(xv,"Ki");function xd(e){return e&&(e=Li(zs?zs({},e):e)),e}o(xd,"Jn");var Du,Fu,ku,Pu,Ou,Mu,bv,Ev,bd,Ys,Rr=it(()=>{Vn(),Du="on",Fu="attachEvent",ku="addEventListener",Pu="detachEvent",Ou="removeEventListener",Mu=fd,bv=Li.freeze,Ev=Li.seal,bd=!{toString:null}.propertyIsEnumerable("toString"),Ys=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]});function Dr(e){var t=Xa();return t&&t[e]?t[e]:e===Nu&&el()?window:null}o(Dr,"Ee");function el(){return Boolean(typeof window===wi&&window)}o(el,"or");function zo(){return el()?window:Dr(Nu)}o(zo,"It");function Ed(){return Boolean(typeof document===wi&&document)}o(Ed,"Qn");function bi(){return Ed()?document:Dr(Sd)}o(bi,"De");function Sv(){return Boolean(typeof navigator===wi&&navigator)}o(Sv,"Bo");function Ei(){return Sv()?navigator:Dr(Cd)}o(Ei,"Le");function Cv(){return Boolean(typeof history===wi&&history)}o(Cv,"zo");function Tv(){return Cv()?history:Dr(Td)}o(Tv,"Zi");function Ia(e){if(e&&Pd){var t=Dr("__mockLocation");if(t)return t}return typeof location===wi&&location?location:Dr(Id)}o(Ia,"$e");function Iv(){return typeof console!==Mi?console:Dr(Ad)}o(Iv,"Yi");function Ui(){return Dr(Rd)}o(Ui,"Je");function no(){return Boolean(typeof JSON===wi&&JSON||Dr(Bu)!==null)}o(no,"mt");function ui(){return no()?JSON||Dr(Bu):null}o(ui,"we");function Av(){return Dr(Dd)}o(Av,"$i");function Rv(){return Dr(Fd)}o(Rv,"ea");function Dv(){var e=Ei();return e&&e.product?e.product===kd:!1}o(Dv,"ta");function tl(){var e=Ei();if(e&&(e.userAgent!==al||il===null)){al=e.userAgent;var t=(al||"").toLowerCase();il=Ir(t,nl)||Ir(t,rl)}return il}o(tl,"Gt");function Lu(e){if(e===void 0&&(e=null),!e){var t=Ei()||{};e=t?(t.userAgent||"").toLowerCase():""}var n=(e||"").toLowerCase();if(Ir(n,nl))return parseInt(n.split(nl)[1]);if(Ir(n,rl)){var r=parseInt(n.split(rl)[1]);if(r)return r+4}return null}o(Lu,"sr");function _n(e){var t=Object[Kr].toString.call(e),n="";return t==="[object Error]"?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":no()&&(n=ui().stringify(e)),t+n}o(_n,"O");var Nu,Sd,Cd,Td,Id,Ad,Rd,Bu,Dd,Fd,kd,nl,rl,il,al,Pd,Wo=it(()=>{"use strict";Vn(),Rr(),Nu="window",Sd="document",Cd="navigator",Td="history",Id="location",Ad="console",Rd="performance",Bu="JSON",Dd="crypto",Fd="msCrypto",kd="ReactNative",nl="msie",rl="trident/",il=null,al=null,Pd=!1});function Od(e){return e?'"'+e.replace(/\"/g,"")+'"':""}o(Od,"Ho");function ol(e,t){return(e||{}).logger||new Uu(t)}o(ol,"Mt");var Md,Ld,Nd,ro,Uu,$u=it(()=>{"use strict";Xs(),Wo(),br(),Rr(),Md="AI (Internal): ",Ld="AI: ",Nd="AITR_",ro=function(){function e(t,n,r,i){r===void 0&&(r=!1);var a=this;a.messageId=t,a.message=(r?Ld:Md)+t;var s="";no()&&(s=ui().stringify(i));var l=(n?" message:"+Od(n):"")+(i?" props:"+Od(s):"");a.message+=l}return o(e,"t"),e.dataType="MessageData",e}(),Uu=function(){function e(t){this.identifier="DiagnosticLogger",this.queue=[];var n=0,r={};ur(e,this,function(i){Ft(t)&&(t={}),i.consoleLoggingLevel=function(){return a("loggingLevelConsole",0)},i.telemetryLoggingLevel=function(){return a("loggingLevelTelemetry",1)},i.maxInternalMessageLimit=function(){return a("maxMessageLimit",25)},i.enableDebugExceptions=function(){return a("enableDebugExceptions",!1)},i.throwInternal=function(l,c,u,f,y){y===void 0&&(y=!1);var m=new ro(c,u,y,f);if(i.enableDebugExceptions())throw m;if(!Or(m.message)){var C=i.consoleLoggingLevel();if(y){var j=+m.messageId;!r[j]&&C>=Dt.WARNING&&(i.warnToConsole(m.message),r[j]=!0)}else C>=Dt.WARNING&&i.warnToConsole(m.message);i.logInternalMessage(l,m)}},i.warnToConsole=function(l){var c=Iv();if(c){var u="log";c.warn&&(u="warn"),Dn(c[u])&&c[u](l)}},i.resetInternalMessageCount=function(){n=0,r={}},i.logInternalMessage=function(l,c){if(!s()){var u=!0,f=Nd+c.messageId;if(r[f]?u=!1:r[f]=!0,u&&(l<=i.telemetryLoggingLevel()&&(i.queue.push(c),n++),n===i.maxInternalMessageLimit())){var y="Internal events throttle limit per PageView reached for this app.",m=new ro(yt.MessageLimitPerPVExceeded,y,!1);i.queue.push(m),i.warnToConsole(y)}}};function a(l,c){var u=t[l];return Ft(u)?c:u}o(a,"a");function s(){return n>=i.maxInternalMessageLimit()}o(s,"o")})}return o(e,"t"),e}()});function io(e,t,n,r,i){if(e){var a=e;if(Dn(a.getPerfMgr)&&(a=a.getPerfMgr()),a){var s=void 0,l=a.getCtx(sl);try{if(s=a.create(t(),r,i),s){if(l&&s.setCtx&&(s.setCtx(ao.ParentContextKey,l),l.getCtx&&l.setCtx)){var c=l.getCtx(ao.ChildrenContextKey);c||(c=[],l.setCtx(ao.ChildrenContextKey,c)),c.push(s)}return a.setCtx(sl,s),n(s)}}catch(u){s&&s.setCtx&&s.setCtx("exception",u)}finally{s&&a.fire(s),a.setCtx(sl,l)}}}return n()}o(io,"ut");var Aa,ao,Hu,sl,ll=it(()=>{br(),Rr(),Aa="ctx",ao=function(){function e(t,n,r){var i=this,a=!1;if(i.start=Yr(),i.name=t,i.isAsync=r,i.isChildEvt=function(){return!1},Dn(n)){var s;a=to(i,"payload",function(){return!s&&Dn(n)&&(s=n(),n=null),s})}i.getCtx=function(l){return l?l===e.ParentContextKey||l===e.ChildrenContextKey?i[l]:(i[Aa]||{})[l]:null},i.setCtx=function(l,c){if(l)if(l===e.ParentContextKey)i[l]||(i.isChildEvt=function(){return!0}),i[l]=c;else if(l===e.ChildrenContextKey)i[l]=c;else{var u=i[Aa]=i[Aa]||{};u[l]=c}},i.complete=function(){var l=0,c=i.getCtx(e.ChildrenContextKey);if(Bi(c))for(var u=0;u<c.length;u++){var f=c[u];f&&(l+=f.time)}i.time=Yr()-i.start,i.exTime=i.time-l,i.complete=function(){},!a&&Dn(n)&&(i.payload=n())}}return o(e,"t"),e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),Hu=function(){function e(t){this.ctx={},ur(e,this,function(n){n.create=function(r,i,a){return new ao(r,i,a)},n.fire=function(r){r&&(r.complete(),t&&t.perfEvent(r))},n.setCtx=function(r,i){if(r){var a=n[Aa]=n[Aa]||{};a[r]=i}},n.getCtx=function(r){return(n[Aa]||{})[r]}})}return o(e,"t"),e}(),sl="CoreUtils.doPerf"}),Bd,Fv=it(()=>{"use strict";ll(),Xs(),Rr(),Bd=function(){function e(t,n){var r=this,i=null,a=Dn(t.processTelemetry),s=Dn(t.setNextPlugin);r._hasRun=!1,r.getPlugin=function(){return t},r.getNext=function(){return i},r.setNext=function(l){i=l},r.processTelemetry=function(l,c){c||(c=n);var u=t?t.identifier:"TelemetryPluginChain";io(c?c.core():null,function(){return u+":processTelemetry"},function(){if(t&&a){r._hasRun=!0;try{c.setNext(i),s&&t.setNextPlugin(i),i&&(i._hasRun=!1),t.processTelemetry(l,c)}catch(y){var f=i&&i._hasRun;(!i||!f)&&c.diagLog().throwInternal(Dt.CRITICAL,yt.PluginException,"Plugin ["+t.identifier+"] failed during processTelemetry - "+y),i&&!f&&i.processTelemetry(l,c)}}else i&&(r._hasRun=!0,i.processTelemetry(l,c))},function(){return{item:l}},!l.sync)}}return o(e,"t"),e}()});function zu(e,t){var n=[];if(e&&e.length>0)for(var r=null,i=0;i<e.length;i++){var a=e[i];if(a&&Dn(a.processTelemetry)){var s=new Bd(a,t);n.push(s),r&&r.setNext(s),r=s}}return n.length>0?n[0]:null}o(zu,"na");function kv(e,t,n){var r=[],i=!n;if(e)for(;e;){var a=e.getPlugin();(i||a===n)&&(i=!0,r.push(a)),e=e.getNext()}return i||r.push(n),zu(r,t)}o(kv,"Qc");function Pv(e,t,n){var r=e,i=!1;return n&&e&&(r=[],Sn(e,function(a){(i||a===n)&&(i=!0,r.push(a))})),n&&!i&&(r||(r=[]),r.push(n)),zu(r,t)}o(Pv,"Zc");var Ra,Wu=it(()=>{"use strict";$u(),Fv(),Rr(),Ra=function(){function e(t,n,r,i){var a=this,s=null;i!==null&&(t&&Dn(t.getPlugin)?s=kv(t,a,i||t.getPlugin()):i?s=Pv(t,a,i):Or(i)&&(s=zu(t,a))),a.core=function(){return r},a.diagLog=function(){return ol(r,n)},a.getCfg=function(){return n},a.getExtCfg=function(l,c){c===void 0&&(c={});var u;if(n){var f=n.extensionConfig;f&&l&&(u=f[l])}return u||c},a.getConfig=function(l,c,u){u===void 0&&(u=!1);var f,y=a.getExtCfg(l,null);return y&&!Ft(y[c])?f=y[c]:n&&!Ft(n[c])&&(f=n[c]),Ft(f)?u:f},a.hasNext=function(){return s!=null},a.getNext=function(){return s},a.setNext=function(l){s=l},a.processNext=function(l){var c=s;c&&(s=c.getNext(),c.processTelemetry(l,a))},a.createNew=function(l,c){return l===void 0&&(l=null),new e(l||s,n,r,c)}}return o(e,"t"),e}()}),Ud,ju,$d=it(()=>{Ud="iKey",ju="extensionConfig"}),jo,Da,Hd=it(()=>{"use strict";Wu(),Rr(),$d(),jo="getPlugin",Da=function(){function e(){var t=this,n=!1,r=null,i=null;t.core=null,t.diagLog=function(a){return t._getTelCtx(a).diagLog()},t.isInitialized=function(){return n},t.setInitialized=function(a){n=a},t.setNextPlugin=function(a){i=a},t.processNext=function(a,s){s?s.processNext(a):i&&Dn(i.processTelemetry)&&i.processTelemetry(a,null)},t._getTelCtx=function(a){a===void 0&&(a=null);var s=a;if(!s){var l=r||new Ra(null,{},t.core);i&&i[jo]?s=l.createNew(null,i[jo]):s=l.createNew(null,i)}return s},t._baseTelInit=function(a,s,l,c){a&&Fn(a,ju,[],null,Ft),!c&&s&&(c=s.getProcessTelContext().getNext());var u=i;i&&i[jo]&&(u=i[jo]()),t.core=s,r=new Ra(c,a,s,u),n=!0}}return o(e,"t"),e.prototype.initialize=function(t,n,r,i){this._baseTelInit(t,n,r,i)},e}()});function Ku(e,t){for(var n=[],r=null,i=e.getNext();i;){var a=i.getPlugin();a&&(r&&Dn(r[Vu])&&Dn(a[ul])&&r[Vu](a),(!Dn(a[Gu])||!a[Gu]())&&n.push(a),r=a,i=i.getNext())}Sn(n,function(s){s.initialize(e.getCfg(),e.core(),t,e.getNext())})}o(Ku,"Qr");function zd(e){return e.sort(function(t,n){var r=0,i=Dn(n[ul]);return Dn(t[ul])?r=i?t[qu]-n[qu]:1:i&&(r=-1),r})}o(zd,"sa");var ul,qu,Vu,Gu,Wd=it(()=>{"use strict";Rr(),ul="processTelemetry",qu="priority",Vu="setNextPlugin",Gu="isInitialized"}),cl,jd,Kd,Ov=it(()=>{"use strict";Vn(),br(),Hd(),Wu(),Wd(),Rr(),cl=500,jd="Channel has invalid priority",Kd=function(e){zn(t,e);function t(){var n=e.call(this)||this;n.identifier="ChannelControllerPlugin",n.priority=cl;var r;ur(t,n,function(l,c){l.setNextPlugin=function(u){},l.processTelemetry=function(u,f){r&&Sn(r,function(y){if(y.length>0){var m=n._getTelCtx(f).createNew(y);m.processNext(u)}})},l.getChannelControls=function(){return r},l.initialize=function(u,f,y){l.isInitialized()||(c.initialize(u,f,y),s((u||{}).channels,y),Sn(r,function(m){return Ku(new Ra(m,u,f),y)}))}});function i(l){Sn(l,function(c){c.priority<cl&&xi(jd+c.identifier)})}o(i,"i");function a(l){l&&l.length>0&&(l=l.sort(function(c,u){return c.priority-u.priority}),i(l),r.push(l))}o(a,"a");function s(l,c){if(r=[],l&&Sn(l,function(f){return a(f)}),c){var u=[];Sn(c,function(f){f.priority>cl&&u.push(f)}),a(u)}}return o(s,"o"),n}return o(t,"e"),t._staticInit=function(){var n=t.prototype;to(n,"ChannelControls",n.getChannelControls),to(n,"channelQueue",n.getChannelControls)}(),t}(Da)});function qd(e,t){var n=Ko[$i]||Vo[$i];return n||(n=Ko[$i]=Ko(e,t),Vo[$i]=n),n}o(qd,"va");function fl(e){return e?e.isEnabled():!0}o(fl,"ni");function Mv(e){var t=e.cookieCfg=e.cookieCfg||{};if(Fn(t,"domain",e.cookieDomain,yv,Ft),Fn(t,"path",e.cookiePath||"/",null,Ft),Ft(t[gl])){var n=void 0;Or(e[Ju])||(n=!e[Ju]),Or(e[Yu])||(n=!e[Yu]),t[gl]=n}return t}o(Mv,"$c");function Zu(e,t){var n;if(e)n=e.getCookieMgr();else if(t){var r=t.cookieCfg;r[$i]?n=r[$i]:n=Ko(t)}return n||(n=qd(t,(e||{}).logger)),n}o(Zu,"lr");function Ko(e,t){var n=Mv(e||Vo),r=n.path||"/",i=n.domain,a=n[gl]!==!1,s={isEnabled:function(){var l=a&&Vd(t),c=Vo[$i];return l&&c&&s!==c&&(l=fl(c)),l},setEnabled:function(l){a=l!==!1},set:function(l,c,u,f,y){if(fl(s)){var m={},C=Cr(c||ei),j=C.indexOf(";");if(j!==-1&&(C=Cr(c.substring(0,j)),m=Gd(c.substring(j+1))),Fn(m,"domain",f||i,Ru,Or),!Ft(u)){var Q=tl();if(Or(m[hl])){var z=Yr(),G=z+u*1e3;if(G>0){var re=new Date;re.setTime(G),Fn(m,hl,Zd(re,Q?Qu:Xu)||Zd(re,Q?Qu:Xu)||ei,Ru)}}Q||Fn(m,"max-age",ei+u,null,Or)}var fe=Ia();fe&&fe.protocol==="https:"&&(Fn(m,"secure",null,null,Or),pl===null&&(pl=!Jd((Ei()||{}).userAgent)),pl&&Fn(m,"SameSite","None",null,Or)),Fn(m,"path",y||r,null,Or);var le=n.setCookie||Xd;le(l,Qd(C,m))}},get:function(l){var c=ei;return fl(s)&&(c=(n.getCookie||Lv)(l)),c},del:function(l,c){fl(s)&&s.purge(l,c)},purge:function(l,c){if(Vd(t)){var u=(y={},y.path=c||"/",y[hl]="Thu, 01 Jan 1970 00:00:01 GMT",y);tl()||(u["max-age"]="0");var f=n.delCookie||Xd;f(l,Qd(ei,u))}var y}};return s[$i]=s,s}o(Ko,"cr");function Vd(e){if(qo===null){qo=!1;try{var t=oo||{};qo=t[dl]!==void 0}catch(n){e&&e.throwInternal(Dt.WARNING,yt.CannotAccessCookie,"Cannot access document.cookie - "+Bn(n),{exception:_n(n)})}}return qo}o(Vd,"da");function Gd(e){var t={};if(e&&e.length){var n=Cr(e).split(";");Sn(n,function(r){if(r=Cr(r||ei),r){var i=r.indexOf("=");i===-1?t[r]=null:t[Cr(r.substring(0,i))]=Cr(r.substring(i+1))}})}return t}o(Gd,"as");function Zd(e,t){return Dn(e[t])?e[t]():null}o(Zd,"rs");function Qd(e,t){var n=e||ei;return vr(t,function(r,i){n+="; "+r+(Ft(i)?ei:"="+i)}),n}o(Qd,"ns");function Lv(e){var t=ei;if(oo){var n=oo[dl]||ei;ec!==n&&(tc=Gd(n),ec=n),t=Cr(tc[e]||ei)}return t}o(Lv,"el");function Xd(e,t){oo&&(oo[dl]=e+"="+t)}o(Xd,"is");function Jd(e){return En(e)?!!(Ir(e,"CPU iPhone OS 12")||Ir(e,"iPad; CPU OS 12")||Ir(e,"Macintosh; Intel Mac OS X 10_14")&&Ir(e,"Version/")&&Ir(e,"Safari")||Ir(e,"Macintosh; Intel Mac OS X 10_14")&&_v(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||Ir(e,"Chrome/5")||Ir(e,"Chrome/6")||Ir(e,"UnrealEngine")&&!Ir(e,"Chrome")||Ir(e,"UCBrowser/12")||Ir(e,"UCBrowser/11")):!1}o(Jd,"ai");var Qu,Xu,dl,hl,gl,Ju,Yu,$i,ei,qo,pl,ec,oo,tc,Vo,nc=it(()=>{Xs(),Wo(),Rr(),Qu="toGMTString",Xu="toUTCString",dl="cookie",hl="expires",gl="enabled",Ju="isCookieUseDisabled",Yu="disableCookiesUsage",$i="_ckMgr",ei="",qo=null,pl=null,ec=null,oo=bi(),tc={},Vo={}}),Yd,rc,ic,eh=it(()=>{"use strict";Vn(),br(),Ov(),Wu(),Wd(),ll(),nc(),Rr(),$d(),Yd="Extensions must provide callback to initialize",rc="_notificationManager",ic=function(){function e(){var t=!1,n,r,i,a,s;ur(e,this,function(l){l._extensions=new Array,r=new Kd,l.logger=Ws({throwInternal:function(c,u,f,y,m){m===void 0&&(m=!1)},warnToConsole:function(c){},resetInternalMessageCount:function(){}}),n=[],l.isInitialized=function(){return t},l.initialize=function(c,u,f,y){l.isInitialized()&&xi("Core should not be initialized more than once"),(!c||Ft(c.instrumentationKey))&&xi("Please provide instrumentation key"),i=y,l[rc]=y,l.config=c||{},c.extensions=Ft(c.extensions)?[]:c.extensions;var m=Ar(c,ju);m.NotificationManager=y,f&&(l.logger=f);var C=[];C.push.apply(C,u.concat(c.extensions)),C=zd(C);var j=[],Q=[],z={};Sn(C,function(G){(Ft(G)||Ft(G.initialize))&&xi(Yd);var re=G.priority,fe=G.identifier;G&&re&&(Ft(z[re])?z[re]=fe:f.warnToConsole("Two extensions have same priority #"+re+" - "+z[re]+", "+fe)),!re||re<r.priority?j.push(G):Q.push(G)}),C.push(r),j.push(r),C=zd(C),l._extensions=C,Ku(new Ra([r],c,l),C),Ku(new Ra(j,c,l),C),l._extensions=j,l.getTransmissionControls().length===0&&xi("No channels available"),t=!0,l.releaseQueue()},l.getTransmissionControls=function(){return r.getChannelControls()},l.track=function(c){Fn(c,Ud,l.config.instrumentationKey,null,wd),Fn(c,"time",na(new Date),null,wd),Fn(c,"ver","4.0",null,Ft),l.isInitialized()?l.getProcessTelContext().processNext(c):n.push(c)},l.getProcessTelContext=function(){var c=l._extensions,u=c;return(!c||c.length===0)&&(u=[r]),new Ra(u,l.config,l)},l.getNotifyMgr=function(){return i||(i=Ws({addNotificationListener:function(c){},removeNotificationListener:function(c){},eventsSent:function(c){},eventsDiscarded:function(c,u){},eventsSendRequest:function(c,u){}}),l[rc]=i),i},l.getCookieMgr=function(){return s||(s=Ko(l.config,l.logger)),s},l.setCookieMgr=function(c){s=c},l.getPerfMgr=function(){return a||l.config&&l.config.enablePerfMgr&&(a=new Hu(l.getNotifyMgr())),a},l.setPerfMgr=function(c){a=c},l.eventCnt=function(){return n.length},l.releaseQueue=function(){n.length>0&&(Sn(n,function(c){l.getProcessTelContext().processNext(c)}),n=[])}})}return o(e,"t"),e}()}),ac,th=it(()=>{br(),Rr(),ac=function(){function e(t){this.listeners=[];var n=!!(t||{}).perfEvtsSendAll;ur(e,this,function(r){r.addNotificationListener=function(i){r.listeners.push(i)},r.removeNotificationListener=function(i){for(var a=$o(r.listeners,i);a>-1;)r.listeners.splice(a,1),a=$o(r.listeners,i)},r.eventsSent=function(i){Sn(r.listeners,function(a){a&&a.eventsSent&&setTimeout(function(){return a.eventsSent(i)},0)})},r.eventsDiscarded=function(i,a){Sn(r.listeners,function(s){s&&s.eventsDiscarded&&setTimeout(function(){return s.eventsDiscarded(i,a)},0)})},r.eventsSendRequest=function(i,a){Sn(r.listeners,function(s){if(s&&s.eventsSendRequest)if(a)setTimeout(function(){return s.eventsSendRequest(i,a)},0);else try{s.eventsSendRequest(i,a)}catch(l){}})},r.perfEvent=function(i){i&&(n||!i.isChildEvt())&&Sn(r.listeners,function(a){if(a&&a.perfEvent)if(i.isAsync)setTimeout(function(){return a.perfEvent(i)},0);else try{a.perfEvent(i)}catch(s){}})}})}return o(e,"t"),e}()}),oc,Nv=it(()=>{Vn(),eh(),ov(),th(),ll(),$u(),br(),Rr(),oc=function(e){zn(t,e);function t(){var n=e.call(this)||this;return ur(t,n,function(r,i){r.initialize=function(l,c,u,f){i.initialize(l,c,u||new Uu(l),f||new ac(l))},r.track=function(l){io(r.getPerfMgr(),function(){return"AppInsightsCore:track"},function(){l===null&&(s(l),xi("Invalid telemetry item")),a(l),i.track(l)},function(){return{item:l}},!l.sync)},r.addNotificationListener=function(l){var c=r.getNotifyMgr();c&&c.addNotificationListener(l)},r.removeNotificationListener=function(l){var c=r.getNotifyMgr();c&&c.removeNotificationListener(l)},r.pollInternalLogs=function(l){var c=r.config.diagnosticLogInterval;return(!c||!(c>0))&&(c=1e4),setInterval(function(){var u=r.logger?r.logger.queue:[];Sn(u,function(f){var y={name:l||"InternalMessageId: "+f.messageId,iKey:r.config.instrumentationKey,time:na(new Date),baseType:ro.dataType,baseData:{message:f.message}};r.track(y)}),u.length=0},c)};function a(l){if(Ft(l.name))throw s(l),Error("telemetry name required")}o(a,"a");function s(l){var c=r.getNotifyMgr();c&&c.eventsDiscarded([l],ud.InvalidEvent)}o(s,"o")}),n}return o(t,"e"),t}(ic)});function nh(e){e<0&&(e>>>=0),so=123456789+e&Hi,lo=987654321-e&Hi,lc=!0}o(nh,"ls");function rh(){try{var e=Yr()&2147483647;nh((Math.random()*sc^e)+e)}catch(t){}}o(rh,"fs");function ih(e){return e>0?Math.floor(Fa()/Hi*(e+1))>>>0:0}o(ih,"si");function Fa(e){var t,n=Av()||Rv();return n&&n.getRandomValues?t=n.getRandomValues(new Uint32Array(1))[0]&Hi:tl()?(lc||rh(),t=ah()&Hi):t=Math.floor(sc*Math.random()|0),e||(t>>>=0),t}o(Fa,"Ct");function Bv(e){e?nh(e):rh()}o(Bv,"xa");function ah(e){lo=36969*(lo&65535)+(lo>>16)&Hi,so=18e3*(so&65535)+(so>>16)&Hi;var t=(lo<<16)+(so&65535)>>>0&Hi|0;return e||(t>>>=0),t}o(ah,"ui");var sc,Hi,lc,so,lo,oh=it(()=>{Wo(),Rr(),sc=4294967296,Hi=4294967295,lc=!1,so=123456789,lo=987654321});function ka(e,t){var n=!1,r=zo();r&&(n=Uo(r,e,t),n=Uo(r.body,e,t)||n);var i=bi();return i&&(n=Zo.Attach(i,e,t)||n),n}o(ka,"_t");function Uv(){function e(){return ih(15)}return o(e,"t"),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(lh,function(t){var n=e()|0,r=t==="x"?n:n&3|8;return r.toString(16)})}o(Uv,"ps");function $v(){var e=Ui();return e&&e.now?e.now():Yr()}o($v,"ds");function vl(e){e===void 0&&(e=22);for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=Fa()>>>0,r=0,i="";i.length<e;)r++,i+=t.charAt(n&63),n>>>=6,r===5&&(n=(Fa()<<2&4294967295|n&3)>>>0,r=0);return i}o(vl,"Xt");function Si(){for(var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],t="",n,r=0;r<4;r++)n=Fa(),t+=e[n&15]+e[n>>4&15]+e[n>>8&15]+e[n>>12&15]+e[n>>16&15]+e[n>>20&15]+e[n>>24&15]+e[n>>28&15];var i=e[8+(Fa()&3)|0];return t.substr(0,8)+t.substr(9,4)+"4"+t.substr(13,3)+i+t.substr(16,3)+t.substr(19,12)}o(Si,"Oe");function uo(e,t){var n=qd(e,t),r=ml._canUseCookies;return co===null&&(co=[],Go=r,to(ml,"_canUseCookies",function(){return Go},function(i){Go=i,Sn(co,function(a){a.setEnabled(i)})})),$o(co,n)===-1&&co.push(n),Au(r)&&n.setEnabled(r),Au(Go)&&n.setEnabled(Go),n}o(uo,"Qt");function sh(){uo().setEnabled(!1)}o(sh,"ci");function Hv(e){return uo(null,e).isEnabled()}o(Hv,"Sa");function zv(e,t){return uo(null,e).get(t)}o(zv,"Ia");function Wv(e,t,n,r){uo(null,e).set(t,n,null,r)}o(Wv,"Ca");function jv(e,t){return uo(null,e).del(t)}o(jv,"Ta");var co,Go,ml,lh,Zo,Kv=it(()=>{"use strict";Vn(),nc(),Wo(),Rr(),oh(),co=null,ml={_canUseCookies:void 0,isTypeof:mv,isUndefined:Or,isNullOrUndefined:Ft,hasOwnProperty:Cu,isFunction:Dn,isObject:Ca,isDate:Tu,isArray:Bi,isError:Js,isString:En,isNumber:Iu,isBoolean:Au,toISOString:na,arrForEach:Sn,arrIndexOf:$o,arrMap:Ho,arrReduce:yd,strTrim:Cr,objCreate:Ws,objKeys:Ta,objDefineAccessors:to,addEventHandler:ka,dateNow:Yr,isIE:tl,disableCookies:sh,newGuid:Uv,perfNow:$v,newId:vl,randomValue:ih,random32:Fa,mwcRandomSeed:Bv,mwcRandom32:ah,generateW3CId:Si},lh=/[xy]/g,Zo={Attach:Uo,AttachEvent:Uo,Detach:md,DetachEvent:md}});function uc(e,t){if(e)for(var n=0;n<e.length&&!t(e[n],n);n++);}o(uc,"wa");function cc(e,t,n,r,i){i>=0&&i<=2&&uc(e,function(a,s){var l=a.cbks,c=l[hc[i]];if(c){t.ctx=function(){var y=r[s]=r[s]||{};return y};try{c.apply(t.inst,n)}catch(y){var u=t.err;try{var f=l[hc[2]];f&&(t.err=y,f.apply(t.inst,n))}catch(m){}finally{t.err=u}}}})}o(cc,"Ea");function qv(e){return function(){var t=this,n=arguments,r=e.h,i={name:e.n,inst:t,ctx:null,set:c},a=[],s=l([i],n);function l(f,y){return uc(y,function(m){f.push(m)}),f}o(l,"u");function c(f,y){n=l([],n),n[f]=y,s=l([i],n)}o(c,"s"),cc(r,i,s,a,0);var u=e.f;try{i.rslt=u.apply(t,n)}catch(f){throw i.err=f,cc(r,i,s,a,3),f}return cc(r,i,s,a,1),i.rslt}}o(qv,"al");function Vv(e){if(e){if(gc)return gc(e);var t=e[ch]||e[Kr]||e[fh];if(t)return t}return null}o(Vv,"ol");function uh(e,t,n){var r=null;return e&&(Cu(e,t)?r=e:n&&(r=uh(Vv(e),t,!1))),r}o(uh,"xs");function Gv(e,t,n){return e?fc(e[Kr],t,n,!1):null}o(Gv,"Pa");function fc(e,t,n,r){if(r===void 0&&(r=!0),e&&t&&n){var i=uh(e,t,r);if(i){var a=i[t];if(typeof a===Qa){var s=a[dc];if(!s){s={i:0,n:t,f:a,h:[]};var l=qv(s);l[dc]=s,i[t]=l}var c={id:s.i,cbks:n,rm:function(){var u=this.id;uc(s.h,function(f,y){if(f.id===u)return s.h.splice(y,1),1})}};return s.i++,s.h.push(c),c}}}return null}o(fc,"sn");var dc,hc,ch,fh,gc,Zv=it(()=>{Vn(),Rr(),dc="_aiHooks",hc=["req","rsp","hkErr","fnErr"],ch="__proto__",fh="constructor",gc=Object.getPrototypeOf}),In=it(()=>{Nv(),eh(),Hd(),oh(),Kv(),Rr(),Wo(),Vn(),th(),ll(),$u(),Xs(),Zv(),nc()}),Qn,dh=it(()=>{Qn={requestContextHeader:"Request-Context",requestContextTargetKey:"appId",requestContextAppIdFormat:"appId=cid-v1:",requestIdHeader:"Request-Id",traceParentHeader:"traceparent",traceStateHeader:"tracestate",sdkContextHeader:"Sdk-Context",sdkContextHeaderAppIdRequest:"appId",requestContextHeaderLowerCase:"request-context"}});function pc(e,t,n){var r=t.length,i=hh(e,t);if(i.length!==r){for(var a=0,s=i;n[s]!==void 0;)a++,s=i.substring(0,150-3)+vh(a);i=s}return i}o(pc,"li");function hh(e,t){var n;return t&&(t=Cr(t.toString()),t.length>150&&(n=t.substring(0,150),e.throwInternal(Dt.WARNING,yt.NameTooLong,"name is too long.  It has been truncated to "+150+" characters.",{name:t},!0))),n||t}o(hh,"Aa");function Mr(e,t,n){n===void 0&&(n=1024);var r;return t&&(n=n||1024,t=Cr(t),t.toString().length>n&&(r=t.toString().substring(0,n),e.throwInternal(Dt.WARNING,yt.StringValueTooLong,"string value is too long. It has been truncated to "+n+" characters.",{value:t},!0))),r||t}o(Mr,"ae");function Qo(e,t){return mc(e,t,2048,yt.UrlTooLong)}o(Qo,"Tt");function vc(e,t){var n;return t&&t.length>32768&&(n=t.substring(0,32768),e.throwInternal(Dt.WARNING,yt.MessageTruncated,"message is too long, it has been truncated to "+32768+" characters.",{message:t},!0)),n||t}o(vc,"Nr");function gh(e,t){var n;if(t){var r=""+t;r.length>32768&&(n=r.substring(0,32768),e.throwInternal(Dt.WARNING,yt.ExceptionTruncated,"exception is too long, it has been truncated to "+32768+" characters.",{exception:t},!0))}return n||t}o(gh,"fi");function ra(e,t){if(t){var n={};vr(t,function(r,i){if(Ca(i)&&no())try{i=ui().stringify(i)}catch(a){e.throwInternal(Dt.WARNING,yt.CannotSerializeObjectNonSerializable,"custom property is not valid",{exception:a},!0)}i=Mr(e,i,8192),r=pc(e,r,n),n[r]=i}),t=n}return t}o(ra,"Be");function ia(e,t){if(t){var n={};vr(t,function(r,i){r=pc(e,r,n),n[r]=i}),t=n}return t}o(ia,"ze");function ph(e,t){return t&&mc(e,t,128,yt.IdTooLong).toString()}o(ph,"pi");function mc(e,t,n,r){var i;return t&&(t=Cr(t),t.length>n&&(i=t.substring(0,n),e.throwInternal(Dt.WARNING,r,"input is too long, it has been truncated to "+n+" characters.",{data:t},!0))),i||t}o(mc,"di");function vh(e){var t="00"+e;return t.substr(t.length-3)}o(vh,"Da");var mh,ci=it(()=>{In(),mh={MAX_NAME_LENGTH:150,MAX_ID_LENGTH:128,MAX_PROPERTY_LENGTH:8192,MAX_STRING_LENGTH:1024,MAX_URL_LENGTH:2048,MAX_MESSAGE_LENGTH:32768,MAX_EXCEPTION_LENGTH:32768,sanitizeKeyAndAddUniqueness:pc,sanitizeKey:hh,sanitizeString:Mr,sanitizeUrl:Qo,sanitizeMessage:vc,sanitizeException:gh,sanitizeProperties:ra,sanitizeMeasurements:ia,sanitizeId:ph,sanitizeInput:mc,padNumber:vh,trim:Cr}});function fo(e){var t=null;if(Dn(Event))t=new Event(e);else{var n=bi();n&&n.createEvent&&(t=n.createEvent("Event"),t.initEvent(e,!0,!0))}return t}o(fo,"Ut");var yh=it(()=>{In()});function Kn(e,t){return t===void 0&&(t=!1),e==null?t:e.toString().toLowerCase()==="true"}o(Kn,"ee");function zi(e){(isNaN(e)||e<0)&&(e=0),e=Math.round(e);var t=""+e%1e3,n=""+Math.floor(e/1e3)%60,r=""+Math.floor(e/(1e3*60))%60,i=""+Math.floor(e/(1e3*60*60))%24,a=Math.floor(e/(1e3*60*60*24));return t=t.length===1?"00"+t:t.length===2?"0"+t:t,n=n.length<2?"0"+n:n,r=r.length<2?"0"+r:r,i=i.length<2?"0"+i:i,(a>0?a+".":"")+i+":"+r+":"+n+"."+t}o(zi,"Ge");function yc(){var e=Ei();return"sendBeacon"in e&&e.sendBeacon}o(yc,"kr");function wh(e,t){var n=null;return Sn(e,function(r){if(r.identifier===t)return n=r,-1}),n}o(wh,"un");function _h(e,t,n,r,i){return!i&&En(e)&&(e==="Script error."||e==="Script error")}o(_h,"cn");var yl=it(()=>{In()}),Pa,wl,ho,_l,wc,ti,fi=it(()=>{Pa="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",wl="sampleRate",ho="ProcessLegacy",_l="http.method",wc="https://dc.services.visualstudio.com",ti="not_specified"}),Oa,di,xh=it(()=>{(function(e){e[e.LocalStorage=0]="LocalStorage",e[e.SessionStorage=1]="SessionStorage"})(Oa||(Oa={})),function(e){e[e.AI=0]="AI",e[e.AI_AND_W3C=1]="AI_AND_W3C",e[e.W3C=2]="W3C"}(di||(di={}))});function _c(){return bc()?xl(Oa.LocalStorage):null}o(_c,"Ra");function xl(e){try{if(Ft(Xa()))return null;var t=new Date,n=Dr(e===Oa.LocalStorage?"localStorage":"sessionStorage");n.setItem(t.toString(),t.toString());var r=n.getItem(t.toString())!==t.toString();if(n.removeItem(t.toString()),!r)return n}catch(i){}return null}o(xl,"gi");function xc(){return go()?xl(Oa.SessionStorage):null}o(xc,"Ma");function bh(){aa=!1,oa=!1}o(bh,"pn");function bc(){return aa===void 0&&(aa=!!xl(Oa.LocalStorage)),aa}o(bc,"Rr");function Eh(e,t){var n=_c();if(n!==null)try{return n.getItem(t)}catch(r){aa=!1,e.throwInternal(Dt.WARNING,yt.BrowserCannotReadLocalStorage,"Browser failed read of local storage. "+Bn(r),{exception:_n(r)})}return null}o(Eh,"dn");function Sh(e,t,n){var r=_c();if(r!==null)try{return r.setItem(t,n),!0}catch(i){aa=!1,e.throwInternal(Dt.WARNING,yt.BrowserCannotWriteLocalStorage,"Browser failed write to local storage. "+Bn(i),{exception:_n(i)})}return!1}o(Sh,"gn");function Ch(e,t){var n=_c();if(n!==null)try{return n.removeItem(t),!0}catch(r){aa=!1,e.throwInternal(Dt.WARNING,yt.BrowserFailedRemovalFromLocalStorage,"Browser failed removal of local storage item. "+Bn(r),{exception:_n(r)})}return!1}o(Ch,"vn");function go(){return oa===void 0&&(oa=!!xl(Oa.SessionStorage)),oa}o(go,"wt");function Qv(){var e=[];return go()&&vr(Dr("sessionStorage"),function(t){e.push(t)}),e}o(Qv,"La");function bl(e,t){var n=xc();if(n!==null)try{return n.getItem(t)}catch(r){oa=!1,e.throwInternal(Dt.WARNING,yt.BrowserCannotReadSessionStorage,"Browser failed read of session storage. "+Bn(r),{exception:_n(r)})}return null}o(bl,"Yt");function El(e,t,n){var r=xc();if(r!==null)try{return r.setItem(t,n),!0}catch(i){oa=!1,e.throwInternal(Dt.WARNING,yt.BrowserCannotWriteSessionStorage,"Browser failed write to session storage. "+Bn(i),{exception:_n(i)})}return!1}o(El,"$t");function Th(e,t){var n=xc();if(n!==null)try{return n.removeItem(t),!0}catch(r){oa=!1,e.throwInternal(Dt.WARNING,yt.BrowserFailedRemovalFromSessionStorage,"Browser failed removal of session storage item. "+Bn(r),{exception:_n(r)})}return!1}o(Th,"mn");var aa,oa,Ih=it(()=>{In(),xh(),aa=void 0,oa=void 0});function Xo(e){var t=Cc,n=Fh,r=n[t];return Sc.createElement?n[t]||(r=n[t]=Sc.createElement("a")):r={host:Dh(e,!0)},r.href=e,t++,t>=n.length&&(t=0),Cc=t,r}o(Xo,"gr");function Ah(e){var t,n=Xo(e);return n&&(t=n.href),t}o(Ah,"hn");function Xv(e){var t,n=Xo(e);return n&&(t=n.pathname),t}o(Xv,"Ua");function Rh(e,t){return e?e.toUpperCase()+" "+t:t}o(Rh,"xn");function Dh(e,t){var n=Ec(e,t)||"";if(n){var r=n.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i);if(r!=null&&r.length>3&&En(r[2])&&r[2].length>0)return r[2]+(r[3]||"")}return n}o(Dh,"vi");function Ec(e,t){var n=null;if(e){var r=e.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i);if(r!=null&&r.length>2&&En(r[2])&&r[2].length>0&&(n=r[2]||"",t&&r.length>2)){var i=(r[1]||"").toLowerCase(),a=r[3]||"";(i==="http"&&a===":80"||i==="https"&&a===":443")&&(a=""),n+=a}}return n}o(Ec,"yn");var Sc,Cc,Fh,kh=it(()=>{In(),Sc=bi()||{},Cc=0,Fh=[null,null,null,null,null]});function Sl(e){return Ph.indexOf(e.toLowerCase())!==-1}o(Sl,"Mr");function Jv(e,t,n,r){var i,a=r,s=r;if(t&&t.length>0){var l=Xo(t);if(i=l.host,!a)if(l.pathname!=null){var c=l.pathname.length===0?"/":l.pathname;c.charAt(0)!=="/"&&(c="/"+c),s=l.pathname,a=Mr(e,n?n+" "+c:c)}else a=Mr(e,t)}else i=r,a=r;return{target:i,name:a,data:s}}o(Jv,"Cs");function Jo(){var e=Ui();if(e&&e.now&&e.timing){var t=e.now()+e.timing.navigationStart;if(t>0)return t}return Yr()}o(Jo,"vr");function Lr(e,t){var n=null;return e!==0&&t!==0&&!Ft(e)&&!Ft(t)&&(n=t-e),n}o(Lr,"ve");var Ph,Tc,Oh,sa,Mh,Lh=it(()=>{In(),dh(),ci(),yh(),yl(),fi(),Ih(),kh(),Ph=["https://dc.services.visualstudio.com/v2/track","https://breeze.aimon.applicationinsights.io/v2/track","https://dc-int.services.visualstudio.com/v2/track"],Tc={NotSpecified:ti,createDomEvent:fo,disableStorage:bh,isInternalApplicationInsightsEndpoint:Sl,canUseLocalStorage:bc,getStorage:Eh,setStorage:Sh,removeStorage:Ch,canUseSessionStorage:go,getSessionStorageKeys:Qv,getSessionStorage:bl,setSessionStorage:El,removeSessionStorage:Th,disableCookies:sh,canUseCookies:Hv,disallowsSameSiteNone:Jd,setCookie:Wv,stringToBoolOrDefault:Kn,getCookie:zv,deleteCookie:jv,trim:Cr,newId:vl,random32:function(){return Fa(!0)},generateW3CId:Si,isArray:Bi,isError:Js,isDate:Tu,toISOStringForIE8:na,getIEVersion:Lu,msToTimeSpan:zi,isCrossOriginError:_h,dump:_n,getExceptionName:Bn,addEventHandler:Uo,IsBeaconApiSupported:yc,getExtension:wh},Oh={parseUrl:Xo,getAbsoluteUrl:Ah,getPathName:Xv,getCompleteUrl:Rh,parseHost:Dh,parseFullHost:Ec},sa={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(e,t,n){if(!t||e&&e.disableCorrelationHeaders)return!1;if(e&&e.correlationHeaderExcludePatterns){for(var r=0;r<e.correlationHeaderExcludePatterns.length;r++)if(e.correlationHeaderExcludePatterns[r].test(t))return!1}var i=Xo(t).host.toLowerCase();if(i&&(i.indexOf(":443")!==-1||i.indexOf(":80")!==-1)&&(i=(Ec(t,!0)||"").toLowerCase()),(!e||!e.enableCorsCorrelation)&&i&&i!==n)return!1;var a=e&&e.correlationHeaderDomains;if(a){var s;if(Sn(a,function(u){var f=new RegExp(u.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));s=s||f.test(i)}),!s)return!1}var l=e&&e.correlationHeaderExcludedDomains;if(!l||l.length===0)return!0;for(var r=0;r<l.length;r++){var c=new RegExp(l[r].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(c.test(i))return!1}return i&&i.length>0},getCorrelationContext:function(e){if(e){var t=sa.getCorrelationContextValue(e,Qn.requestContextTargetKey);if(t&&t!==sa.correlationIdPrefix)return t}},getCorrelationContextValue:function(e,t){if(e)for(var n=e.split(","),r=0;r<n.length;++r){var i=n[r].split("=");if(i.length===2&&i[0]===t)return i[1]}}},Mh={Now:Jo,GetDuration:Lr}});function Nh(e){if(!e)return{};var t=e.split(Bh),n=yd(t,function(i,a){var s=a.split(Uh);if(s.length===2){var l=s[0].toLowerCase(),c=s[1];i[l]=c}return i},{});if(Ta(n).length>0){if(n.endpointsuffix){var r=n.location?n.location+".":"";n.ingestionendpoint=n.ingestionendpoint||"https://"+r+"dc."+n.endpointsuffix}n.ingestionendpoint=n.ingestionendpoint||wc}return n}o(Nh,"mi");var Bh,Uh,$h,Yv=it(()=>{fi(),In(),Bh=";",Uh="=",$h={parse:Nh}}),Ic,Hh=it(()=>{Ic=function(){function e(){}return o(e,"t"),e}()}),Ac,zh=it(()=>{Vn(),Hh(),Ac=function(e){zn(t,e);function t(){return e.call(this)||this}return o(t,"e"),t}(Ic)}),Wh,em=it(()=>{Wh=function(){function e(){this.ver=1,this.sampleRate=100,this.tags={}}return o(e,"t"),e}()}),Rc,tm=it(()=>{Vn(),em(),ci(),In(),fi(),Rc=function(e){zn(t,e);function t(n,r,i){var a=e.call(this)||this;return a.name=Mr(n,i)||ti,a.data=r,a.time=na(new Date),a.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return a.sampleRate===100?4:1},tags:1,data:1},a}return o(t,"e"),t}(Wh)}),Dc,jh=it(()=>{Dc=function(){function e(){this.ver=2,this.properties={},this.measurements={}}return o(e,"t"),e}()}),hi,nm=it(()=>{Vn(),jh(),ci(),fi(),hi=function(e){zn(t,e);function t(n,r,i,a){var s=e.call(this)||this;return s.aiDataContract={ver:1,name:1,properties:0,measurements:0},s.name=Mr(n,r)||ti,s.properties=ra(n,i),s.measurements=ia(n,a),s}return o(t,"e"),t.envelopeType="Microsoft.ApplicationInsights.{0}.Event",t.dataType="EventData",t}(Dc)}),Kh,rm=it(()=>{Kh=function(){function e(){}return o(e,"t"),e}()}),qh,im=it(()=>{qh=function(){function e(){this.ver=2,this.exceptions=[],this.properties={},this.measurements={}}return o(e,"t"),e}()}),Vh,am=it(()=>{Vh=function(){function e(){this.hasFullStack=!0,this.parsedStack=[]}return o(e,"t"),e}()});function Fc(e,t){var n=e;return n&&!En(n)&&(JSON&&JSON.stringify?(n=JSON.stringify(e),t&&(!n||n==="{}")&&(Dn(e.toString)?n=e.toString():n=""+e)):n=""+e+" - (Missing JSON.stringify)"),n||""}o(Fc,"Ja");function Gh(e,t){var n=e;return e&&(n=e[Il]||e[Oc]||"",n&&!En(n)&&(n=Fc(n,!0)),e.filename&&(n=n+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),t&&t!=="String"&&t!=="Object"&&t!=="Error"&&(n||"").indexOf(t)===-1&&(n=t+": "+n),n||""}o(Gh,"Os");function om(e){return Ca(e)?"hasFullStack"in e&&"typeName"in e:!1}o(om,"pl");function sm(e){return Ca(e)?"ver"in e&&"exceptions"in e&&"properties"in e:!1}o(sm,"dl");function Zh(e){return e&&e.src&&En(e.src)&&e.obj&&Bi(e.obj)}o(Zh,"Ls");function po(e){var t=e||"";En(t)||(En(t[qr])?t=t[qr]:t=""+t);var n=t.split(`
`);return{src:t,obj:n}}o(po,"Lr");function lm(e){for(var t=[],n=e.split(`
`),r=0;r<n.length;r++){var i=n[r];n[r+1]&&(i+="@"+n[r+1],r++),t.push(i)}return{src:e,obj:t}}o(lm,"gl");function Qh(e){var t=null;if(e)try{if(e[qr])t=po(e[qr]);else if(e[Ma]&&e[Ma][qr])t=po(e[Ma][qr]);else if(e.exception&&e.exception[qr])t=po(e.exception[qr]);else if(Zh(e))t=e;else if(Zh(e[Tl]))t=e[Tl];else if(window.opera&&e[Il])t=lm(e.message);else if(En(e))t=po(e);else{var n=e[Il]||e[Oc]||"";En(e[Pc])&&(n&&(n+=`
`),n+=" from "+e[Pc]),n&&(t=po(n))}}catch(r){t=po(r)}return t||{src:"",obj:null}}o(Qh,"Bs");function um(e){var t="";return e&&(e.obj?Sn(e.obj,function(n){t+=n+`
`}):t=e.src||""),t}o(um,"vl");function cm(e){var t,n=e.obj;if(n&&n.length>0){t=[];var r=0,i=0;Sn(n,function(j){var Q=j.toString();if(Al.regex.test(Q)){var z=new Al(Q,r++);i+=z.sizeInBytes,t.push(z)}});var a=32*1024;if(i>a)for(var s=0,l=t.length-1,c=0,u=s,f=l;s<l;){var y=t[s].sizeInBytes,m=t[l].sizeInBytes;if(c+=y+m,c>a){var C=f-u+1;t.splice(u,C);break}u=s,f=l,s++,l--}}return t}o(cm,"ml");function Cl(e){var t="";if(e&&(t=e.typeName||e.name||"",!t))try{var n=/function (.{1,200})\(/,r=n.exec(e.constructor.toString());t=r&&r.length>1?r[1]:""}catch(i){}return t}o(Cl,"xi");function kc(e){if(e)try{if(!En(e)){var t=Cl(e),n=Fc(e,!1);return(!n||n==="{}")&&(e[Ma]&&(e=e[Ma],t=Cl(e)),n=Fc(e,!0)),n.indexOf(t)!==0&&t!=="String"?t+":"+n:n}}catch(r){}return""+(e||"")}o(kc,"Ka");var Xh,Ma,qr,Tl,Pc,Il,Oc,Nr,Mc,Al,fm=it(()=>{Vn(),rm(),im(),am(),ci(),In(),fi(),Xh="<no_method>",Ma="error",qr="stack",Tl="stackDetails",Pc="errorSrc",Il="message",Oc="description",Nr=function(e){zn(t,e);function t(n,r,i,a,s,l){var c=e.call(this)||this;return c.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0},sm(r)?(c.exceptions=r.exceptions,c.properties=r.properties,c.measurements=r.measurements,r.severityLevel&&(c.severityLevel=r.severityLevel),r.id&&(c.id=r.id),r.problemGroup&&(c.problemGroup=r.problemGroup),c.ver=2,Ft(r.isManual)||(c.isManual=r.isManual)):(i||(i={}),c.exceptions=[new Mc(n,r,i)],c.properties=ra(n,i),c.measurements=ia(n,a),s&&(c.severityLevel=s),l&&(c.id=l)),c}return o(t,"e"),t.CreateAutoException=function(n,r,i,a,s,l,c,u){var f=Cl(s||l||n);return{message:Gh(n,f),url:r,lineNumber:i,columnNumber:a,error:kc(s||l||n),evt:kc(l||n),typeName:f,stackDetails:Qh(c||s||l),errorSrc:u}},t.CreateFromInterface=function(n,r,i,a){var s=r.exceptions&&Ho(r.exceptions,function(c){return Mc.CreateFromInterface(n,c)}),l=new t(n,Ja({},r,{exceptions:s}),i,a);return l},t.prototype.toInterface=function(){var n=this,r=n.exceptions,i=n.properties,a=n.measurements,s=n.severityLevel,l=n.ver,c=n.problemGroup,u=n.id,f=n.isManual,y=r instanceof Array&&Ho(r,function(m){return m.toInterface()})||void 0;return{ver:"4.0",exceptions:y,severityLevel:s,properties:i,measurements:a,problemGroup:c,id:u,isManual:f}},t.CreateSimpleException=function(n,r,i,a,s,l){return{exceptions:[{hasFullStack:!0,message:n,stack:s,typeName:r}]}},t.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",t.dataType="ExceptionData",t.formatError=kc,t}(qh),Mc=function(e){zn(t,e);function t(n,r,i){var a=e.call(this)||this;if(a.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2},om(r))a.typeName=r.typeName,a.message=r.message,a[qr]=r[qr],a.parsedStack=r.parsedStack,a.hasFullStack=r.hasFullStack;else{var s=r,l=s&&s.evt;Js(s)||(s=s[Ma]||l||s),a.typeName=Mr(n,Cl(s))||ti,a.message=vc(n,Gh(r||s,a.typeName))||ti;var c=r[Tl]||Qh(r);a.parsedStack=cm(c),a[qr]=gh(n,um(c)),a.hasFullStack=Bi(a.parsedStack)&&a.parsedStack.length>0,i&&(i.typeName=i.typeName||a.typeName)}return a}return o(t,"e"),t.prototype.toInterface=function(){var n=this.parsedStack instanceof Array&&Ho(this.parsedStack,function(i){return i.toInterface()}),r={id:this.id,outerId:this.outerId,typeName:this.typeName,message:this.message,hasFullStack:this.hasFullStack,stack:this[qr],parsedStack:n||void 0};return r},t.CreateFromInterface=function(n,r){var i=r.parsedStack instanceof Array&&Ho(r.parsedStack,function(s){return Al.CreateFromInterface(s)})||r.parsedStack,a=new t(n,Ja({},r,{parsedStack:i}));return a},t}(Vh),Al=function(e){zn(t,e);function t(n,r){var i=e.call(this)||this;if(i.sizeInBytes=0,i.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0},typeof n=="string"){var a=n;i.level=r,i.method=Xh,i.assembly=Cr(a),i.fileName="",i.line=0;var s=a.match(t.regex);s&&s.length>=5&&(i.method=Cr(s[2])||i.method,i.fileName=Cr(s[4]),i.line=parseInt(s[5])||0)}else i.level=n.level,i.method=n.method,i.assembly=n.assembly,i.fileName=n.fileName,i.line=n.line,i.sizeInBytes=0;return i.sizeInBytes+=i.method.length,i.sizeInBytes+=i.fileName.length,i.sizeInBytes+=i.assembly.length,i.sizeInBytes+=t.baseSize,i.sizeInBytes+=i.level.toString().length,i.sizeInBytes+=i.line.toString().length,i}return o(t,"e"),t.CreateFromInterface=function(n){return new t(n,null)},t.prototype.toInterface=function(){return{level:this.level,method:this.method,assembly:this.assembly,fileName:this.fileName,line:this.line}},t.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,t.baseSize=58,t}(Kh)}),Jh,dm=it(()=>{Jh=function(){function e(){this.ver=2,this.metrics=[],this.properties={},this.measurements={}}return o(e,"t"),e}()}),Lc,hm=it(()=>{(function(e){e[e.Measurement=0]="Measurement",e[e.Aggregation=1]="Aggregation"})(Lc||(Lc={}))}),Yh,gm=it(()=>{hm(),Yh=function(){function e(){this.kind=Lc.Measurement}return o(e,"t"),e}()}),eg,pm=it(()=>{Vn(),gm(),eg=function(e){zn(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},n}return o(t,"e"),t}(Yh)}),Ci,vm=it(()=>{Vn(),dm(),ci(),pm(),fi(),Ci=function(e){zn(t,e);function t(n,r,i,a,s,l,c,u){var f=e.call(this)||this;f.aiDataContract={ver:1,metrics:1,properties:0};var y=new eg;return y.count=a>0?a:void 0,y.max=isNaN(l)||l===null?void 0:l,y.min=isNaN(s)||s===null?void 0:s,y.name=Mr(n,r)||ti,y.value=i,f.metrics=[y],f.properties=ra(n,c),f.measurements=ia(n,u),f}return o(t,"e"),t.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",t.dataType="MetricData",t}(Jh)}),Rl,Nc=it(()=>{Vn(),jh(),Rl=function(e){zn(t,e);function t(){var n=e.call(this)||this;return n.ver=2,n.properties={},n.measurements={},n}return o(t,"e"),t}(Dc)}),gi,mm=it(()=>{Vn(),Nc(),ci(),yl(),fi(),gi=function(e){zn(t,e);function t(n,r,i,a,s,l,c){var u=e.call(this)||this;return u.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0},u.id=ph(n,c),u.url=Qo(n,i),u.name=Mr(n,r)||ti,isNaN(a)||(u.duration=zi(a)),u.properties=ra(n,s),u.measurements=ia(n,l),u}return o(t,"e"),t.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",t.dataType="PageviewData",t}(Rl)}),tg,ym=it(()=>{tg=function(){function e(){this.ver=2,this.success=!0,this.properties={},this.measurements={}}return o(e,"t"),e}()}),Ti,wm=it(()=>{Vn(),ci(),Lh(),ym(),yl(),Ti=function(e){zn(t,e);function t(n,r,i,a,s,l,c,u,f,y,m,C){f===void 0&&(f="Ajax");var j=e.call(this)||this;j.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0},j.id=r,j.duration=zi(s),j.success=l,j.resultCode=c+"",j.type=Mr(n,f);var Q=Jv(n,i,u,a);return j.data=Qo(n,a)||Q.data,j.target=Mr(n,Q.target),y&&(j.target=j.target+" | "+y),j.name=Mr(n,Q.name),j.properties=ra(n,m),j.measurements=ia(n,C),j}return o(t,"e"),t.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",t.dataType="RemoteDependencyData",t}(tg)}),ng,_m=it(()=>{ng=function(){function e(){this.ver=2,this.properties={},this.measurements={}}return o(e,"t"),e}()}),Wi,xm=it(()=>{Vn(),_m(),ci(),fi(),Wi=function(e){zn(t,e);function t(n,r,i,a,s){var l=e.call(this)||this;return l.aiDataContract={ver:1,message:1,severityLevel:0,properties:0},r=r||ti,l.message=vc(n,r),l.properties=ra(n,a),l.measurements=ia(n,s),i&&(l.severityLevel=i),l}return o(t,"e"),t.envelopeType="Microsoft.ApplicationInsights.{0}.Message",t.dataType="MessageData",t}(ng)}),rg,bm=it(()=>{Vn(),Nc(),rg=function(e){zn(t,e);function t(){var n=e.call(this)||this;return n.ver=2,n.properties={},n.measurements={},n}return o(t,"e"),t}(Rl)}),ji,Em=it(()=>{Vn(),bm(),ci(),fi(),ji=function(e){zn(t,e);function t(n,r,i,a,s,l,c){var u=e.call(this)||this;return u.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0},u.url=Qo(n,i),u.name=Mr(n,r)||ti,u.properties=ra(n,s),u.measurements=ia(n,l),c&&(u.domProcessing=c.domProcessing,u.duration=c.duration,u.networkConnect=c.networkConnect,u.perfTotal=c.perfTotal,u.receivedResponse=c.receivedResponse,u.sentRequest=c.sentRequest),u}return o(t,"e"),t.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",t.dataType="PageviewPerformanceData",t}(rg)}),Ki,Sm=it(()=>{Vn(),zh(),Ki=function(e){zn(t,e);function t(n,r){var i=e.call(this)||this;return i.aiDataContract={baseType:1,baseData:1},i.baseType=n,i.baseData=r,i}return o(t,"e"),t}(Ac)}),Yo,Cm=it(()=>{(function(e){e[e.Verbose=0]="Verbose",e[e.Information=1]="Information",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.Critical=4]="Critical"})(Yo||(Yo={}))}),ig,Tm=it(()=>{In(),ig=function(){function e(){}return o(e,"t"),e.getConfig=function(t,n,r,i){i===void 0&&(i=!1);var a;return r&&t.extensionConfig&&t.extensionConfig[r]&&!Ft(t.extensionConfig[r][n])?a=t.extensionConfig[r][n]:a=t[n],Ft(a)?i:a},e}()});function la(e){var t="ai."+e+".";return function(n){return t+n}}o(la,"tr");var vo,gr,es,La,Dl,qi,ua,mo,Fl,ag=it(()=>{Vn(),In(),vo=la("application"),gr=la("device"),es=la("location"),La=la("operation"),Dl=la("session"),qi=la("user"),ua=la("cloud"),mo=la("internal"),Fl=function(e){zn(t,e);function t(){return e.call(this)||this}return o(t,"e"),t}(xv({applicationVersion:vo("ver"),applicationBuild:vo("build"),applicationTypeId:vo("typeId"),applicationId:vo("applicationId"),applicationLayer:vo("layer"),deviceId:gr("id"),deviceIp:gr("ip"),deviceLanguage:gr("language"),deviceLocale:gr("locale"),deviceModel:gr("model"),deviceFriendlyName:gr("friendlyName"),deviceNetwork:gr("network"),deviceNetworkName:gr("networkName"),deviceOEMName:gr("oemName"),deviceOS:gr("os"),deviceOSVersion:gr("osVersion"),deviceRoleInstance:gr("roleInstance"),deviceRoleName:gr("roleName"),deviceScreenResolution:gr("screenResolution"),deviceType:gr("type"),deviceMachineName:gr("machineName"),deviceVMName:gr("vmName"),deviceBrowser:gr("browser"),deviceBrowserVersion:gr("browserVersion"),locationIp:es("ip"),locationCountry:es("country"),locationProvince:es("province"),locationCity:es("city"),operationId:La("id"),operationName:La("name"),operationParentId:La("parentId"),operationRootId:La("rootId"),operationSyntheticSource:La("syntheticSource"),operationCorrelationVector:La("correlationVector"),sessionId:Dl("id"),sessionIsFirst:Dl("isFirst"),sessionIsNew:Dl("isNew"),userAccountAcquisitionDate:qi("accountAcquisitionDate"),userAccountId:qi("accountId"),userAgent:qi("userAgent"),userId:qi("id"),userStoreRegion:qi("storeRegion"),userAuthUserId:qi("authUserId"),userAnonymousUserAcquisitionDate:qi("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:qi("authUserAcquisitionDate"),cloudName:ua("name"),cloudRole:ua("role"),cloudRoleVer:ua("roleVer"),cloudRoleInstance:ua("roleInstance"),cloudEnvironment:ua("environment"),cloudLocation:ua("location"),cloudDeploymentUnit:ua("deploymentUnit"),internalNodeName:mo("nodeName"),internalSdkVersion:mo("sdkVersion"),internalAgentVersion:mo("agentVersion"),internalSnippet:mo("snippet"),internalSdkSrc:mo("sdkSrc")}))}),Ii,Im=it(()=>{ci(),In(),fi(),Ii=function(){function e(){}return o(e,"t"),e.create=function(t,n,r,i,a,s){if(r=Mr(i,r)||ti,Ft(t)||Ft(n)||Ft(r))throw Error("Input doesn't contain all required fields");var l={name:r,time:na(new Date),iKey:"",ext:s||{},tags:[],data:{},baseType:n,baseData:t};return Ft(a)||vr(a,function(c,u){l.data[c]=u}),l},e}()}),Br,Gn,Am=it(()=>{ag(),Br={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},Gn=new Fl}),yo,kl,Bc,mr=it(()=>{Lh(),Yv(),dh(),fi(),zh(),Hh(),tm(),nm(),fm(),vm(),mm(),Nc(),wm(),xm(),Em(),Sm(),Cm(),Tm(),ag(),ci(),Im(),Am(),xh(),yl(),yh(),Ih(),kh(),yo="AppInsightsPropertiesPlugin",kl="AppInsightsChannelPlugin",Bc="ApplicationInsightsAnalytics"}),og,Rm=it(()=>{mr(),In(),br(),og=function(){function e(t,n,r,i){ur(e,this,function(a){var s=null,l=[],c=!1,u;r&&(u=r.logger);function f(){r&&Sn(r.getTransmissionControls(),function(m){Sn(m,function(C){return C.flush(!0)})})}o(f,"l");function y(m){l.push(m),s||(s=setInterval(function(){var C=l.slice(0),j=!1;l=[],Sn(C,function(Q){Q()?j=!0:l.push(Q)}),l.length===0&&(clearInterval(s),s=null),j&&f()},100))}o(y,"f"),a.trackPageView=function(m,C){var j=m.name;if(Ft(j)||typeof j!="string"){var Q=bi();j=m.name=Q&&Q.title||""}var z=m.uri;if(Ft(z)||typeof z!="string"){var G=Ia();z=m.uri=G&&G.href||""}if(!i.isPerformanceTimingSupported()){t.sendPageViewInternal(m,C),f(),u.throwInternal(Dt.WARNING,yt.NavigationTimingNotSupported,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");return}var re=!1,fe,le=i.getPerformanceTiming().navigationStart;le>0&&(fe=Lr(le,+new Date),i.shouldCollectDuration(fe)||(fe=void 0));var be;!Ft(C)&&!Ft(C.duration)&&(be=C.duration),(n||!isNaN(be))&&(isNaN(be)&&(C||(C={}),C.duration=fe),t.sendPageViewInternal(m,C),f(),re=!0);var Je=6e4;C||(C={}),y(function(){var Ue=!1;try{if(i.isPerformanceTimingDataReady()){Ue=!0;var Oe={name:j,uri:z};i.populatePageViewPerformanceEvent(Oe),!Oe.isValid&&!re?(C.duration=fe,t.sendPageViewInternal(m,C)):(re||(C.duration=Oe.durationMs,t.sendPageViewInternal(m,C)),c||(t.sendPageViewPerformanceInternal(Oe,C),c=!0))}else le>0&&Lr(le,+new Date)>Je&&(Ue=!0,re||(C.duration=Je,t.sendPageViewInternal(m,C)))}catch(vt){u.throwInternal(Dt.CRITICAL,yt.TrackPVFailedCalc,"trackPageView failed on page load calculation: "+Bn(vt),{exception:_n(vt)})}return Ue})}})}return o(e,"t"),e}()}),sg,lg,Dm=it(()=>{mr(),In(),sg=function(){function e(t,n){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=n,this._logger=t}return o(e,"t"),e.prototype.trackPreviousPageVisit=function(t,n){try{var r=this.restartPageVisitTimer(t,n);r&&this.pageVisitTimeTrackingHandler(r.pageName,r.pageUrl,r.pageVisitTime)}catch(i){this._logger.warnToConsole("Auto track page visit time failed, metric will not be collected: "+_n(i))}},e.prototype.restartPageVisitTimer=function(t,n){try{var r=this.stopPageVisitTimer();return this.startPageVisitTimer(t,n),r}catch(i){return this._logger.warnToConsole("Call to restart failed: "+_n(i)),null}},e.prototype.startPageVisitTimer=function(t,n){try{if(go()){bl(this._logger,this.prevPageVisitDataKeyName)!=null&&xi("Cannot call startPageVisit consecutively without first calling stopPageVisit");var r=new lg(t,n),i=ui().stringify(r);El(this._logger,this.prevPageVisitDataKeyName,i)}}catch(a){this._logger.warnToConsole("Call to start failed: "+_n(a))}},e.prototype.stopPageVisitTimer=function(){try{if(go()){var t=Yr(),n=bl(this._logger,this.prevPageVisitDataKeyName);if(n&&no()){var r=ui().parse(n);return r.pageVisitTime=t-r.pageVisitStartTime,Th(this._logger,this.prevPageVisitDataKeyName),r}else return null}return null}catch(i){return this._logger.warnToConsole("Stop page visit timer failed: "+_n(i)),null}},e}(),lg=function(){function e(t,n){this.pageVisitStartTime=Yr(),this.pageName=t,this.pageUrl=n}return o(e,"t"),e}()}),ug,Fm=it(()=>{mr(),In(),ug=function(){function e(t){this.MAX_DURATION_ALLOWED=36e5,t&&(this._logger=t.logger)}return o(e,"t"),e.prototype.populatePageViewPerformanceEvent=function(t){t.isValid=!1;var n=this.getPerformanceNavigationTiming(),r=this.getPerformanceTiming(),i=0,a=0,s=0,l=0,c=0;(n||r)&&(n?(i=n.duration,a=n.startTime===0?n.connectEnd:Lr(n.startTime,n.connectEnd),s=Lr(n.requestStart,n.responseStart),l=Lr(n.responseStart,n.responseEnd),c=Lr(n.responseEnd,n.loadEventEnd)):(i=Lr(r.navigationStart,r.loadEventEnd),a=Lr(r.navigationStart,r.connectEnd),s=Lr(r.requestStart,r.responseStart),l=Lr(r.responseStart,r.responseEnd),c=Lr(r.responseEnd,r.loadEventEnd)),i===0?this._logger.throwInternal(Dt.WARNING,yt.ErrorPVCalc,"error calculating page view performance.",{total:i,network:a,request:s,response:l,dom:c}):this.shouldCollectDuration(i,a,s,l,c)?i<Math.floor(a)+Math.floor(s)+Math.floor(l)+Math.floor(c)?this._logger.throwInternal(Dt.WARNING,yt.ClientPerformanceMathError,"client performance math error.",{total:i,network:a,request:s,response:l,dom:c}):(t.durationMs=i,t.perfTotal=t.duration=zi(i),t.networkConnect=zi(a),t.sentRequest=zi(s),t.receivedResponse=zi(l),t.domProcessing=zi(c),t.isValid=!0):this._logger.throwInternal(Dt.WARNING,yt.InvalidDurationValue,"Invalid page load duration value. Browser perf data won't be sent.",{total:i,network:a,request:s,response:l,dom:c}))},e.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?Ui().timing:null},e.prototype.getPerformanceNavigationTiming=function(){return this.isPerformanceNavigationTimingSupported()?Ui().getEntriesByType("navigation")[0]:null},e.prototype.isPerformanceNavigationTimingSupported=function(){var t=Ui();return t&&t.getEntriesByType&&t.getEntriesByType("navigation").length>0},e.prototype.isPerformanceTimingSupported=function(){var t=Ui();return t&&t.timing},e.prototype.isPerformanceTimingDataReady=function(){var t=Ui(),n=t?t.timing:0;return n&&n.domainLookupStart>0&&n.navigationStart>0&&n.responseStart>0&&n.requestStart>0&&n.loadEventEnd>0&&n.responseEnd>0&&n.connectEnd>0&&n.domLoading>0},e.prototype.shouldCollectDuration=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Ei()||{},i=["googlebot","adsbot-google","apis-google","mediapartners-google"],a=r.userAgent,s=!1;if(a)for(var l=0;l<i.length;l++)s=s||a.toLowerCase().indexOf(i[l])!==-1;if(s)return!1;for(var l=0;l<t.length;l++)if(t[l]<0||t[l]>=this.MAX_DURATION_ALLOWED)return!1;return!0},e}()});function ts(e,t){e&&e.dispatchEvent&&t&&e.dispatchEvent(t)}o(ts,"Pn");var Uc,Pl,$c,Hc,km=it(()=>{Vn(),mr(),In(),Rm(),Dm(),Fm(),br(),Uc="duration",Pl="event",$c=function(e){zn(t,e);function t(){var n=e.call(this)||this;n.identifier=Bc,n.priority=180,n.autoRoutePVDelay=500;var r,i,a,s=0,l,c;return ur(t,n,function(u,f){var y=Ia(!0);l=y&&y.href||"",u.getCookieMgr=function(){return Zu(u.core)},u.processTelemetry=function(z,G){io(u.core,function(){return u.identifier+":processTelemetry"},function(){var re=!1,fe=u._telemetryInitializers.length;G=u._getTelCtx(G);for(var le=0;le<fe;++le){var be=u._telemetryInitializers[le];if(be)try{if(be.apply(null,[z])===!1){re=!0;break}}catch(Je){G.diagLog().throwInternal(Dt.CRITICAL,yt.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+Bn(Je),{exception:_n(Je)},!0)}}re||u.processNext(z,G)},function(){return{item:z}},!z.sync)},u.trackEvent=function(z,G){try{var re=Ii.create(z,hi.dataType,hi.envelopeType,u.diagLog(),G);u.core.track(re)}catch(fe){u.diagLog().throwInternal(Dt.WARNING,yt.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+Bn(fe),{exception:_n(fe)})}},u.startTrackEvent=function(z){try{r.start(z)}catch(G){u.diagLog().throwInternal(Dt.CRITICAL,yt.StartTrackEventFailed,"startTrackEvent failed, event will not be collected: "+Bn(G),{exception:_n(G)})}},u.stopTrackEvent=function(z,G,re){try{r.stop(z,void 0,G)}catch(fe){u.diagLog().throwInternal(Dt.CRITICAL,yt.StopTrackEventFailed,"stopTrackEvent failed, event will not be collected: "+Bn(fe),{exception:_n(fe)})}},u.trackTrace=function(z,G){try{var re=Ii.create(z,Wi.dataType,Wi.envelopeType,u.diagLog(),G);u.core.track(re)}catch(fe){u.diagLog().throwInternal(Dt.WARNING,yt.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+Bn(fe),{exception:_n(fe)})}},u.trackMetric=function(z,G){try{var re=Ii.create(z,Ci.dataType,Ci.envelopeType,u.diagLog(),G);u.core.track(re)}catch(fe){u.diagLog().throwInternal(Dt.CRITICAL,yt.TrackMetricFailed,"trackMetric failed, metric will not be collected: "+Bn(fe),{exception:_n(fe)})}},u.trackPageView=function(z,G){try{var re=z||{};u._pageViewManager.trackPageView(re,Ja({},re.properties,re.measurements,G)),u.config.autoTrackPageVisitTime&&u._pageVisitTimeManager.trackPreviousPageVisit(re.name,re.uri)}catch(fe){u.diagLog().throwInternal(Dt.CRITICAL,yt.TrackPVFailed,"trackPageView failed, page view will not be collected: "+Bn(fe),{exception:_n(fe)})}},u.sendPageViewInternal=function(z,G,re){var fe=bi();fe&&(z.refUri=z.refUri===void 0?fe.referrer:z.refUri);var le=Ii.create(z,gi.dataType,gi.envelopeType,u.diagLog(),G,re);u.core.track(le),s=0},u.sendPageViewPerformanceInternal=function(z,G,re){var fe=Ii.create(z,ji.dataType,ji.envelopeType,u.diagLog(),G,re);u.core.track(fe)},u.trackPageViewPerformance=function(z,G){try{u._pageViewPerformanceManager.populatePageViewPerformanceEvent(z),u.sendPageViewPerformanceInternal(z,G)}catch(re){u.diagLog().throwInternal(Dt.CRITICAL,yt.TrackPVFailed,"trackPageViewPerformance failed, page view will not be collected: "+Bn(re),{exception:_n(re)})}},u.startTrackPage=function(z){try{if(typeof z!="string"){var G=bi();z=G&&G.title||""}i.start(z)}catch(re){u.diagLog().throwInternal(Dt.CRITICAL,yt.StartTrackFailed,"startTrackPage failed, page view may not be collected: "+Bn(re),{exception:_n(re)})}},u.stopTrackPage=function(z,G,re,fe){try{if(typeof z!="string"){var le=bi();z=le&&le.title||""}if(typeof G!="string"){var be=Ia();G=be&&be.href||""}i.stop(z,G,re,fe),u.config.autoTrackPageVisitTime&&u._pageVisitTimeManager.trackPreviousPageVisit(z,G)}catch(Je){u.diagLog().throwInternal(Dt.CRITICAL,yt.StopTrackFailed,"stopTrackPage failed, page view will not be collected: "+Bn(Je),{exception:_n(Je)})}},u.sendExceptionInternal=function(z,G,re){var fe=z.exception||z.error||new Error(ti),le=new Nr(u.diagLog(),fe,z.properties||G,z.measurements,z.severityLevel,z.id).toInterface(),be=Ii.create(le,Nr.dataType,Nr.envelopeType,u.diagLog(),G,re);u.core.track(be)},u.trackException=function(z,G){try{u.sendExceptionInternal(z,G)}catch(re){u.diagLog().throwInternal(Dt.CRITICAL,yt.TrackExceptionFailed,"trackException failed, exception will not be collected: "+Bn(re),{exception:_n(re)})}},u._onerror=function(z){var G=z&&z.error,re=z&&z.evt;try{if(!re){var fe=zo();fe&&(re=fe[Pl])}var le=z&&z.url||(bi()||{}).URL,be=z.errorSrc||"window.onerror@"+le+":"+(z.lineNumber||0)+":"+(z.columnNumber||0),Je={errorSrc:be,url:le,lineNumber:z.lineNumber||0,columnNumber:z.columnNumber||0,message:z.message};_h(z.message,z.url,z.lineNumber,z.columnNumber,z.error)?Q(Nr.CreateAutoException("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",le,z.lineNumber||0,z.columnNumber||0,G,re,null,be),Je):(z.errorSrc||(z.errorSrc=be),u.trackException({exception:z,severityLevel:Yo.Error},Je))}catch(Oe){var Ue=G?G.name+", "+G.message:"null";u.diagLog().throwInternal(Dt.CRITICAL,yt.ExceptionWhileLoggingError,"_onError threw exception while logging error, error will not be collected: "+Bn(Oe),{exception:_n(Oe),errorString:Ue})}},u.addTelemetryInitializer=function(z){u._telemetryInitializers.push(z)},u.initialize=function(z,G,re,fe){if(!u.isInitialized()){if(Ft(G))throw Error("Error initializing");f.initialize(z,G,re,fe),u.setInitialized(!1);var le=u._getTelCtx(),be=u.identifier;u.config=le.getExtCfg(be);var Je=t.getDefaultConfig(z);Je!==void 0&&vr(Je,function(xt,Vt){u.config[xt]=le.getConfig(be,xt,Vt),u.config[xt]===void 0&&(u.config[xt]=Vt)}),u.config.isStorageUseDisabled&&bh();var Ue={instrumentationKey:function(){return z.instrumentationKey},accountId:function(){return u.config.accountId||z.accountId},sessionRenewalMs:function(){return u.config.sessionRenewalMs||z.sessionRenewalMs},sessionExpirationMs:function(){return u.config.sessionExpirationMs||z.sessionExpirationMs},sampleRate:function(){return u.config.samplingPercentage||z.samplingPercentage},sdkExtension:function(){return u.config.sdkExtension||z.sdkExtension},isBrowserLinkTrackingEnabled:function(){return u.config.isBrowserLinkTrackingEnabled||z.isBrowserLinkTrackingEnabled},appId:function(){return u.config.appId||z.appId}};u._pageViewPerformanceManager=new ug(u.core),u._pageViewManager=new og(n,u.config.overridePageViewDuration,u.core,u._pageViewPerformanceManager),u._pageVisitTimeManager=new sg(u.diagLog(),function(xt,Vt,en){return m(xt,Vt,en)}),u._telemetryInitializers=u._telemetryInitializers||[],C(Ue),r=new Hc(u.diagLog(),"trackEvent"),r.action=function(xt,Vt,en,wn){wn||(wn={}),wn[Uc]=en.toString(),u.trackEvent({name:xt,properties:wn})},i=new Hc(u.diagLog(),"trackPageView"),i.action=function(xt,Vt,en,wn,On){Ft(wn)&&(wn={}),wn[Uc]=en.toString();var Xn={name:xt,uri:Vt,properties:wn,measurements:On};u.sendPageViewInternal(Xn,wn)};var Oe=zo(),vt=Tv(),Pe=Ia(!0),St=n;if(u.config.disableExceptionTracking===!1&&!u.config.autoExceptionInstrumented&&Oe){var un="onerror",kn=Oe[un];Oe.onerror=function(xt,Vt,en,wn,On){var Xn=Oe[Pl],_a=kn&&kn(xt,Vt,en,wn,On);return _a!==!0&&St._onerror(Nr.CreateAutoException(xt,Vt,en,wn,On,Xn)),_a},u.config.autoExceptionInstrumented=!0}if(u.config.disableExceptionTracking===!1&&u.config.enableUnhandledPromiseRejectionTracking===!0&&!u.config.autoUnhandledPromiseInstrumented&&Oe){var Se="onunhandledrejection",st=Oe[Se];Oe[Se]=function(xt){var Vt=Oe[Pl],en=st&&st.call(Oe,xt);return en!==!0&&St._onerror(Nr.CreateAutoException(xt.reason.toString(),Pe?Pe.href:"",0,0,xt,Vt)),en},u.config.autoUnhandledPromiseInstrumented=!0}if(u.config.enableAutoRouteTracking===!0&&vt&&Dn(vt.pushState)&&Dn(vt.replaceState)&&Oe&&typeof Event!="undefined"){var _t=n;Sn(re,function(xt){xt.identifier===yo&&(a=xt)}),vt.pushState=function(xt){return function(){var Vt=xt.apply(this,arguments);return ts(Oe,fo(_t.config.namePrefix+"pushState")),ts(Oe,fo(_t.config.namePrefix+"locationchange")),Vt}}(vt.pushState),vt.replaceState=function(xt){return function(){var Vt=xt.apply(this,arguments);return ts(Oe,fo(_t.config.namePrefix+"replaceState")),ts(Oe,fo(_t.config.namePrefix+"locationchange")),Vt}}(vt.replaceState),Oe.addEventListener&&(Oe.addEventListener(_t.config.namePrefix+"popstate",function(){ts(Oe,fo(_t.config.namePrefix+"locationchange"))}),Oe.addEventListener(_t.config.namePrefix+"locationchange",function(){if(a&&a.context&&a.context.telemetryTrace){a.context.telemetryTrace.traceID=Si();var xt="_unknown_";Pe&&Pe.pathname&&(xt=Pe.pathname+(Pe.hash||"")),a.context.telemetryTrace.name=xt}c&&(l=c),c=Pe&&Pe.href||"",setTimeout(function(Vt){_t.trackPageView({refUri:Vt,properties:{duration:0}})}.bind(n,l),_t.autoRoutePVDelay)}))}u.setInitialized(!0)}};function m(z,G,re){var fe={PageName:z,PageUrl:G};u.trackMetric({name:"PageVisitTime",average:re,max:re,min:re,sampleCount:1},fe)}o(m,"g");function C(z){if(!z.isBrowserLinkTrackingEnabled()){var G=["/browserLinkSignalR/","/__browserLink/"],re=o(function(fe){if(fe.baseType===Ti.dataType){var le=fe.baseData;if(le){for(var be=0;be<G.length;be++)if(le.target&&le.target.indexOf(G[be])>=0)return!1}}return!0},"y");j(re)}}o(C,"C");function j(z){u._telemetryInitializers.push(z)}o(j,"E");function Q(z,G){var re=Ii.create(z,Nr.dataType,Nr.envelopeType,u.diagLog(),G);u.core.track(re)}o(Q,"b")}),n}return o(t,"e"),t.getDefaultConfig=function(n){return n||(n={}),n.sessionRenewalMs=30*60*1e3,n.sessionExpirationMs=24*60*60*1e3,n.disableExceptionTracking=Kn(n.disableExceptionTracking),n.autoTrackPageVisitTime=Kn(n.autoTrackPageVisitTime),n.overridePageViewDuration=Kn(n.overridePageViewDuration),n.enableUnhandledPromiseRejectionTracking=Kn(n.enableUnhandledPromiseRejectionTracking),(isNaN(n.samplingPercentage)||n.samplingPercentage<=0||n.samplingPercentage>=100)&&(n.samplingPercentage=100),n.isStorageUseDisabled=Kn(n.isStorageUseDisabled),n.isBrowserLinkTrackingEnabled=Kn(n.isBrowserLinkTrackingEnabled),n.enableAutoRouteTracking=Kn(n.enableAutoRouteTracking),n.namePrefix=n.namePrefix||"",n.enableDebug=Kn(n.enableDebug),n.disableFlushOnBeforeUnload=Kn(n.disableFlushOnBeforeUnload),n.disableFlushOnUnload=Kn(n.disableFlushOnUnload,n.disableFlushOnBeforeUnload),n},t.Version="2.6.4",t}(Da),Hc=function(){function e(t,n){var r=this,i={};r.start=function(a){typeof i[a]!="undefined"&&t.throwInternal(Dt.WARNING,yt.StartCalledMoreThanOnce,"start was called more than once for this event without calling stop.",{name:a,key:a},!0),i[a]=+new Date},r.stop=function(a,s,l,c){var u=i[a];if(isNaN(u))t.throwInternal(Dt.WARNING,yt.StopCalledWithoutStart,"stop was called without a corresponding start.",{name:a,key:a},!0);else{var f=+new Date,y=Lr(u,f);r.action(a,s,y,l,c)}delete i[a],i[a]=void 0}}return o(e,"t"),e}()}),cg=it(()=>{km()}),fg,dg,Pm=it(()=>{mr(),In(),br(),fg=function(){function e(t){var n=[];ur(e,this,function(r){r.enqueue=function(i){n.push(i)},r.count=function(){return n.length},r.clear=function(){n.length=0},r.getItems=function(){return n.slice(0)},r.batchPayloads=function(i){if(i&&i.length>0){var a=t.emitLineDelimitedJson()?i.join(`
`):"["+i.join(",")+"]";return a}return null},r.markAsSent=function(i){r.clear()},r.clearSent=function(i){}})}return o(e,"t"),e}(),dg=function(){function e(t,n){var r=!1,i;ur(e,this,function(a){var s=u(e.BUFFER_KEY),l=u(e.SENT_BUFFER_KEY);i=s.concat(l),i.length>e.MAX_BUFFER_SIZE&&(i.length=e.MAX_BUFFER_SIZE),f(e.SENT_BUFFER_KEY,[]),f(e.BUFFER_KEY,i),a.enqueue=function(y){if(i.length>=e.MAX_BUFFER_SIZE){r||(t.throwInternal(Dt.WARNING,yt.SessionStorageBufferFull,"Maximum buffer size reached: "+i.length,!0),r=!0);return}i.push(y),f(e.BUFFER_KEY,i)},a.count=function(){return i.length},a.clear=function(){i=[],f(e.BUFFER_KEY,[]),f(e.SENT_BUFFER_KEY,[]),r=!1},a.getItems=function(){return i.slice(0)},a.batchPayloads=function(y){if(y&&y.length>0){var m=n.emitLineDelimitedJson()?y.join(`
`):"["+y.join(",")+"]";return m}return null},a.markAsSent=function(y){i=c(y,i),f(e.BUFFER_KEY,i);var m=u(e.SENT_BUFFER_KEY);m instanceof Array&&y instanceof Array&&(m=m.concat(y),m.length>e.MAX_BUFFER_SIZE&&(t.throwInternal(Dt.CRITICAL,yt.SessionStorageBufferFull,"Sent buffer reached its maximum size: "+m.length,!0),m.length=e.MAX_BUFFER_SIZE),f(e.SENT_BUFFER_KEY,m))},a.clearSent=function(y){var m=u(e.SENT_BUFFER_KEY);m=c(y,m),f(e.SENT_BUFFER_KEY,m)};function c(y,m){var C=[];return Sn(m,function(j){!Dn(j)&&$o(y,j)===-1&&C.push(j)}),C}o(c,"s");function u(y){var m=y;try{m=n.namePrefix&&n.namePrefix()?n.namePrefix()+"_"+m:m;var C=bl(t,m);if(C){var j=ui().parse(C);if(En(j)&&(j=ui().parse(j)),j&&Bi(j))return j}}catch(Q){t.throwInternal(Dt.CRITICAL,yt.FailedToRestoreStorageBuffer," storage key: "+m+", "+Bn(Q),{exception:_n(Q)})}return[]}o(u,"c");function f(y,m){var C=y;try{C=n.namePrefix&&n.namePrefix()?n.namePrefix()+"_"+C:C;var j=JSON.stringify(m);El(t,C,j)}catch(Q){El(t,C,JSON.stringify([])),t.throwInternal(Dt.WARNING,yt.FailedToSetStorageBuffer," storage key: "+C+", "+Bn(Q)+". Buffer cleared",{exception:_n(Q)})}}o(f,"l")})}return o(e,"t"),e.BUFFER_KEY="AI_buffer",e.SENT_BUFFER_KEY="AI_sentBuffer",e.MAX_BUFFER_SIZE=2e3,e}()});function pr(e,t,n){return Fn(e,t,n,Ru)}o(pr,"xe");var Ol,Yn,yr,zc,ar,hg,Wc,gg,pg,vg,mg,yg,Om=it(()=>{Vn(),mr(),In(),Ol="baseType",Yn="baseData",yr="properties",zc="true",ar=function(){function e(){}return o(e,"t"),e.extractPropsAndMeasurements=function(t,n,r){Ft(t)||vr(t,function(i,a){Iu(a)?r[i]=a:En(a)?n[i]=a:no()&&(n[i]=ui().stringify(a))})},e.createEnvelope=function(t,n,r,i){var a=new Rc(t,i,n);pr(a,"sampleRate",r[wl]),(r[Yn]||{}).startTime&&(a.time=na(r[Yn].startTime)),a.iKey=r.iKey;var s=r.iKey.replace(/-/g,"");return a.name=a.name.replace("{0}",s),e.extractPartAExtensions(r,a),r.tags=r.tags||[],xd(a)},e.extractPartAExtensions=function(t,n){var r=n.tags=n.tags||{},i=t.ext=t.ext||{},a=t.tags=t.tags||[],s=i.user;s&&(pr(r,Gn.userAuthUserId,s.authId),pr(r,Gn.userId,s.id||s.localId));var l=i.app;l&&pr(r,Gn.sessionId,l.sesId);var c=i.device;c&&(pr(r,Gn.deviceId,c.id||c.localId),pr(r,Gn.deviceType,c.deviceClass),pr(r,Gn.deviceIp,c.ip),pr(r,Gn.deviceModel,c.model),pr(r,Gn.deviceType,c.deviceType));var u=t.ext.web;if(u){pr(r,Gn.deviceLanguage,u.browserLang),pr(r,Gn.deviceBrowserVersion,u.browserVer),pr(r,Gn.deviceBrowser,u.browser);var f=n.data=n.data||{},y=f[Yn]=f[Yn]||{},m=y[yr]=y[yr]||{};pr(m,"domain",u.domain),pr(m,"isManual",u.isManual?zc:null),pr(m,"screenRes",u.screenRes),pr(m,"userConsent",u.userConsent?zc:null)}var C=i.os;C&&pr(r,Gn.deviceOS,C.name);var j=i.trace;j&&(pr(r,Gn.operationParentId,j.parentID),pr(r,Gn.operationName,j.name),pr(r,Gn.operationId,j.traceID));for(var Q={},z=a.length-1;z>=0;z--){var G=a[z];vr(G,function(fe,le){Q[fe]=le}),a.splice(z,1)}vr(a,function(fe,le){Q[fe]=le});var re=Ja({},r,Q);re[Gn.internalSdkVersion]||(re[Gn.internalSdkVersion]="javascript:"+e.Version),n.tags=xd(re)},e.prototype.Init=function(t,n){this._logger=t,Ft(n[Yn])&&this._logger.throwInternal(Dt.CRITICAL,yt.TelemetryEnvelopeInvalid,"telemetryItem.baseData cannot be null.")},e.Version="2.6.4",e}(),hg=function(e){zn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return o(t,"e"),t.prototype.Create=function(n,r){e.prototype.Init.call(this,n,r);var i=r[Yn].measurements||{},a=r[Yn][yr]||{};ar.extractPropsAndMeasurements(r.data,a,i);var s=r[Yn];if(Ft(s))return n.warnToConsole("Invalid input for dependency data"),null;var l=s[yr]&&s[yr][_l]?s[yr][_l]:"GET",c=new Ti(n,s.id,s.target,s.name,s.duration,s.success,s.responseCode,l,s.type,s.correlationContext,a,i),u=new Ki(Ti.dataType,c);return ar.createEnvelope(n,Ti.envelopeType,r,u)},t.DependencyEnvelopeCreator=new t,t}(ar),Wc=function(e){zn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return o(t,"e"),t.prototype.Create=function(n,r){e.prototype.Init.call(this,n,r);var i={},a={};r[Ol]!==hi.dataType&&(i.baseTypeSource=r[Ol]),r[Ol]===hi.dataType?(i=r[Yn][yr]||{},a=r[Yn].measurements||{}):r[Yn]&&ar.extractPropsAndMeasurements(r[Yn],i,a),ar.extractPropsAndMeasurements(r.data,i,a);var s=r[Yn].name,l=new hi(n,s,i,a),c=new Ki(hi.dataType,l);return ar.createEnvelope(n,hi.envelopeType,r,c)},t.EventEnvelopeCreator=new t,t}(ar),gg=function(e){zn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return o(t,"e"),t.prototype.Create=function(n,r){e.prototype.Init.call(this,n,r);var i=r[Yn].measurements||{},a=r[Yn][yr]||{};ar.extractPropsAndMeasurements(r.data,a,i);var s=r[Yn],l=Nr.CreateFromInterface(n,s,a,i),c=new Ki(Nr.dataType,l);return ar.createEnvelope(n,Nr.envelopeType,r,c)},t.ExceptionEnvelopeCreator=new t,t}(ar),pg=function(e){zn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return o(t,"e"),t.prototype.Create=function(n,r){e.prototype.Init.call(this,n,r);var i=r[Yn],a=i[yr]||{},s=i.measurements||{};ar.extractPropsAndMeasurements(r.data,a,s);var l=new Ci(n,i.name,i.average,i.sampleCount,i.min,i.max,a,s),c=new Ki(Ci.dataType,l);return ar.createEnvelope(n,Ci.envelopeType,r,c)},t.MetricEnvelopeCreator=new t,t}(ar),vg=function(e){zn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return o(t,"e"),t.prototype.Create=function(n,r){e.prototype.Init.call(this,n,r);var i="duration",a,s=r[Yn];!Ft(s)&&!Ft(s[yr])&&!Ft(s[yr][i])?(a=s[yr][i],delete s[yr][i]):!Ft(r.data)&&!Ft(r.data[i])&&(a=r.data[i],delete r.data[i]);var l=r[Yn],c;((r.ext||{}).trace||{}).traceID&&(c=r.ext.trace.traceID);var u=l.id||c,f=l.name,y=l.uri,m=l[yr]||{},C=l.measurements||{};if(Ft(l.refUri)||(m.refUri=l.refUri),Ft(l.pageType)||(m.pageType=l.pageType),Ft(l.isLoggedIn)||(m.isLoggedIn=l.isLoggedIn.toString()),!Ft(l[yr])){var j=l[yr];vr(j,function(G,re){m[G]=re})}ar.extractPropsAndMeasurements(r.data,m,C);var Q=new gi(n,f,y,a,m,C,u),z=new Ki(gi.dataType,Q);return ar.createEnvelope(n,gi.envelopeType,r,z)},t.PageViewEnvelopeCreator=new t,t}(ar),mg=function(e){zn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return o(t,"e"),t.prototype.Create=function(n,r){e.prototype.Init.call(this,n,r);var i=r[Yn],a=i.name,s=i.uri||i.url,l=i[yr]||{},c=i.measurements||{};ar.extractPropsAndMeasurements(r.data,l,c);var u=new ji(n,a,s,void 0,l,c,i),f=new Ki(ji.dataType,u);return ar.createEnvelope(n,ji.envelopeType,r,f)},t.PageViewPerformanceEnvelopeCreator=new t,t}(ar),yg=function(e){zn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return o(t,"e"),t.prototype.Create=function(n,r){e.prototype.Init.call(this,n,r);var i=r[Yn].message,a=r[Yn].severityLevel,s=r[Yn][yr]||{},l=r[Yn].measurements||{};ar.extractPropsAndMeasurements(r.data,s,l);var c=new Wi(n,i,a,s,l),u=new Ki(Wi.dataType,c);return ar.createEnvelope(n,Wi.envelopeType,r,u)},t.TraceEnvelopeCreator=new t,t}(ar)}),wg,Mm=it(()=>{In(),br(),wg=function(){function e(t){ur(e,this,function(n){n.serialize=function(s){var l=r(s,"root");try{return ui().stringify(l)}catch(c){t.throwInternal(Dt.CRITICAL,yt.CannotSerializeObject,c&&Dn(c.toString)?c.toString():"Error serializing object",null,!0)}};function r(s,l){var c="__aiCircularRefCheck",u={};if(!s)return t.throwInternal(Dt.CRITICAL,yt.CannotSerializeObject,"cannot serialize object because it is null or undefined",{name:l},!0),u;if(s[c])return t.throwInternal(Dt.WARNING,yt.CircularReferenceDetected,"Circular reference detected while serializing object",{name:l},!0),u;if(!s.aiDataContract){if(l==="measurements")u=a(s,"number",l);else if(l==="properties")u=a(s,"string",l);else if(l==="tags")u=a(s,"string",l);else if(Bi(s))u=i(s,l);else{t.throwInternal(Dt.WARNING,yt.CannotSerializeObjectNonSerializable,"Attempting to serialize an object which does not implement ISerializable",{name:l},!0);try{ui().stringify(s),u=s}catch(f){t.throwInternal(Dt.CRITICAL,yt.CannotSerializeObject,f&&Dn(f.toString)?f.toString():"Error serializing object",null,!0)}}return u}return s[c]=!0,vr(s.aiDataContract,function(f,y){var m=Dn(y)?y()&1:y&1,C=Dn(y)?y()&4:y&4,j=y&2,Q=s[f]!==void 0,z=Ca(s[f])&&s[f]!==null;if(m&&!Q&&!j)t.throwInternal(Dt.CRITICAL,yt.MissingRequiredFieldSpecification,"Missing required field specification. The field is required but not present on source",{field:f,name:l});else if(!C){var G=void 0;z?j?G=i(s[f],f):G=r(s[f],f):G=s[f],G!==void 0&&(u[f]=G)}}),delete s[c],u}o(r,"n");function i(s,l){var c;if(s)if(!Bi(s))t.throwInternal(Dt.CRITICAL,yt.ItemNotInArray,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:l},!0);else{c=[];for(var u=0;u<s.length;u++){var f=s[u],y=r(f,l+"["+u+"]");c.push(y)}}return c}o(i,"i");function a(s,l,c){var u;return s&&(u={},vr(s,function(f,y){if(l==="string")y===void 0?u[f]="undefined":y===null?u[f]="null":y.toString?u[f]=y.toString():u[f]="invalid field: toString() is not defined.";else if(l==="number")if(y===void 0)u[f]="undefined";else if(y===null)u[f]="null";else{var m=parseFloat(y);isNaN(m)?u[f]="NaN":u[f]=m}else u[f]="invalid field: "+c+" is of unknown type.",t.throwInternal(Dt.CRITICAL,u[f],null,!0)})),u}o(a,"a")})}return o(e,"t"),e}()}),_g,jc,Lm=it(()=>{In(),br(),_g=function(){function e(){var t=zo(),n=bi(),r=!1,i=!0;ur(e,this,function(a){try{if(t&&Zo.Attach(t,"online",c)&&(Zo.Attach(t,"offline",u),r=!0),n){var s=n.body||n;Or(s.ononline)||(s.ononline=c,s.onoffline=u,r=!0)}if(r){var l=Ei();l&&!Ft(l.onLine)&&(i=l.onLine)}}catch(f){r=!1}a.isListening=r,a.isOnline=function(){var f=!0,y=Ei();return r?f=i:y&&!Ft(y.onLine)&&(f=y.onLine),f},a.isOffline=function(){return!a.isOnline()};function c(){i=!0}o(c,"s");function u(){i=!1}o(u,"c")})}return o(e,"t"),e.Offline=new e,e}(),jc=_g.Offline}),xg,Nm=it(()=>{xg=function(){function e(){}return o(e,"t"),e.prototype.getHashCodeScore=function(t){var n=this.getHashCode(t)/e.INT_MAX_VALUE;return n*100},e.prototype.getHashCode=function(t){if(t==="")return 0;for(;t.length<e.MIN_INPUT_LENGTH;)t=t.concat(t);for(var n=5381,r=0;r<t.length;++r)n=(n<<5)+n+t.charCodeAt(r),n=n&n;return Math.abs(n)},e.INT_MAX_VALUE=2147483647,e.MIN_INPUT_LENGTH=8,e}()}),bg,Bm=it(()=>{Nm(),mr(),bg=function(){function e(){this.hashCodeGeneragor=new xg,this.keys=new Fl}return o(e,"t"),e.prototype.getSamplingScore=function(t){var n=0;return t.tags&&t.tags[this.keys.userId]?n=this.hashCodeGeneragor.getHashCodeScore(t.tags[this.keys.userId]):t.ext&&t.ext.user&&t.ext.user.id?n=this.hashCodeGeneragor.getHashCodeScore(t.ext.user.id):t.tags&&t.tags[this.keys.operationId]?n=this.hashCodeGeneragor.getHashCodeScore(t.tags[this.keys.operationId]):t.ext&&t.ext.telemetryTrace&&t.ext.telemetryTrace.traceID?n=this.hashCodeGeneragor.getHashCodeScore(t.ext.telemetryTrace.traceID):n=Math.random()*100,n},e}()}),Eg,Um=it(()=>{Bm(),mr(),In(),Eg=function(){function e(t,n){this.INT_MAX_VALUE=2147483647,this._logger=n||ol(null),(t>100||t<0)&&(this._logger.throwInternal(Dt.WARNING,yt.SampleRateOutOfRange,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:t},!0),t=100),this.sampleRate=t,this.samplingScoreGenerator=new bg}return o(e,"t"),e.prototype.isSampledIn=function(t){var n=this.sampleRate,r=!1;return n==null||n>=100||t.baseType===Ci.dataType?!0:(r=this.samplingScoreGenerator.getSamplingScore(t)<n,r)},e}()});function Ml(e){try{return e.responseText}catch(t){}return null}o(Ml,"Ti");var Kc,$m=it(()=>{Vn(),Pm(),Om(),Mm(),mr(),In(),Lm(),Um(),br(),Kc=function(e){zn(t,e);function t(){var n=e.call(this)||this;n.priority=1001,n.identifier=kl,n._XMLHttpRequestSupported=!1;var r,i,a,s,l,c,u={};return ur(t,n,function(f,y){function m(){xi("Method not implemented.")}o(m,"g"),f.pause=m,f.resume=m,f.flush=function(){try{f.triggerSend(!0,null,1)}catch(Se){f.diagLog().throwInternal(Dt.CRITICAL,yt.FlushFailed,"flush failed, telemetry will not be collected: "+Bn(Se),{exception:_n(Se)})}},f.onunloadFlush=function(){if((f._senderConfig.onunloadDisableBeacon()===!1||f._senderConfig.isBeaconApiDisabled()===!1)&&yc())try{f.triggerSend(!0,z,2)}catch(Se){f.diagLog().throwInternal(Dt.CRITICAL,yt.FailedToSendQueuedTelemetry,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+Bn(Se),{exception:_n(Se)})}else f.flush()},f.teardown=m,f.addHeader=function(Se,st){u[Se]=st},f.initialize=function(Se,st,_t,xt){y.initialize(Se,st,_t,xt);var Vt=f._getTelCtx(),en=f.identifier;l=new wg(st.logger),r=0,i=null,a=0,f._sender=null,c=0;var wn=t._getDefaultAppInsightsChannelConfig();if(f._senderConfig=t._getEmptyAppInsightsChannelConfig(),vr(wn,function(We,At){f._senderConfig[We]=function(){return Vt.getConfig(en,We,At())}}),f._buffer=f._senderConfig.enableSessionStorageBuffer()&&go()?new dg(f.diagLog(),f._senderConfig):new fg(f._senderConfig),f._sample=new Eg(f._senderConfig.samplingPercentage(),f.diagLog()),kn(Se)||f.diagLog().throwInternal(Dt.CRITICAL,yt.InvalidInstrumentationKey,"Invalid Instrumentation key "+Se.instrumentationKey),!Sl(f._senderConfig.endpointUrl())&&f._senderConfig.customHeaders()&&f._senderConfig.customHeaders().length>0&&Sn(f._senderConfig.customHeaders(),function(We){n.addHeader(We.header,We.value)}),!f._senderConfig.isBeaconApiDisabled()&&yc())f._sender=z;else{var On=Dr("XMLHttpRequest");if(On){var Xn=new On;"withCredentials"in Xn?(f._sender=G,f._XMLHttpRequestSupported=!0):typeof XDomainRequest!==Mi&&(f._sender=vt)}else{var _a=Dr("fetch");_a&&(f._sender=re)}}},f.processTelemetry=function(Se,st){st=f._getTelCtx(st);try{if(f._senderConfig.disableTelemetry())return;if(!Se){st.diagLog().throwInternal(Dt.CRITICAL,yt.CannotSendEmptyTelemetry,"Cannot send empty telemetry");return}if(Se.baseData&&!Se.baseType){st.diagLog().throwInternal(Dt.CRITICAL,yt.InvalidEvent,"Cannot send telemetry without baseData and baseType");return}if(Se.baseType||(Se.baseType="EventData"),!f._sender){st.diagLog().throwInternal(Dt.CRITICAL,yt.SenderNotInitialized,"Sender was not initialized");return}if(C(Se))Se[wl]=f._sample.sampleRate;else{st.diagLog().throwInternal(Dt.WARNING,yt.TelemetrySampledAndNotSent,"Telemetry item was sampled out and not sent",{SampleRate:f._sample.sampleRate});return}var _t=t.constructEnvelope(Se,f._senderConfig.instrumentationKey(),st.diagLog());if(!_t){st.diagLog().throwInternal(Dt.CRITICAL,yt.CreateEnvelopeError,"Unable to create an AppInsights envelope");return}var xt=!1;if(Se.tags&&Se.tags[ho]&&(Sn(Se.tags[ho],function(On){try{On&&On(_t)===!1&&(xt=!0,st.diagLog().warnToConsole("Telemetry processor check returns false"))}catch(Xn){st.diagLog().throwInternal(Dt.CRITICAL,yt.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+Bn(Xn),{exception:_n(Xn)},!0)}}),delete Se.tags[ho]),xt)return;var Vt=l.serialize(_t),en=f._buffer.getItems(),wn=f._buffer.batchPayloads(en);wn&&wn.length+Vt.length>f._senderConfig.maxBatchSizeInBytes()&&f.triggerSend(!0,null,10),f._buffer.enqueue(Vt),Je()}catch(On){st.diagLog().throwInternal(Dt.WARNING,yt.FailedAddingTelemetryToBuffer,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+Bn(On),{exception:_n(On)})}f.processNext(Se,st)},f._xhrReadyStateChange=function(Se,st,_t){Se.readyState===4&&j(Se.status,st,Se.responseURL,_t,Oe(Se),Ml(Se)||Se.response)},f.triggerSend=function(Se,st,_t){Se===void 0&&(Se=!0);try{if(f._senderConfig.disableTelemetry())f._buffer.clear();else{if(f._buffer.count()>0){var xt=f._buffer.getItems();un(_t||0,Se),st?st.call(n,xt,Se):f._sender(xt,Se)}a=+new Date}clearTimeout(s),s=null,i=null}catch(en){var Vt=Lu();(!Vt||Vt>9)&&f.diagLog().throwInternal(Dt.CRITICAL,yt.TransmissionFailed,"Telemetry transmission failed, some telemetry will be lost: "+Bn(en),{exception:_n(en)})}},f._onError=function(Se,st,_t){f.diagLog().throwInternal(Dt.WARNING,yt.OnError,"Failed to send telemetry.",{message:st}),f._buffer.clearSent(Se)},f._onPartialSuccess=function(Se,st){for(var _t=[],xt=[],Vt=st.errors.reverse(),en=0,wn=Vt;en<wn.length;en++){var On=wn[en],Xn=Se.splice(On.index,1)[0];Ue(On.statusCode)?xt.push(Xn):_t.push(Xn)}Se.length>0&&f._onSuccess(Se,st.itemsAccepted),_t.length>0&&f._onError(_t,Oe(null,["partial success",st.itemsAccepted,"of",st.itemsReceived].join(" "))),xt.length>0&&(le(xt),f.diagLog().throwInternal(Dt.WARNING,yt.TransmissionFailed,"Partial success. Delivered: "+Se.length+", Failed: "+_t.length+". Will retry to send "+xt.length+" our of "+st.itemsReceived+" items"))},f._onSuccess=function(Se,st){f._buffer.clearSent(Se)},f._xdrOnLoad=function(Se,st){var _t=Ml(Se);if(Se&&(_t+""=="200"||_t===""))r=0,f._onSuccess(st,0);else{var xt=fe(_t);xt&&xt.itemsReceived&&xt.itemsReceived>xt.itemsAccepted&&!f._senderConfig.isRetryDisabled()?f._onPartialSuccess(st,xt):f._onError(st,Pe(Se))}};function C(Se){return f._sample.isSampledIn(Se)}o(C,"C");function j(Se,st,_t,xt,Vt,en){var wn=null;if(f._appId||(wn=fe(en),wn&&wn.appId&&(f._appId=wn.appId)),(Se<200||Se>=300)&&Se!==0){if((Se===301||Se===307||Se===308)&&!Q(_t)){f._onError(st,Vt);return}!f._senderConfig.isRetryDisabled()&&Ue(Se)?(le(st),f.diagLog().throwInternal(Dt.WARNING,yt.TransmissionFailed,". Response code "+Se+". Will retry to send "+st.length+" items.")):f._onError(st,Vt)}else if(jc.isOffline()){if(!f._senderConfig.isRetryDisabled()){var On=10;le(st,On),f.diagLog().throwInternal(Dt.WARNING,yt.TransmissionFailed,". Offline - Response Code: "+Se+". Offline status: "+jc.isOffline()+". Will retry to send "+st.length+" items.")}}else Q(_t),Se===206?(wn||(wn=fe(en)),wn&&!f._senderConfig.isRetryDisabled()?f._onPartialSuccess(st,wn):f._onError(st,Vt)):(r=0,f._onSuccess(st,xt))}o(j,"E");function Q(Se){return c>=10?!1:!Ft(Se)&&Se!==""&&Se!==f._senderConfig.endpointUrl()?(f._senderConfig.endpointUrl=function(){return Se},++c,!0):!1}o(Q,"b");function z(Se,st){var _t=f._senderConfig.endpointUrl(),xt=f._buffer.batchPayloads(Se),Vt=new Blob([xt],{type:"text/plain;charset=UTF-8"}),en=Ei().sendBeacon(_t,Vt);en?(f._buffer.markAsSent(Se),f._onSuccess(Se,Se.length)):(G(Se,!0),f.diagLog().throwInternal(Dt.WARNING,yt.TransmissionFailed,". Failed to send telemetry with Beacon API, retried with xhrSender."))}o(z,"p");function G(Se,st){var _t=new XMLHttpRequest,xt=f._senderConfig.endpointUrl();try{_t[Pa]=!0}catch(en){}_t.open("POST",xt,st),_t.setRequestHeader("Content-type","application/json"),Sl(xt)&&_t.setRequestHeader(Qn.sdkContextHeader,Qn.sdkContextHeaderAppIdRequest),Sn(Ta(u),function(en){_t.setRequestHeader(en,u[en])}),_t.onreadystatechange=function(){return f._xhrReadyStateChange(_t,Se,Se.length)},_t.onerror=function(en){return f._onError(Se,Oe(_t),en)};var Vt=f._buffer.batchPayloads(Se);_t.send(Vt),f._buffer.markAsSent(Se)}o(G,"m");function re(Se,st){var _t=f._senderConfig.endpointUrl(),xt=f._buffer.batchPayloads(Se),Vt=new Blob([xt],{type:"text/plain;charset=UTF-8"}),en=new Headers;Sl(_t)&&en.append(Qn.sdkContextHeader,Qn.sdkContextHeaderAppIdRequest),Sn(Ta(u),function(Xn){en.append(Xn,u[Xn])});var wn={method:"POST",headers:en,body:Vt},On=new Request(_t,wn);fetch(On).then(function(Xn){if(Xn.ok)Xn.text().then(function(_a){j(Xn.status,Se,Xn.url,Se.length,Xn.statusText,_a)}),f._buffer.markAsSent(Se);else throw Error(Xn.statusText)}).catch(function(Xn){f._onError(Se,Xn.message)})}o(re,"y");function fe(Se){try{if(Se&&Se!==""){var st=ui().parse(Se);if(st&&st.itemsReceived&&st.itemsReceived>=st.itemsAccepted&&st.itemsReceived-st.itemsAccepted===st.errors.length)return st}}catch(_t){f.diagLog().throwInternal(Dt.CRITICAL,yt.InvalidBackendResponse,"Cannot parse the response. "+Bn(_t),{response:Se})}return null}o(fe,"w");function le(Se,st){if(st===void 0&&(st=1),!(!Se||Se.length===0)){f._buffer.clearSent(Se),r++;for(var _t=0,xt=Se;_t<xt.length;_t++){var Vt=xt[_t];f._buffer.enqueue(Vt)}be(st),Je()}}o(le,"L");function be(Se){var st=10,_t;if(r<=1)_t=st;else{var xt=(Math.pow(2,r)-1)/2,Vt=Math.floor(Math.random()*xt*st)+1;Vt=Se*Vt,_t=Math.max(Math.min(Vt,3600),st)}var en=Yr()+_t*1e3;i=en}o(be,"k");function Je(){if(!s){var Se=i?Math.max(0,i-Yr()):0,st=Math.max(f._senderConfig.maxBatchInterval(),Se);s=setTimeout(function(){f.triggerSend(!0,null,1)},st)}}o(Je,"Q");function Ue(Se){return Se===408||Se===429||Se===500||Se===503}o(Ue,"ye");function Oe(Se,st){return Se?"XMLHttpRequest,Status:"+Se.status+",Response:"+Ml(Se)||0||0:st}o(Oe,"J");function vt(Se,st){var _t=zo(),xt=new XDomainRequest;xt.onload=function(){return f._xdrOnLoad(xt,Se)},xt.onerror=function(On){return f._onError(Se,Pe(xt),On)};var Vt=_t&&_t.location&&_t.location.protocol||"";if(f._senderConfig.endpointUrl().lastIndexOf(Vt,0)!==0){f.diagLog().throwInternal(Dt.WARNING,yt.TransmissionFailed,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),f._buffer.clear();return}var en=f._senderConfig.endpointUrl().replace(/^(https?:)/,"");xt.open("POST",en);var wn=f._buffer.batchPayloads(Se);xt.send(wn),f._buffer.markAsSent(Se)}o(vt,"de");function Pe(Se,st){return Se?"XDomainRequest,Response:"+Ml(Se)||0:st}o(Pe,"be");function St(){var Se="getNotifyMgr";return f.core[Se]?f.core[Se]():f.core._notificationManager}o(St,"pt");function un(Se,st){var _t=St();if(_t&&_t.eventsSendRequest)try{_t.eventsSendRequest(Se,st)}catch(xt){f.diagLog().throwInternal(Dt.CRITICAL,yt.NotificationException,"send request notification failed: "+Bn(xt),{exception:_n(xt)})}}o(un,"it");function kn(Se){var st=Ft(Se.disableInstrumentationKeyValidation)?!1:Se.disableInstrumentationKeyValidation;if(st)return!0;var _t="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",xt=new RegExp(_t);return xt.test(Se.instrumentationKey)}o(kn,"dt")}),n}return o(t,"e"),t.constructEnvelope=function(n,r,i){var a;switch(r!==n.iKey&&!Ft(r)?a=Ja({},n,{iKey:r}):a=n,a.baseType){case hi.dataType:return Wc.EventEnvelopeCreator.Create(i,a);case Wi.dataType:return yg.TraceEnvelopeCreator.Create(i,a);case gi.dataType:return vg.PageViewEnvelopeCreator.Create(i,a);case ji.dataType:return mg.PageViewPerformanceEnvelopeCreator.Create(i,a);case Nr.dataType:return gg.ExceptionEnvelopeCreator.Create(i,a);case Ci.dataType:return pg.MetricEnvelopeCreator.Create(i,a);case Ti.dataType:return hg.DependencyEnvelopeCreator.Create(i,a);default:return Wc.EventEnvelopeCreator.Create(i,a)}},t._getDefaultAppInsightsChannelConfig=function(){return{endpointUrl:function(){return"https://dc.services.visualstudio.com/v2/track"},emitLineDelimitedJson:function(){return!1},maxBatchInterval:function(){return 15e3},maxBatchSizeInBytes:function(){return 102400},disableTelemetry:function(){return!1},enableSessionStorageBuffer:function(){return!0},isRetryDisabled:function(){return!1},isBeaconApiDisabled:function(){return!0},onunloadDisableBeacon:function(){return!1},instrumentationKey:function(){},namePrefix:function(){},samplingPercentage:function(){return 100},customHeaders:function(){}}},t._getEmptyAppInsightsChannelConfig=function(){return{endpointUrl:void 0,emitLineDelimitedJson:void 0,maxBatchInterval:void 0,maxBatchSizeInBytes:void 0,disableTelemetry:void 0,enableSessionStorageBuffer:void 0,isRetryDisabled:void 0,isBeaconApiDisabled:void 0,onunloadDisableBeacon:void 0,instrumentationKey:void 0,namePrefix:void 0,samplingPercentage:void 0,customHeaders:void 0}},t}(Da)}),Sg=it(()=>{$m()}),Cg,qc,Tg,Hm=it(()=>{br(),mr(),In(),Cg="ai_session",qc=function(){function e(){}return o(e,"t"),e}(),Tg=function(){function e(t,n){var r=this,i,a,s=ol(n),l=Zu(n);ur(e,r,function(c){t||(t={}),Dn(t.sessionExpirationMs)||(t.sessionExpirationMs=function(){return e.acquisitionSpan}),Dn(t.sessionRenewalMs)||(t.sessionRenewalMs=function(){return e.renewalSpan}),c.config=t;var u=c.config.sessionCookiePostfix&&c.config.sessionCookiePostfix()?c.config.sessionCookiePostfix():c.config.namePrefix&&c.config.namePrefix()?c.config.namePrefix():"";i=o(function(){return Cg+u},"i"),c.automaticSession=new qc,c.update=function(){var Q=Yr(),z=!1,G=c.automaticSession;G.id||(z=!f(G,Q));var re=c.config.sessionExpirationMs();if(!z&&re>0){var fe=c.config.sessionRenewalMs(),le=Q-G.acquisitionDate,be=Q-G.renewalDate;z=le<0||be<0,z=z||le>re,z=z||be>fe}z?m(Q):(!a||Q-a>e.cookieUpdateInterval)&&C(G,Q)},c.backup=function(){var Q=c.automaticSession;j(Q.id,Q.acquisitionDate,Q.renewalDate)};function f(Q,z){var G=!1,re=l.get(i());if(re&&Dn(re.split))G=y(Q,re);else{var fe=Eh(s,i());fe&&(G=y(Q,fe))}return G||!!Q.id}o(f,"l");function y(Q,z){var G=!1,re=", session will be reset",fe=z.split("|");if(fe.length>=2)try{var le=+fe[1]||0,be=+fe[2]||0;isNaN(le)||le<=0?s.throwInternal(Dt.WARNING,yt.SessionRenewalDateIsZero,"AI session acquisition date is 0"+re):isNaN(be)||be<=0?s.throwInternal(Dt.WARNING,yt.SessionRenewalDateIsZero,"AI session renewal date is 0"+re):fe[0]&&(Q.id=fe[0],Q.acquisitionDate=le,Q.renewalDate=be,G=!0)}catch(Je){s.throwInternal(Dt.CRITICAL,yt.ErrorParsingAISessionCookie,"Error parsing ai_session value ["+(z||"")+"]"+re+" - "+Bn(Je),{exception:_n(Je)})}return G}o(y,"f");function m(Q){var z=c.config||{},G=(z.getNewId?z.getNewId():null)||vl;c.automaticSession.id=G(z.idLength?z.idLength():22),c.automaticSession.acquisitionDate=Q,C(c.automaticSession,Q),bc()||s.throwInternal(Dt.WARNING,yt.BrowserDoesNotSupportLocalStorage,"Browser does not support local storage. Session durations will be inaccurate.")}o(m,"g");function C(Q,z){var G=Q.acquisitionDate;Q.renewalDate=z;var re=c.config,fe=re.sessionRenewalMs(),le=G+re.sessionExpirationMs()-z,be=[Q.id,G,z],Je=0;le<fe?Je=le/1e3:Je=fe/1e3;var Ue=re.cookieDomain?re.cookieDomain():null;l.set(i(),be.join("|"),re.sessionExpirationMs()>0?Je:null,Ue),a=z}o(C,"C");function j(Q,z,G){Sh(s,i(),[Q,z,G].join("|"))}o(j,"E")})}return o(e,"t"),e.acquisitionSpan=864e5,e.renewalSpan=18e5,e.cookieUpdateInterval=6e4,e}()}),Ig,zm=it(()=>{Ig=function(){function e(){}return o(e,"t"),e}()}),Ag,Wm=it(()=>{Ag=function(){function e(){this.id="browser",this.deviceClass="Browser"}return o(e,"t"),e}()}),Rg,Dg,jm=it(()=>{Rg="2.6.4",Dg=function(){function e(t){this.sdkVersion=(t.sdkExtension&&t.sdkExtension()?t.sdkExtension()+"_":"")+"javascript:"+Rg}return o(e,"t"),e}()});function Fg(e){return!(typeof e!="string"||!e||e.match(/,|;|=| |\|/))}o(Fg,"Xu");var kg,Km=it(()=>{br(),mr(),In(),kg=function(){function e(t,n){this.isNewUser=!1;var r=ol(n),i=Zu(n),a;ur(e,this,function(s){s.config=t;var l=s.config.userCookiePostfix&&s.config.userCookiePostfix()?s.config.userCookiePostfix():"";a=o(function(){return e.userCookieName+l},"a");var c=i.get(a());if(c){s.isNewUser=!1;var u=c.split(e.cookieSeparator);u.length>0&&(s.id=u[0])}if(!s.id){var f=t||{},y=(f.getNewId?f.getNewId():null)||vl;s.id=y(f.idLength?t.idLength():22);var m=31536e3,C=na(new Date);s.accountAcquisitionDate=C,s.isNewUser=!0;var j=[s.id,C];i.set(a(),j.join(e.cookieSeparator),m);var Q=t.namePrefix&&t.namePrefix()?t.namePrefix()+"ai_session":"ai_session";Ch(r,Q)}s.accountId=t.accountId?t.accountId():void 0;var z=i.get(e.authUserCookieName);if(z){z=decodeURI(z);var G=z.split(e.cookieSeparator);G[0]&&(s.authenticatedId=G[0]),G.length>1&&G[1]&&(s.accountId=G[1])}s.setAuthenticatedUserContext=function(re,fe,le){le===void 0&&(le=!1);var be=!Fg(re)||fe&&!Fg(fe);if(be){r.throwInternal(Dt.WARNING,yt.SetAuthContextFailedAccountName,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0);return}s.authenticatedId=re;var Je=s.authenticatedId;fe&&(s.accountId=fe,Je=[s.authenticatedId,s.accountId].join(e.cookieSeparator)),le&&i.set(e.authUserCookieName,encodeURI(Je))},s.clearAuthenticatedUserContext=function(){s.authenticatedId=null,s.accountId=null,i.del(e.authUserCookieName)}})}return o(e,"t"),e.cookieSeparator="|",e.userCookieName="ai_user",e.authUserCookieName="ai_authUser",e}()}),Pg,qm=it(()=>{Pg=function(){function e(){}return o(e,"t"),e}()}),Og,Vm=it(()=>{mr(),In(),Og=function(){function e(t,n,r,i){var a=this;a.traceID=t||Si(),a.parentID=n,a.name=r;var s=Ia();!r&&s&&s.pathname&&(a.name=s.pathname),a.name=Mr(i,a.name)}return o(e,"t"),e}()});function wo(e,t){e&&e[t]&&Ta(e[t]).length===0&&delete e[t]}o(wo,"Br");var ns,rs,Mg,Gm=it(()=>{br(),In(),Hm(),mr(),zm(),Wm(),jm(),Km(),qm(),Vm(),ns="ext",rs="tags",Mg=function(){function e(t,n){var r=this,i=t.logger;this.appId=function(){return null},ur(e,this,function(a){a.application=new Ig,a.internal=new Dg(n),el()&&(a.sessionManager=new Tg(n,t),a.device=new Ag,a.location=new Pg,a.user=new kg(n,t),a.telemetryTrace=new Og(void 0,void 0,void 0,i),a.session=new qc),a.applySessionContext=function(s,l){var c=a.session,u=a.sessionManager;c&&En(c.id)?Fn(Ar(s.ext,Br.AppExt),"sesId",c.id):u&&u.automaticSession&&Fn(Ar(s.ext,Br.AppExt),"sesId",u.automaticSession.id,En)},a.applyOperatingSystemContxt=function(s,l){Fn(s.ext,Br.OSExt,a.os)},a.applyApplicationContext=function(s,l){var c=a.application;if(c){var u=Ar(s,rs);Fn(u,Gn.applicationVersion,c.ver,En),Fn(u,Gn.applicationBuild,c.build,En)}},a.applyDeviceContext=function(s,l){var c=a.device;if(c){var u=Ar(Ar(s,ns),Br.DeviceExt);Fn(u,"localId",c.id,En),Fn(u,"ip",c.ip,En),Fn(u,"model",c.model,En),Fn(u,"deviceClass",c.deviceClass,En)}},a.applyInternalContext=function(s,l){var c=a.internal;if(c){var u=Ar(s,rs);Fn(u,Gn.internalAgentVersion,c.agentVersion,En),Fn(u,Gn.internalSdkVersion,c.sdkVersion,En),(s.baseType===ro.dataType||s.baseType===gi.dataType)&&(Fn(u,Gn.internalSnippet,c.snippetVer,En),Fn(u,Gn.internalSdkSrc,c.sdkSrc,En))}},a.applyLocationContext=function(s,l){var c=r.location;c&&Fn(Ar(s,rs,[]),Gn.locationIp,c.ip,En)},a.applyOperationContext=function(s,l){var c=a.telemetryTrace;if(c){var u=Ar(Ar(s,ns),Br.TraceExt,{traceID:void 0,parentID:void 0});Fn(u,"traceID",c.traceID,En),Fn(u,"name",c.name,En),Fn(u,"parentID",c.parentID,En)}},a.applyWebContext=function(s,l){var c=r.web;c&&Fn(Ar(s,ns),Br.WebExt,c)},a.applyUserContext=function(s,l){var c=a.user;if(c){var u=Ar(s,rs,[]);Fn(u,Gn.userAccountId,c.accountId,En);var f=Ar(Ar(s,ns),Br.UserExt);Fn(f,"id",c.id,En),Fn(f,"authId",c.authenticatedId,En)}},a.cleanUp=function(s,l){var c=s.ext;c&&(wo(c,Br.DeviceExt),wo(c,Br.UserExt),wo(c,Br.WebExt),wo(c,Br.OSExt),wo(c,Br.AppExt),wo(c,Br.TraceExt))}})}return o(e,"t"),e}()}),Lg,Vc,Zm=it(()=>{Vn(),br(),In(),Gm(),mr(),Lg=function(e){zn(t,e);function t(){var n=e.call(this)||this;n.priority=110,n.identifier=yo;var r,i;return ur(t,n,function(a,s){a.initialize=function(c,u,f,y){s.initialize(c,u,f,y);var m=a._getTelCtx(),C=a.identifier,j=t.getDefaultConfig();i=i||{},vr(j,function(Q,z){i[Q]=function(){return m.getConfig(C,Q,z())}}),a.context=new Mg(u,i),r=wh(f,kl),a.context.appId=function(){return r?r._appId:null},a._extConfig=i},a.processTelemetry=function(c,u){if(!Ft(c)){u=a._getTelCtx(u),c.name===gi.envelopeType&&u.diagLog().resetInternalMessageCount();var f=a.context||{};if(f.session&&typeof a.context.session.id!="string"&&f.sessionManager&&f.sessionManager.update(),l(c,u),f.user&&f.user.isNewUser){f.user.isNewUser=!1;var y=new ro(yt.SendBrowserInfoOnUserInit,(Ei()||{}).userAgent||"");u.diagLog().logInternalMessage(Dt.CRITICAL,y)}a.processNext(c,u)}};function l(c,u){Ar(c,"tags",[]),Ar(c,"ext",{});var f=a.context;f.applySessionContext(c,u),f.applyApplicationContext(c,u),f.applyDeviceContext(c,u),f.applyOperationContext(c,u),f.applyUserContext(c,u),f.applyOperatingSystemContxt(c,u),f.applyWebContext(c,u),f.applyLocationContext(c,u),f.applyInternalContext(c,u),f.cleanUp(c,u)}o(l,"u")}),n}return o(t,"e"),t.getDefaultConfig=function(){var n={instrumentationKey:function(){},accountId:function(){return null},sessionRenewalMs:function(){return 18e5},samplingPercentage:function(){return 100},sessionExpirationMs:function(){return 864e5},cookieDomain:function(){return null},sdkExtension:function(){return null},isBrowserLinkTrackingEnabled:function(){return!1},appId:function(){return null},namePrefix:function(){},sessionCookiePostfix:function(){},userCookiePostfix:function(){},idLength:function(){return 22},getNewId:function(){return null}};return n},t}(Da),Vc=Lg}),Ng=it(()=>{Zm()});function Bg(e,t,n){var r=0,i=e[t],a=e[n];return i&&a&&(r=Lr(i,a)),r}o(Bg,"ic");function Na(e,t,n,r,i){var a=0,s=Bg(n,r,i);return s&&(a=ca(e,t,zi(s))),a}o(Na,"yr");function ca(e,t,n){var r="ajaxPerf",i=0;if(e&&t&&n){var a=e[r]=e[r]||{};a[t]=n,i=1}return i}o(ca,"rr");function Qm(e,t){var n=e.perfTiming,r=t[Ur]||{},i=0,a="name",s="Start",l="End",c="domainLookup",u="connect",f="redirect",y="request",m="response",C="duration",j="startTime",Q=c+s,z=c+l,G=u+s,re=u+l,fe=y+s,le=y+l,be=m+s,Je=m+l,Ue=f+s,Oe=f=l,vt="transferSize",Pe="encodedBodySize",St="decodedBodySize",un="serverTiming";if(n){i|=Na(r,f,n,Ue,Oe),i|=Na(r,c,n,Q,z),i|=Na(r,u,n,G,re),i|=Na(r,y,n,fe,le),i|=Na(r,m,n,be,Je),i|=Na(r,"networkConnect",n,j,re),i|=Na(r,"sentRequest",n,fe,Je);var kn=n[C];kn||(kn=Bg(n,j,Je)||0),i|=ca(r,C,kn),i|=ca(r,"perfTotal",kn);var Se=n[un];if(Se){var st={};Sn(Se,function(_t,xt){var Vt=wv(_t[a]||""+xt),en=st[Vt]||{};vr(_t,function(wn,On){(wn!==a&&En(On)||Iu(On))&&(en[wn]&&(On=en[wn]+";"+On),(On||!En(On))&&(en[wn]=On))}),st[Vt]=en}),i|=ca(r,un,st)}i|=ca(r,vt,n[vt]),i|=ca(r,Pe,n[Pe]),i|=ca(r,St,n[St])}else e.perfMark&&(i|=ca(r,"missing",e.perfAttempts));i&&(t[Ur]=r)}o(Qm,"Cl");var Ur,Ug,Gc,Xm=it(()=>{mr(),In(),br(),Ur="properties",Ug=function(){function e(){var t=this;t.openDone=!1,t.setRequestHeaderDone=!1,t.sendDone=!1,t.abortDone=!1,t.stateChangeAttached=!1}return o(e,"t"),e}(),Gc=function(){function e(t,n,r){var i=this,a=r,s="responseText";i.perfMark=null,i.completed=!1,i.requestHeadersSize=null,i.requestHeaders=null,i.responseReceivingDuration=null,i.callbackDuration=null,i.ajaxTotalDuration=null,i.aborted=0,i.pageUrl=null,i.requestUrl=null,i.requestSize=0,i.method=null,i.status=null,i.requestSentTime=null,i.responseStartedTime=null,i.responseFinishedTime=null,i.callbackFinishedTime=null,i.endTime=null,i.xhrMonitoringState=new Ug,i.clientFailure=0,i.traceID=t,i.spanID=n,ur(e,i,function(l){l.getAbsoluteUrl=function(){return l.requestUrl?Ah(l.requestUrl):null},l.getPathName=function(){return l.requestUrl?Qo(a,Rh(l.method,l.requestUrl)):null},l.CreateTrackItem=function(c,u,f){if(l.ajaxTotalDuration=Math.round(Lr(l.requestSentTime,l.responseFinishedTime)*1e3)/1e3,l.ajaxTotalDuration<0)return null;var y=(Q={id:"|"+l.traceID+"."+l.spanID,target:l.getAbsoluteUrl(),name:l.getPathName(),type:c,startTime:null,duration:l.ajaxTotalDuration,success:+l.status>=200&&+l.status<400,responseCode:+l.status,method:l.method},Q[Ur]={HttpMethod:l.method},Q);if(l.requestSentTime&&(y.startTime=new Date,y.startTime.setTime(l.requestSentTime)),Qm(l,y),u&&Ta(l.requestHeaders).length>0&&(y[Ur]=y[Ur]||{},y[Ur].requestHeaders=l.requestHeaders),f){var m=f();if(m){var C=m.correlationContext;if(C&&(y.correlationContext=C),m.headerMap&&Ta(m.headerMap).length>0&&(y[Ur]=y[Ur]||{},y[Ur].responseHeaders=m.headerMap),l.status>=400){var j=m.type;y[Ur]=y[Ur]||{},(j===""||j==="text")&&(y[Ur][s]=m[s]?m.statusText+" - "+m[s]:m.statusText),j==="json"&&(y[Ur][s]=m.response?m.statusText+" - "+JSON.stringify(m.response):m.statusText)}}}return y;var Q}})}return o(e,"t"),e}()}),Jm,Ym=it(()=>{In(),In(),Jm=function(){function e(){}return o(e,"t"),e.GetLength=function(t){var n=0;if(!Ft(t)){var r="";try{r=t.toString()}catch(i){}n=r.length,n=isNaN(n)?0:n}return n},e}()}),Zc,ey=it(()=>{In(),Zc=function(){function e(t,n){var r=this;r.traceFlag=e.DEFAULT_TRACE_FLAG,r.version=e.DEFAULT_VERSION,t&&e.isValidTraceId(t)?r.traceId=t:r.traceId=Si(),n&&e.isValidSpanId(n)?r.spanId=n:r.spanId=Si().substr(0,16)}return o(e,"t"),e.isValidTraceId=function(t){return t.match(/^[0-9a-f]{32}$/)&&t!=="00000000000000000000000000000000"},e.isValidSpanId=function(t){return t.match(/^[0-9a-f]{16}$/)&&t!=="0000000000000000"},e.prototype.toString=function(){var t=this;return t.version+"-"+t.traceId+"-"+t.spanId+"-"+t.traceFlag},e.DEFAULT_TRACE_FLAG="01",e.DEFAULT_VERSION="00",e}()});function ty(){var e=Xa();return!e||Ft(e.Request)||Ft(e.Request[Kr])||Ft(e[bo])?null:e[bo]}o(ty,"El");function ny(e){var t=!1;if(typeof XMLHttpRequest!==Mi&&!Ft(XMLHttpRequest)){var n=XMLHttpRequest[Kr];t=!Ft(n)&&!Ft(n.open)&&!Ft(n.send)&&!Ft(n.abort)}var r=Lu();if(r&&r<9&&(t=!1),t)try{var i=new XMLHttpRequest;i[$r]={};var a=XMLHttpRequest[Kr].open;XMLHttpRequest[Kr].open=a}catch(s){t=!1,is(e,yt.FailedMonitorAjaxOpen,"Failed to enable XMLHttpRequest monitoring, extension is not supported",{exception:_n(s)})}return t}o(ny,"wl");function Ll(e){var t="";try{!Ft(e)&&!Ft(e[$r])&&!Ft(e[$r].requestUrl)&&(t+="(url: '"+e[$r].requestUrl+"')")}catch(n){}return t}o(Ll,"bi");function is(e,t,n,r,i){e[xo]()[Xc](Dt.CRITICAL,t,n,r,i)}o(is,"Rn");function Nl(e,t,n,r,i){e[xo]()[Xc](Dt.WARNING,t,n,r,i)}o(Nl,"Pi");function as(e,t,n){return function(r){is(e,t,n,{ajaxDiagnosticsMessage:Ll(r.inst),exception:_n(r.err)})}}o(as,"Nn");function _o(e,t){return e&&t?e.indexOf(t):-1}o(_o,"zr");var Qc,xo,$r,Xc,bo,Jc,Yc,ry=it(()=>{Vn(),mr(),In(),Xm(),Ym(),ey(),br(),Qc="ai.ajxmn.",xo="diagLog",$r="ajaxData",Xc="throwInternal",bo="fetch",Jc=0,Yc=function(e){zn(t,e);function t(){var n=e.call(this)||this;n.identifier=t.identifier,n.priority=120;var r="trackDependencyDataInternal",i=Ia(),a=!1,s=!1,l=i&&i.host&&i.host.toLowerCase(),c=t.getEmptyConfig(),u=!1,f=0,y,m,C,j,Q=!1,z=0,G=!1,re=[],fe={},le;return ur(t,n,function(be,Je){be.initialize=function(We,At,Bt,zt){if(!be.isInitialized()){Je.initialize(We,At,Bt,zt);var Zt=be._getTelCtx(),dn=t.getDefaultConfig();vr(dn,function(zr,Fo){c[zr]=Zt.getConfig(t.identifier,zr,Fo)});var fn=c.distributedTracingMode;if(u=c.enableRequestHeaderTracking,Q=c.enableAjaxPerfTracking,z=c.maxAjaxCallsPerView,G=c.enableResponseHeaderTracking,le=c.excludeRequestFromAutoTrackingPatterns,C=fn===di.AI||fn===di.AI_AND_W3C,m=fn===di.AI_AND_W3C||fn===di.W3C,Q){var Mn=We.instrumentationKey||"unkwn";Mn.length>5?j=Qc+Mn.substring(Mn.length-5)+".":j=Qc+Mn+"."}if(c.disableAjaxTracking===!1&&Pe(),Oe(),Bt.length>0&&Bt){for(var sr=void 0,_r=0;!sr&&_r<Bt.length;)Bt[_r]&&Bt[_r].identifier===yo&&(sr=Bt[_r]),_r++;sr&&(y=sr.context)}}},be.teardown=function(){Sn(re,function(We){We.rm()}),re=[],a=!1,s=!1,be.setInitialized(!1)},be.trackDependencyData=function(We,At){be[r](We,At)},be.includeCorrelationHeaders=function(We,At,Bt,zt){var Zt=be._currentWindowHost||l;if(At){if(sa.canIncludeCorrelationHeader(c,We.getAbsoluteUrl(),Zt)){if(Bt||(Bt={}),Bt.headers=new Headers(Bt.headers||(At instanceof Request?At.headers||{}:{})),C){var dn="|"+We.traceID+"."+We.spanID;Bt.headers.set(Qn.requestIdHeader,dn),u&&(We.requestHeaders[Qn.requestIdHeader]=dn)}var fn=c.appId||y&&y.appId();if(fn&&(Bt.headers.set(Qn.requestContextHeader,Qn.requestContextAppIdFormat+fn),u&&(We.requestHeaders[Qn.requestContextHeader]=Qn.requestContextAppIdFormat+fn)),m){var Mn=new Zc(We.traceID,We.spanID);Bt.headers.set(Qn.traceParentHeader,Mn.toString()),u&&(We.requestHeaders[Qn.traceParentHeader]=Mn.toString())}}return Bt}else if(zt){if(sa.canIncludeCorrelationHeader(c,We.getAbsoluteUrl(),Zt)){if(C){var dn="|"+We.traceID+"."+We.spanID;zt.setRequestHeader(Qn.requestIdHeader,dn),u&&(We.requestHeaders[Qn.requestIdHeader]=dn)}var fn=c.appId||y&&y.appId();if(fn&&(zt.setRequestHeader(Qn.requestContextHeader,Qn.requestContextAppIdFormat+fn),u&&(We.requestHeaders[Qn.requestContextHeader]=Qn.requestContextAppIdFormat+fn)),m){var Mn=new Zc(We.traceID,We.spanID);zt.setRequestHeader(Qn.traceParentHeader,Mn.toString()),u&&(We.requestHeaders[Qn.traceParentHeader]=Mn.toString())}}return zt}},be[r]=function(We,At,Bt){if(z===-1||f<z){(c.distributedTracingMode===di.W3C||c.distributedTracingMode===di.AI_AND_W3C)&&typeof We.id=="string"&&We.id[We.id.length-1]!=="."&&(We.id+="."),Ft(We.startTime)&&(We.startTime=new Date);var zt=Ii.create(We,Ti.dataType,Ti.envelopeType,be[xo](),At,Bt);be.core.track(zt)}else f===z&&is(be,yt.MaxAjaxPerPVExceeded,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0);++f};function Ue(We){var At=!0;return(We||c.ignoreHeaders)&&Sn(c.ignoreHeaders,function(Bt){if(Bt.toLowerCase()===We.toLowerCase())return At=!1,-1}),At}o(Ue,"ye");function Oe(){var We=ty();if(We){var At=Xa(),Bt=We.polyfill;c.disableFetchTracking===!1?(re.push(fc(At,bo,{req:function(zt,Zt,dn){var fn;if(a&&!St(null,Zt,dn)&&!(Bt&&s)){var Mn=zt.ctx();fn=wn(Zt,dn);var sr=be.includeCorrelationHeaders(fn,Zt,dn);sr!==dn&&zt.set(1,sr),Mn.data=fn}},rsp:function(zt,Zt){var dn=zt.ctx().data;dn&&(zt.rslt=zt.rslt.then(function(fn){return Xn(zt,(fn||{}).status,fn,dn,function(){var Mn={statusText:fn.statusText,headerMap:null,correlationContext:_a(fn)};if(G){var sr={};fn.headers.forEach(function(_r,zr){Ue(zr)&&(sr[zr]=_r)}),Mn.headerMap=sr}return Mn}),fn}).catch(function(fn){throw Xn(zt,0,Zt,dn,null,{error:fn.message}),fn}))},hkErr:as(be,yt.FailedMonitorAjaxOpen,"Failed to monitor Window.fetch, monitoring data for this fetch call may be incorrect.")})),a=!0):Bt&&re.push(fc(At,bo,{req:function(zt,Zt,dn){St(null,Zt,dn)}})),Bt&&(At[bo].polyfill=Bt)}}o(Oe,"J");function vt(We,At,Bt){re.push(Gv(We,At,Bt))}o(vt,"de");function Pe(){ny(be)&&!s&&(vt(XMLHttpRequest,"open",{req:function(We,At,Bt,zt){var Zt=We.inst,dn=Zt[$r];!St(Zt,Bt)&&un(Zt,!0)&&(!dn||!dn.xhrMonitoringState.openDone)&&kn(Zt,At,Bt,zt)},hkErr:as(be,yt.FailedMonitorAjaxOpen,"Failed to monitor XMLHttpRequest.open, monitoring data for this ajax call may be incorrect.")}),vt(XMLHttpRequest,"send",{req:function(We,At){var Bt=We.inst,zt=Bt[$r];un(Bt)&&!zt.xhrMonitoringState.sendDone&&(Vt("xhr",zt),zt.requestSentTime=Jo(),be.includeCorrelationHeaders(zt,void 0,void 0,Bt),zt.xhrMonitoringState.sendDone=!0)},hkErr:as(be,yt.FailedMonitorAjaxSend,"Failed to monitor XMLHttpRequest, monitoring data for this ajax call may be incorrect.")}),vt(XMLHttpRequest,"abort",{req:function(We){var At=We.inst,Bt=At[$r];un(At)&&!Bt.xhrMonitoringState.abortDone&&(Bt.aborted=1,Bt.xhrMonitoringState.abortDone=!0)},hkErr:as(be,yt.FailedMonitorAjaxAbort,"Failed to monitor XMLHttpRequest.abort, monitoring data for this ajax call may be incorrect.")}),u&&vt(XMLHttpRequest,"setRequestHeader",{req:function(We,At,Bt){var zt=We.inst;un(zt)&&Ue(At)&&(zt[$r].requestHeaders[At]=Bt)},hkErr:as(be,yt.FailedMonitorAjaxSetRequestHeader,"Failed to monitor XMLHttpRequest.setRequestHeader, monitoring data for this ajax call may be incorrect.")}),s=!0)}o(Pe,"be");function St(We,At,Bt){var zt=!1,Zt=((En(At)?At:(At||{}).url||"")||"").toLowerCase();if(Sn(le,function(Mn){var sr=Mn;En(Mn)&&(sr=new RegExp(Mn)),zt||(zt=sr.test(Zt))}),zt)return zt;var dn=_o(Zt,"?"),fn=_o(Zt,"#");return(dn===-1||fn!==-1&&fn<dn)&&(dn=fn),dn!==-1&&(Zt=Zt.substring(0,dn)),Ft(We)?Ft(At)||(zt=(typeof At=="object"?At[Pa]===!0:!1)||(Bt?Bt[Pa]===!0:!1)):zt=We[Pa]===!0||Zt[Pa]===!0,zt?fe[Zt]||(fe[Zt]=1):fe[Zt]&&(zt=!0),zt}o(St,"pt");function un(We,At){var Bt=!0,zt=s;return Ft(We)||(Bt=At===!0||!Ft(We[$r])),zt&&Bt}o(un,"it");function kn(We,At,Bt,zt){var Zt=y&&y.telemetryTrace&&y.telemetryTrace.traceID||Si(),dn=Si().substr(0,16),fn=new Gc(Zt,dn,be[xo]());fn.method=At,fn.requestUrl=Bt,fn.xhrMonitoringState.openDone=!0,fn.requestHeaders={},fn.async=zt,We[$r]=fn,Se(We)}o(kn,"dt");function Se(We){We[$r].xhrMonitoringState.stateChangeAttached=Zo.Attach(We,"readystatechange",function(){try{We&&We.readyState===4&&un(We)&&_t(We)}catch(Bt){var At=_n(Bt);(!At||_o(At.toLowerCase(),"c00c023f")===-1)&&is(be,yt.FailedMonitorAjaxRSC,"Failed to monitor XMLHttpRequest 'readystatechange' event handler, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:Ll(We),exception:At})}})}o(Se,"d");function st(We){try{var At=We.responseType;if(At===""||At==="text")return We.responseText}catch(Bt){}return null}o(st,"T");function _t(We){var At=We[$r];At.responseFinishedTime=Jo(),At.status=We.status;function Bt(zt,Zt){var dn=Zt||{};dn.ajaxDiagnosticsMessage=Ll(We),zt&&(dn.exception=_n(zt)),Nl(be,yt.FailedMonitorAjaxDur,"Failed to calculate the duration of the ajax call, monitoring data for this ajax call won't be sent.",dn)}o(Bt,"N"),en("xmlhttprequest",At,function(){try{var zt=At.CreateTrackItem("Ajax",u,function(){var Zt={statusText:We.statusText,headerMap:null,correlationContext:xt(We),type:We.responseType,responseText:st(We),response:We.response};if(G){var dn=We.getAllResponseHeaders();if(dn){var fn=Cr(dn).split(/[\r\n]+/),Mn={};Sn(fn,function(sr){var _r=sr.split(": "),zr=_r.shift(),Fo=_r.join(": ");Ue(zr)&&(Mn[zr]=Fo)}),Zt.headerMap=Mn}}return Zt});zt?be[r](zt):Bt(null,{requestSentTime:At.requestSentTime,responseFinishedTime:At.responseFinishedTime})}finally{try{We[$r]=null}catch(Zt){}}},function(zt){Bt(zt,null)})}o(_t,"D");function xt(We){try{var At=We.getAllResponseHeaders();if(At!==null){var Bt=_o(At.toLowerCase(),Qn.requestContextHeaderLowerCase);if(Bt!==-1){var zt=We.getResponseHeader(Qn.requestContextHeader);return sa.getCorrelationContext(zt)}}}catch(Zt){Nl(be,yt.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{ajaxDiagnosticsMessage:Ll(We),exception:_n(Zt)})}}o(xt,"A");function Vt(We,At){if(At.requestUrl&&j&&Q){var Bt=Ui();if(Bt&&Dn(Bt.mark)){Jc++;var zt=j+We+"#"+Jc;Bt.mark(zt);var Zt=Bt.getEntriesByName(zt);Zt&&Zt.length===1&&(At.perfMark=Zt[0])}}}o(Vt,"H");function en(We,At,Bt,zt){var Zt=At.perfMark,dn=Ui(),fn=c.maxAjaxPerfLookupAttempts,Mn=c.ajaxPerfLookupDelay,sr=At.requestUrl,_r=0;o(function zr(){try{if(dn&&Zt){_r++;for(var Fo=null,Q0=dn.getEntries(),id=Q0.length-1;id>=0;id--){var Yi=Q0[id];if(Yi){if(Yi.entryType==="resource")Yi.initiatorType===We&&(_o(Yi.name,sr)!==-1||_o(sr,Yi.name)!==-1)&&(Fo=Yi);else if(Yi.entryType==="mark"&&Yi.name===Zt.name){At.perfTiming=Fo;break}if(Yi.startTime<Zt.startTime-1e3)break}}}!Zt||At.perfTiming||_r>=fn||At.async===!1?(Zt&&Dn(dn.clearMarks)&&dn.clearMarks(Zt.name),At.perfAttempts=_r,Bt()):setTimeout(zr,Mn)}catch(Ab){zt(Ab)}},"We")()}o(en,"_");function wn(We,At){var Bt=y&&y.telemetryTrace&&y.telemetryTrace.traceID||Si(),zt=Si().substr(0,16),Zt=new Gc(Bt,zt,be[xo]());Zt.requestSentTime=Jo(),We instanceof Request?Zt.requestUrl=We?We.url:"":Zt.requestUrl=We;var dn="GET";At&&At.method?dn=At.method:We&&We instanceof Request&&(dn=We.method),Zt.method=dn;var fn={};if(u){var Mn=new Headers((At?At.headers:0)||(We instanceof Request?We.headers||{}:{}));Mn.forEach(function(sr,_r){Ue(_r)&&(fn[_r]=sr)})}return Zt.requestHeaders=fn,Vt("fetch",Zt),Zt}o(wn,"j");function On(We){var At="";try{Ft(We)||(typeof We=="string"?At+="(url: '"+We+"')":At+="(url: '"+We.url+"')")}catch(Bt){is(be,yt.FailedMonitorAjaxOpen,"Failed to grab failed fetch diagnostics message",{exception:_n(Bt)})}return At}o(On,"Z");function Xn(We,At,Bt,zt,Zt,dn){if(!zt)return;function fn(Mn,sr,_r){var zr=_r||{};zr.fetchDiagnosticsMessage=On(Bt),sr&&(zr.exception=_n(sr)),Nl(be,Mn,"Failed to calculate the duration of the fetch call, monitoring data for this fetch call won't be sent.",zr)}o(fn,"V"),zt.responseFinishedTime=Jo(),zt.status=At,en("fetch",zt,function(){var Mn=zt.CreateTrackItem("Fetch",u,Zt);Mn?be[r](Mn):fn(yt.FailedMonitorAjaxDur,null,{requestSentTime:zt.requestSentTime,responseFinishedTime:zt.responseFinishedTime})},function(Mn){fn(yt.FailedMonitorAjaxGetCorrelationHeader,Mn,null)})}o(Xn,"ie");function _a(We){if(We&&We.headers)try{var At=We.headers.get(Qn.requestContextHeader);return sa.getCorrelationContext(At)}catch(Bt){Nl(be,yt.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{fetchDiagnosticsMessage:On(We),exception:_n(Bt)})}}o(_a,"Ht")}),n}return o(t,"e"),t.getDefaultConfig=function(){var n={maxAjaxCallsPerView:500,disableAjaxTracking:!1,disableFetchTracking:!0,excludeRequestFromAutoTrackingPatterns:void 0,disableCorrelationHeaders:!1,distributedTracingMode:di.AI_AND_W3C,correlationHeaderExcludedDomains:["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],correlationHeaderDomains:void 0,correlationHeaderExcludePatterns:void 0,appId:void 0,enableCorsCorrelation:!1,enableRequestHeaderTracking:!1,enableResponseHeaderTracking:!1,enableAjaxErrorStatusText:!1,enableAjaxPerfTracking:!1,maxAjaxPerfLookupAttempts:3,ajaxPerfLookupDelay:25,ignoreHeaders:["Authorization","X-API-Key","WWW-Authenticate"]};return n},t.getEmptyConfig=function(){var n=this.getDefaultConfig();return vr(n,function(r){n[r]=void 0}),n},t.prototype.processTelemetry=function(n,r){this.processNext(n,r)},t.identifier="AjaxDependencyPlugin",t}(Da)}),$g=it(()=>{ry()}),ef,tf,Hg,zg,nf,Wg=it(()=>{In(),cg(),Sg(),Ng(),$g(),mr(),tf=["snippet","dependencies","properties","_snippetVersion","appInsightsNew","getSKUDefaults"],Hg={Default:0,Required:1,Array:2,Hidden:4},zg={__proto__:null,PropertiesPluginIdentifier:yo,BreezeChannelIdentifier:kl,AnalyticsPluginIdentifier:Bc,Util:Tc,CorrelationIdHelper:sa,UrlHelper:Oh,DateTimeUtils:Mh,ConnectionStringParser:$h,FieldType:Hg,RequestHeaders:Qn,DisabledPropertyName:Pa,ProcessLegacy:ho,SampleRate:wl,HttpMethod:_l,DEFAULT_BREEZE_ENDPOINT:wc,AIData:Ac,AIBase:Ic,Envelope:Rc,Event:hi,Exception:Nr,Metric:Ci,PageView:gi,PageViewData:Rl,RemoteDependencyData:Ti,Trace:Wi,PageViewPerformance:ji,Data:Ki,SeverityLevel:Yo,ConfigurationManager:ig,ContextTagKeys:Fl,DataSanitizer:mh,TelemetryItemCreator:Ii,CtxTagKeys:Gn,Extensions:Br,DistributedTracingModes:di},nf=function(){function e(t){var n=this;n._snippetVersion=""+(t.sv||t.version||""),t.queue=t.queue||[],t.version=t.version||2;var r=t.config||{};if(r.connectionString){var i=Nh(r.connectionString),a=i.ingestionendpoint;r.endpointUrl=a?a+"/v2/track":r.endpointUrl,r.instrumentationKey=i.instrumentationkey||r.instrumentationKey}n.appInsights=new $c,n.properties=new Vc,n.dependencies=new Yc,n.core=new oc,n._sender=new Kc,n.snippet=t,n.config=r,n.getSKUDefaults()}return o(e,"t"),e.prototype.getCookieMgr=function(){return this.appInsights.getCookieMgr()},e.prototype.trackEvent=function(t,n){this.appInsights.trackEvent(t,n)},e.prototype.trackPageView=function(t){var n=t||{};this.appInsights.trackPageView(n)},e.prototype.trackPageViewPerformance=function(t){var n=t||{};this.appInsights.trackPageViewPerformance(n)},e.prototype.trackException=function(t){t&&!t.exception&&t.error&&(t.exception=t.error),this.appInsights.trackException(t)},e.prototype._onerror=function(t){this.appInsights._onerror(t)},e.prototype.trackTrace=function(t,n){this.appInsights.trackTrace(t,n)},e.prototype.trackMetric=function(t,n){this.appInsights.trackMetric(t,n)},e.prototype.startTrackPage=function(t){this.appInsights.startTrackPage(t)},e.prototype.stopTrackPage=function(t,n,r,i){this.appInsights.stopTrackPage(t,n,r,i)},e.prototype.startTrackEvent=function(t){this.appInsights.startTrackEvent(t)},e.prototype.stopTrackEvent=function(t,n,r){this.appInsights.stopTrackEvent(t,n,r)},e.prototype.addTelemetryInitializer=function(t){return this.appInsights.addTelemetryInitializer(t)},e.prototype.setAuthenticatedUserContext=function(t,n,r){r===void 0&&(r=!1),this.properties.context.user.setAuthenticatedUserContext(t,n,r)},e.prototype.clearAuthenticatedUserContext=function(){this.properties.context.user.clearAuthenticatedUserContext()},e.prototype.trackDependencyData=function(t){this.dependencies.trackDependencyData(t)},e.prototype.flush=function(t){var n=this;t===void 0&&(t=!0),io(this.core,function(){return"AISKU.flush"},function(){Sn(n.core.getTransmissionControls(),function(r){Sn(r,function(i){i.flush(t)})})},null,t)},e.prototype.onunloadFlush=function(t){t===void 0&&(t=!0),Sn(this.core.getTransmissionControls(),function(n){Sn(n,function(r){r.onunloadFlush?r.onunloadFlush():r.flush(t)})})},e.prototype.loadAppInsights=function(t,n,r){var i=this;t===void 0&&(t=!1);var a=this;function s(l){if(l){var c="";Ft(a._snippetVersion)||(c+=a._snippetVersion),t&&(c+=".lg"),a.context&&a.context.internal&&(a.context.internal.snippetVer=c||"-"),vr(a,function(u,f){En(u)&&!Dn(f)&&u&&u[0]!=="_"&&tf.indexOf(u)===-1&&(l[u]=f)})}}return o(s,"o"),t&&a.config.extensions&&a.config.extensions.length>0&&xi("Extensions not allowed in legacy mode"),io(a.core,function(){return"AISKU.loadAppInsights"},function(){var l=[];l.push(a._sender),l.push(a.properties),l.push(a.dependencies),l.push(a.appInsights),a.core.initialize(a.config,l,n,r),a.context=a.properties.context,ef&&a.context&&(a.context.internal.sdkSrc=ef),s(a.snippet),a.emptyQueue(),a.pollInternalLogs(),a.addHousekeepingBeforeUnload(i)}),a},e.prototype.updateSnippetDefinitions=function(t){_d(t,this,function(n){return n&&tf.indexOf(n)===-1})},e.prototype.emptyQueue=function(){var t=this;try{if(Bi(t.snippet.queue)){for(var n=t.snippet.queue.length,r=0;r<n;r++){var i=t.snippet.queue[r];i()}t.snippet.queue=void 0,delete t.snippet.queue}}catch(s){var a={};s&&Dn(s.toString)&&(a.exception=s.toString())}},e.prototype.pollInternalLogs=function(){this.core.pollInternalLogs()},e.prototype.addHousekeepingBeforeUnload=function(t){if(el()||Ed()){var n=o(function(){t.onunloadFlush(!1),Sn(t.appInsights.core._extensions,function(i){if(i.identifier===yo)return i&&i.context&&i.context._sessionManager&&i.context._sessionManager.backup(),-1})},"r");if(!t.appInsights.config.disableFlushOnBeforeUnload){var r=ka("beforeunload",n);r=ka("unload",n)||r,r=ka("pagehide",n)||r,r=ka("visibilitychange",n)||r,!r&&!Dv()&&t.appInsights.core.logger.throwInternal(Dt.CRITICAL,yt.FailedToAddHandlerForOnBeforeUnload,"Could not add handler for beforeunload and pagehide")}t.appInsights.config.disableFlushOnUnload||(ka("pagehide",n),ka("visibilitychange",n))}},e.prototype.getSender=function(){return this._sender},e.prototype.getSKUDefaults=function(){var t=this;t.config.diagnosticLogInterval=t.config.diagnosticLogInterval&&t.config.diagnosticLogInterval>0?t.config.diagnosticLogInterval:1e4},e}(),function(){var e=null,t=!1,n=["://js.monitor.azure.com/","://az416426.vo.msecnd.net/"];try{var r=(document||{}).currentScript;r&&(e=r.src)}catch(l){}if(e)try{var i=e.toLowerCase();if(i){for(var a="",s=0;s<n.length;s++)if(i.indexOf(n[s])!==-1){a="cdn"+(s+1),i.indexOf("/scripts/")===-1&&(i.indexOf("/next/")!==-1?a+="-next":i.indexOf("/beta/")!==-1&&(a+="-beta")),ef=a+(t?".mod":"");break}}}catch(l){}}()}),jg,Kg,iy=it(()=>{mr(),In(),jg=["snippet","getDefaultConfig","_hasLegacyInitializers","_queue","_processLegacyInitializers"],Kg=function(){function e(t,n){this._hasLegacyInitializers=!1,this._queue=[],this.config=e.getDefaultConfig(t.config),this.appInsightsNew=n,this.context={addTelemetryInitializer:this.addTelemetryInitializers.bind(this)}}return o(e,"t"),e.getDefaultConfig=function(t){return t||(t={}),t.endpointUrl=t.endpointUrl||"https://dc.services.visualstudio.com/v2/track",t.sessionRenewalMs=30*60*1e3,t.sessionExpirationMs=24*60*60*1e3,t.maxBatchSizeInBytes=t.maxBatchSizeInBytes>0?t.maxBatchSizeInBytes:102400,t.maxBatchInterval=isNaN(t.maxBatchInterval)?15e3:t.maxBatchInterval,t.enableDebug=Kn(t.enableDebug),t.disableExceptionTracking=Kn(t.disableExceptionTracking),t.disableTelemetry=Kn(t.disableTelemetry),t.verboseLogging=Kn(t.verboseLogging),t.emitLineDelimitedJson=Kn(t.emitLineDelimitedJson),t.diagnosticLogInterval=t.diagnosticLogInterval||1e4,t.autoTrackPageVisitTime=Kn(t.autoTrackPageVisitTime),(isNaN(t.samplingPercentage)||t.samplingPercentage<=0||t.samplingPercentage>=100)&&(t.samplingPercentage=100),t.disableAjaxTracking=Kn(t.disableAjaxTracking),t.maxAjaxCallsPerView=isNaN(t.maxAjaxCallsPerView)?500:t.maxAjaxCallsPerView,t.isBeaconApiDisabled=Kn(t.isBeaconApiDisabled,!0),t.disableCorrelationHeaders=Kn(t.disableCorrelationHeaders),t.correlationHeaderExcludedDomains=t.correlationHeaderExcludedDomains||["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],t.disableFlushOnBeforeUnload=Kn(t.disableFlushOnBeforeUnload),t.disableFlushOnUnload=Kn(t.disableFlushOnUnload,t.disableFlushOnBeforeUnload),t.enableSessionStorageBuffer=Kn(t.enableSessionStorageBuffer,!0),t.isRetryDisabled=Kn(t.isRetryDisabled),t.isCookieUseDisabled=Kn(t.isCookieUseDisabled),t.isStorageUseDisabled=Kn(t.isStorageUseDisabled),t.isBrowserLinkTrackingEnabled=Kn(t.isBrowserLinkTrackingEnabled),t.enableCorsCorrelation=Kn(t.enableCorsCorrelation),t},e.prototype.addTelemetryInitializers=function(t){var n=this;this._hasLegacyInitializers||(this.appInsightsNew.addTelemetryInitializer(function(r){n._processLegacyInitializers(r)}),this._hasLegacyInitializers=!0),this._queue.push(t)},e.prototype.getCookieMgr=function(){return this.appInsightsNew.getCookieMgr()},e.prototype.startTrackPage=function(t){this.appInsightsNew.startTrackPage(t)},e.prototype.stopTrackPage=function(t,n,r,i){this.appInsightsNew.stopTrackPage(t,n,r)},e.prototype.trackPageView=function(t,n,r,i,a){var s={name:t,uri:n,properties:r,measurements:i};this.appInsightsNew.trackPageView(s)},e.prototype.trackEvent=function(t,n,r){this.appInsightsNew.trackEvent({name:t})},e.prototype.trackDependency=function(t,n,r,i,a,s,l){this.appInsightsNew.trackDependencyData({id:t,target:r,type:i,duration:a,properties:{HttpMethod:n},success:s,responseCode:l})},e.prototype.trackException=function(t,n,r,i,a){this.appInsightsNew.trackException({exception:t})},e.prototype.trackMetric=function(t,n,r,i,a,s){this.appInsightsNew.trackMetric({name:t,average:n,sampleCount:r,min:i,max:a})},e.prototype.trackTrace=function(t,n,r){this.appInsightsNew.trackTrace({message:t,severityLevel:r})},e.prototype.flush=function(t){this.appInsightsNew.flush(t)},e.prototype.setAuthenticatedUserContext=function(t,n,r){this.appInsightsNew.context.user.setAuthenticatedUserContext(t,n,r)},e.prototype.clearAuthenticatedUserContext=function(){this.appInsightsNew.context.user.clearAuthenticatedUserContext()},e.prototype._onerror=function(t,n,r,i,a){this.appInsightsNew._onerror({message:t,url:n,lineNumber:r,columnNumber:i,error:a})},e.prototype.startTrackEvent=function(t){this.appInsightsNew.startTrackEvent(t)},e.prototype.stopTrackEvent=function(t,n,r){this.appInsightsNew.stopTrackEvent(t,n,r)},e.prototype.downloadAndSetup=function(t){xi("downloadAndSetup not implemented in web SKU")},e.prototype.updateSnippetDefinitions=function(t){_d(t,this,function(n){return n&&jg.indexOf(n)===-1})},e.prototype.loadAppInsights=function(){var t=this;if(this.config.iKey){var n=this.trackPageView;this.trackPageView=function(a,s,l){n.apply(t,[null,a,s,l])}}var r="logPageView";typeof this.snippet[r]=="function"&&(this[r]=function(a,s,l){t.trackPageView(null,a,s,l)});var i="logEvent";return typeof this.snippet[i]=="function"&&(this[i]=function(a,s,l){t.trackEvent(a,s,l)}),this},e.prototype._processLegacyInitializers=function(t){return t.tags[ho]=this._queue,t},e}()}),qg,ay=it(()=>{iy(),Wg(),In(),qg=function(){function e(){}return o(e,"t"),e.getAppInsights=function(t,n){var r=new nf(t),i=n!==2;if(uo(),n===2)return r.updateSnippetDefinitions(t),r.loadAppInsights(i),r;var a=new Kg(t,r);return a.updateSnippetDefinitions(t),r.loadAppInsights(i),a},e}()}),Vg={};av(Vg,{AppInsightsCore:()=>oc,ApplicationAnalytics:()=>$c,ApplicationInsights:()=>nf,ApplicationInsightsContainer:()=>qg,BaseCore:()=>ic,BaseTelemetryPlugin:()=>Da,CoreUtils:()=>ml,DependenciesPlugin:()=>Yc,DistributedTracingModes:()=>di,Event:()=>hi,Exception:()=>Nr,LoggingSeverity:()=>Dt,Metric:()=>Ci,NotificationManager:()=>ac,PageView:()=>gi,PageViewPerformance:()=>ji,PerfEvent:()=>ao,PerfManager:()=>Hu,PropertiesPlugin:()=>Vc,RemoteDependencyData:()=>Ti,Sender:()=>Kc,SeverityLevel:()=>Yo,Telemetry:()=>zg,Trace:()=>Wi,Util:()=>Tc,_InternalMessageId:()=>yt,doPerf:()=>io});var oy=it(()=>{Wg(),ay(),In(),mr(),Sg(),cg(),Ng(),$g()}),sy=o((e,t,n)=>Za(void 0,null,function*(){let r=yield Promise.resolve().then(__webpack_require__.bind(__webpack_require__,3850)),i=yield Promise.resolve().then(__webpack_require__.bind(__webpack_require__,7156)),a=new r.AppInsightsCore,s=new i.PostChannel,l={instrumentationKey:e,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[s]]};if(n){l.extensionConfig={};let u={alwaysUseXhrOverride:!0,httpXHROverride:n};l.extensionConfig[s.identifier]=u}let c=t.workspace.getConfiguration("telemetry").get("internalTesting");return a.initialize(l,[]),a.addTelemetryInitializer(u=>{var f,y;!c||(u.ext=(f=u.ext)!=null?f:{},u.ext.utc=(y=u.ext.utc)!=null?y:{},u.ext.utc.flags=8462029)}),a}),"wc"),ly=o((e,t,n)=>Za(void 0,null,function*(){let r=yield sy(e,t,n);return{logEvent:(i,a)=>{try{r==null||r.track({name:i,baseData:{name:i,properties:a==null?void 0:a.properties,measurements:a==null?void 0:a.measurements}})}catch(s){throw new Error(`Failed to log event to app insights!
`+s.message)}},logException:(i,a)=>{throw new Error("1DS SDK does not support logging exceptions, please use logEvent for exception tracking")},flush:()=>Za(void 0,null,function*(){try{r==null||r.unload()}catch(i){throw new Error(`Failed to flush app insights!
`+i.message)}})}}),"yo"),uy=o(class{constructor(e,t){this._instantiationStatus=0,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e}logEvent(e,t){if(!this._telemetryClient){this._instantiationStatus!==2&&this._eventQueue.push({eventName:e,data:t});return}this._telemetryClient.logEvent(e,t)}logException(e,t){if(!this._telemetryClient){this._instantiationStatus!==2&&this._exceptionQueue.push({exception:e,data:t});return}this._telemetryClient.logException(e,t)}flush(){return Za(this,null,function*(){this._telemetryClient&&(yield this._telemetryClient.flush(),this._telemetryClient=void 0)})}_flushQueues(){this._eventQueue.forEach(({eventName:e,data:t})=>this.logEvent(e,t)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:e,data:t})=>this.logException(e,t)),this._exceptionQueue=[]}instantiateAppender(){this._instantiationStatus===0&&(this._instantiationStatus=1,this._clientFactory(this._key).then(e=>{this._telemetryClient=e,this._instantiationStatus=2,this._flushQueues()}).catch(e=>{console.error(e),this._instantiationStatus=2}))}},"Ln"),Ai=o(class{constructor(e){this.vscodeAPI=e}getTelemetryLevel(){let e="telemetry",t="enableTelemetry";try{let n=this.vscodeAPI.env.telemetryConfiguration;return n.isUsageEnabled&&n.isErrorsEnabled&&n.isCrashEnabled?"on":n.isErrorsEnabled&&n.isCrashEnabled?"error":"off"}catch(n){return this.vscodeAPI.env.isTelemetryEnabled!==void 0?this.vscodeAPI.env.isTelemetryEnabled?"on":"off":this.vscodeAPI.workspace.getConfiguration(e).get(t)?"on":"off"}}static applyReplacements(e,t){for(let n of Object.keys(e))for(let r of t)r.lookup.test(n)&&(r.replacementString!==void 0?e[n]=r.replacementString:delete e[n])}static shouldUseOneDataSystemSDK(e){return e.length===74&&e[32]==="-"&&e[41]==="-"&&e[46]==="-"&&e[51]==="-"&&e[56]==="-"&&e[69]==="-"}static getInstance(e){return Ai._instance||(Ai._instance=new Ai(e)),Ai._instance}},"je"),cy=o(class{constructor(e,t,n,r,i,a){this.extensionId=e,this.extensionVersion=t,this.telemetryAppender=n,this.osShim=r,this.vscodeAPI=i,this.firstParty=!1,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this.firstParty=!!a,this.updateUserOptStatus(),i.env.onDidChangeTelemetryEnabled!==void 0?(this.disposables.push(i.env.onDidChangeTelemetryEnabled(()=>this.updateUserOptStatus())),this.disposables.push(i.workspace.onDidChangeConfiguration(()=>this.updateUserOptStatus()))):this.disposables.push(i.workspace.onDidChangeConfiguration(()=>this.updateUserOptStatus()))}updateUserOptStatus(){let e=Ai.getInstance(this.vscodeAPI).getTelemetryLevel();this.userOptIn=e==="on",this.errorOptIn=e==="error"||this.userOptIn,(this.userOptIn||this.errorOptIn)&&this.telemetryAppender.instantiateAppender()}cleanRemoteName(e){if(!e)return"none";let t="other";return["ssh-remote","dev-container","attached-container","wsl","codespaces"].forEach(n=>{e.indexOf(`${n}`)===0&&(t=n)}),t}get extension(){return this._extension===void 0&&(this._extension=this.vscodeAPI.extensions.getExtension(this.extensionId)),this._extension}cloneAndChange(e,t){if(e===null||typeof e!="object"||typeof t!="function")return e;let n={};for(let r in e)n[r]=t(r,e[r]);return n}shouldSendErrorTelemetry(){return this.errorOptIn===!1?!1:this.firstParty?!(this.vscodeAPI.env.remoteName&&this.cleanRemoteName(this.vscodeAPI.env.remoteName)==="other"):!0}getCommonProperties(){let e={};if(e["common.os"]=this.osShim.platform,e["common.nodeArch"]=this.osShim.architecture,e["common.platformversion"]=(this.osShim.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),e["common.extname"]=this.extensionId,e["common.extversion"]=this.extensionVersion,this.vscodeAPI&&this.vscodeAPI.env){switch(e["common.vscodemachineid"]=this.vscodeAPI.env.machineId,e["common.vscodesessionid"]=this.vscodeAPI.env.sessionId,e["common.vscodeversion"]=this.vscodeAPI.version,e["common.isnewappinstall"]=this.vscodeAPI.env.isNewAppInstall?this.vscodeAPI.env.isNewAppInstall.toString():"false",e["common.product"]=this.vscodeAPI.env.appHost,this.vscodeAPI.env.uiKind){case this.vscodeAPI.UIKind.Web:e["common.uikind"]="web";break;case this.vscodeAPI.UIKind.Desktop:e["common.uikind"]="desktop";break;default:e["common.uikind"]="unknown"}e["common.remotename"]=this.cleanRemoteName(this.vscodeAPI.env.remoteName)}return e}anonymizeFilePaths(e,t){let n;if(e==null)return"";let r=[];this.vscodeAPI.env.appRoot!==""&&r.push(new RegExp(this.vscodeAPI.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")),this.extension&&r.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"));let i=e;if(t){let a=[];for(let u of r)for(;(n=u.exec(e))&&n;)a.push([n.index,u.lastIndex]);let s=/^[\\/]?(node_modules|node_modules\.asar)[\\/]/,l=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-._]+(\\\\|\\|\/))+[\w-._]*/g,c=0;for(i="";(n=l.exec(e))&&n;)n[0]&&!s.test(n[0])&&a.every(([u,f])=>n.index<u||n.index>=f)&&(i+=e.substring(c,n.index)+"<REDACTED: user-file-path>",c=l.lastIndex);c<e.length&&(i+=e.substr(c))}for(let a of r)i=i.replace(a,"");return i}removePropertiesWithPossibleUserInfo(e){if(typeof e!="object")return;let t={};for(let n of Object.keys(e)){let r=e[n];if(!r)continue;let i=/@[a-zA-Z0-9-.]+/,a=/(key|token|sig|signature|password|passwd|pwd|android:value)[^a-zA-Z0-9]/,s=/xox[pbaors]-[a-zA-Z0-9]+-[a-zA-Z0-9-]+?/;a.test(r.toLowerCase())?t[n]="<REDACTED: secret>":i.test(r)?t[n]="<REDACTED: email>":s.test(r)?t[n]="<REDACTED: token>":t[n]=r}return t}get telemetryLevel(){switch(Ai.getInstance(this.vscodeAPI).getTelemetryLevel()){case"on":return"all";case"error":return"error";case"off":return"off"}}internalSendTelemetryEvent(e,t,n,r,i){if((this.userOptIn||i)&&e!==""){if(t=yi(yi({},t),this.getCommonProperties()),r){let a=this.cloneAndChange(t,(s,l)=>this.anonymizeFilePaths(l,this.firstParty));t=this.removePropertiesWithPossibleUserInfo(a)}t=t!=null?t:{},n=n!=null?n:{},e=`${this.extensionId}/${e}`,this.telemetryAppender.logEvent(e,{properties:t,measurements:n})}}sendTelemetryEvent(e,t,n){this.internalSendTelemetryEvent(e,t,n,!0,!1)}sendRawTelemetryEvent(e,t,n){this.internalSendTelemetryEvent(e,t,n,!1,!1)}sendDangerousTelemetryEvent(e,t,n,r=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryEvent(e,t,n,r,!0)}internalSendTelemetryErrorEvent(e,t,n,r,i){if((this.shouldSendErrorTelemetry()||i)&&e!==""){if(t=yi(yi({},t),this.getCommonProperties()),r){let a=this.cloneAndChange(t,(s,l)=>this.anonymizeFilePaths(l,this.firstParty));t=this.removePropertiesWithPossibleUserInfo(a)}t=t!=null?t:{},n=n!=null?n:{},e=`${this.extensionId}/${e}`,this.telemetryAppender.logEvent(e,{properties:t,measurements:n})}}sendTelemetryErrorEvent(e,t,n){this.internalSendTelemetryErrorEvent(e,t,n,!0,!1)}sendDangerousTelemetryErrorEvent(e,t,n,r=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryErrorEvent(e,t,n,r,!0)}internalSendTelemetryException(e,t,n,r,i){if((this.shouldSendErrorTelemetry()||i)&&e){if(t=yi(yi({},t),this.getCommonProperties()),r){let a=this.cloneAndChange(t,(s,l)=>this.anonymizeFilePaths(l,this.firstParty));e.stack&&(e.stack=this.anonymizeFilePaths(e.stack,this.firstParty)),t=this.removePropertiesWithPossibleUserInfo(a)}t=t!=null?t:{},n=n!=null?n:{},this.telemetryAppender.logException(e,{properties:t,measurements:n})}}sendTelemetryException(e,t,n){this.internalSendTelemetryException(e,t,n,!0,!1)}sendDangerousTelemetryException(e,t,n,r=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryException(e,t,n,r,!0)}dispose(){return this.telemetryAppender.flush(),Promise.all(this.disposables.map(e=>e.dispose()))}},"_n"),fy=o((e,t)=>Za(void 0,null,function*(){let n;try{let r=yield Promise.resolve().then(()=>(oy(),Vg)),i;e&&e.indexOf("AIF-")===0&&(i="https://vscode.vortex.data.microsoft.com/collect/v1"),n=new r.ApplicationInsights({config:{instrumentationKey:e,endpointUrl:i,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!0,disableInstrumentationKeyValidation:!0}}),n.loadAppInsights(),i&&fetch(i).catch(()=>n=void 0)}catch(r){return Promise.reject(r)}return{logEvent:(r,i)=>{let a=yi(yi({},i==null?void 0:i.properties),i==null?void 0:i.measurements);t!=null&&t.length&&Ai.applyReplacements(a,t),n==null||n.trackEvent({name:r},a)},logException:(r,i)=>{let a=yi(yi({},i==null?void 0:i.properties),i==null?void 0:i.measurements);t!=null&&t.length&&Ai.applyReplacements(a,t),n==null||n.trackException({exception:r,properties:a})},flush:()=>Za(void 0,null,function*(){n==null||n.flush()})}}),"Al"),dy=o(class extends cy{constructor(e,t,n,r,i){let a=o(l=>fy(l,i),"o");Ai.shouldUseOneDataSystemSDK(n)&&(a=o(l=>ly(l,d),"o"));let s=new uy(n,a);n&&(n.indexOf("AIF-")===0||Ai.shouldUseOneDataSystemSDK(n))&&(r=!0),super(e,t,s,{release:navigator.appVersion,platform:"web",architecture:"web"},d,r)}},"go");/*!
 * Microsoft Dynamic Proto Utility, 1.1.6
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */const hy="Type of classified event does not match event properties",rf=o(class{constructor(e){this.context=e,this.sharedProperties={},rf._instance=this,this.reporter=new dy(e.extension.id,e.extension.packageJSON.version,rf.ingestionKey,!0)}static get instance(){return this._instance}dispose(){this.reporter.dispose()}publicLog2(e,t){t!==hy&&this.reporter.sendTelemetryEvent(e,{...this.sharedProperties,...t})}sendEvent(e,t,n){this.reporter.sendTelemetryEvent(e,{...this.sharedProperties,...t},n)}sendErrorEvent(e,t,n){this.reporter.sendTelemetryErrorEvent(e,{...this.sharedProperties,...t},n)}sendException(e,t,n){this.reporter.sendTelemetryException(e,{...this.sharedProperties,...t},n)}setSharedProperty(e,t){this.sharedProperties[e]=t}reportWorkbenchLoadResult(e){const t="_codespaces.webeditor.connectWorkspace";d.env.appHost==="github.dev"&&(se.debug(`Executing ${t}`),e={...e,errorDetail:e.errorDetail instanceof Error?e.errorDetail.name:void 0},d.commands.executeCommand(t,e).then(n=>{},n=>{se.debug(`Failed to execute ${t}`,n)}))}},"_TelemetryService");let Gg=rf;Gg.ingestionKey="0c6ae279ed8443289764825290e4f9e2-1a736e7c-1324-4338-be46-fc2a58ae4d14-7255";let os;var af;(function(e){function t(n){const r=py(n);return os=d.env.uiKind===d.UIKind.Web,se.warn(`Running on the ${os?"web":"desktop"}${n.extensionRuntime!==d.ExtensionRuntime.Node?" in a webworker":""}; workspaceId=${r}; storageUri=${n.globalStorageUri.toString(!0)}`),r}o(t,"configure"),e.configure=t})(af||(af={}));const gy=/\/workspaceStorage\/(?<id>[^/]+)/i;function py(e){var t;if(e.storageUri===void 0)return"";const n=gy.exec(e.storageUri.path);let r;if((t=n==null?void 0:n.groups)==null?void 0:t.id)r=n.groups.id;else{r=e.storageUri.path;const i=Ga(e.globalStorageUri.path,r),a=`/${e.extension.id}`;r.endsWith(a)?r=r.slice(i,-a.length):r=r.substr(i)}return/-[0-9]$/.test(r)?r.slice(0,-2):r}o(py,"getWorkspaceId");function kb(e,t){return e.reduce((r,i)=>{const a=t(i),s=r.get(a);return s===void 0?r.set(a,[i]):s.push(i),r},new Map)}o(kb,"groupBy");function vy(e){let t=0;for(const n of e){if(n===0)return!0;if(t++,t>8e3)break}return!1}o(vy,"isBinary");function of(e,t,n=r=>r){return[...e.reduce((i,a)=>{const s=t(a),l=i.get(s);if(l===void 0)i.set(s,a);else{const c=n(l,a);c!==void 0&&i.set(s,c)}return i},new Map).values()]}o(of,"uniqueBy");const Vr=S.loadMessageBundle(),ss=o(class{constructor(e,t,n,r){this.providerService=e,this.storageService=t,this.changeStore=n,this.workspaceId=r,this._onDidChange=new d.EventEmitter,this.cache=new Map,this.lock=new Nt("WorkspaceRepositories"),this.disposable=d.Disposable.from(this.providerService.onDidChangeRepositories(this.onRepositoriesChanged,this),this.providerService.onDidChangeRepository(this.onRepositoryChanged,this),this.changeStore.onDidChange(this.onChangeStoreChanged,this))}get onDidChange(){return this._onDidChange.event}dispose(){this.disposable.dispose()}async exportDebugInfo(){const e=await d.workspace.openTextDocument({language:"json",content:`Remote Repositories

${this.toStorage(await this.getCore())}`});return void d.window.showTextDocument(e)}onChangeStoreChanged(e){const t=of(e.map(n=>n.rootUri),n=>R(n)).map(n=>this.providerService.getRepository(n)).filter(n=>Boolean(n));this.addOrUpdate(t)}onRepositoriesChanged(e){this.addOrUpdate(e.added)}onRepositoryChanged(e){this.addOrUpdate([e.repository])}async get(e){let t=await this.lock.synchronizeRead(async()=>{let n=this.cache.get("workspaceRepositories");return n===void 0&&(n=[...(await this.getCore()).values()].sort((r,i)=>i.timestamp-r.timestamp),this.cache.set("workspaceRepositories",n)),n},"WorkspaceRepositories.get");if(e){const n=R(e);t=t.filter(r=>R(r.canonicalUri)===n)}return t}async getCore(){return this.fromStorage(await this.storageService.get(ss.storageKey))}async getRecents(e=10){return(await this.get()).slice(0,e)}async getRemoteWorkspaceSourceProvider(e){const t=await this.getRecents();if(t.length!==0)return t.filter(n=>n.provider.id===e)}refresh(){this.cache.clear()}async remove(e){await this.lock.synchronizeWrite(async()=>{const t=await this.getCore(),n=`${e.workspaceId}/${R(e.uri)}`,r=t.get(n);if(r===void 0)return;const i=this.changeStore.getScopedChangeStore(r),a=await i.getChanges(r.uri);if(a.length!==0){const s={title:Vr("remove remote repo prompt confirm","Yes")},l={title:Vr("remove remote repo prompt cancel","No"),isCloseAffordance:!0};if(await d.window.showWarningMessage(a.length===1?Vr("remove remote repo prompt file changed",`This repository contains 1 file with uncommitted changes.

Removing it will cause those changes to be FOREVER LOST.
This is IRREVERSIBLE!

Are you sure you still want to remove it?`):Vr("remove remote repo prompt files changes",`This repository contains {0} files with uncommitted changes.

Removing it will cause those changes to be FOREVER LOST.
This is IRREVERSIBLE!

Are you sure you still want to remove it?`,a.length),{modal:!0},s,l)!==s)return;await i.discardAll(r.uri)}this.cache.clear(),t.delete(n);try{await this.storageService.store(ss.storageKey,this.toStorage(t))}catch(s){throw se.error(s,"Failed to save workspace repositories"),s}},"WorkspaceRepositories.remove"),this._onDidChange.fire()}async addOrUpdate(e){await this.lock.synchronizeWrite(async()=>{this.cache.clear();const t=await this.getCore();for(const n of e){const[{HEAD:r,pullRequest:i},a]=await Promise.all([n.getMetadata(),n.getIndexMetadata()]),s=await this.changeStore.getChanges(n.uri);t.set(`${this.workspaceId}/${R(n.uri)}`,{workspaceId:this.workspaceId,uri:n.uri,canonicalUri:n.canonicalUri,name:n.name,provider:n.provider,ref:{type:r.type,name:r.name},idx:(a==null?void 0:a.type)&&ie.hasIndex(a.type)?{type:a.type}:void 0,pullRequest:i?{id:i.id}:void 0,changes:my(s),timestamp:Date.now()})}try{await this.storageService.store(ss.storageKey,this.toStorage(t))}catch(n){throw se.error(n,"Failed to save workspace repositories"),n}},"WorkspaceRepositories.addOrUpdate"),this._onDidChange.fire()}fromStorage(e){if(!e)return new Map;try{const t=JSON.parse(e,(n,r)=>(n==="uri"||n.endsWith("Uri"))&&P(r)?d.Uri.from(r):r);return new Map(t.workspaceRepositories)}catch(t){return se.error(t,"Failed to deserialize workspace repositories"),new Map}}toStorage(e){const t={schemaVersion:ss.storageSchemaVersion,workspaceRepositories:[...e]};return JSON.stringify(t)}},"_WorkspaceRepositories");let sf=ss;sf.storageKey="workspaceRepositories",sf.storageSchemaVersion=1;function Zg(e){return e!==void 0&&(e.added!==0||e.changed!==0||e.deleted!==0)}o(Zg,"hasChanges");function Pb(e){return Zg(e.changes)}o(Pb,"hasUncommittedChanges");function my(e){let t=0,n=0,r=0;for(const i of e)switch(i.type){case U.Created:t++;break;case U.Changed:n++;break;case U.Deleted:r++;break}return t||n||r?{added:t,changed:n,deleted:r,timestamp:Date.now()}:void 0}o(my,"toChangesSummary");function Ob(e,{compact:t=!0,preamble:n,separator:r=", ",short:i=!1,single:a=!1}={}){if(!Zg(e))return Vr("no changes","Everything up to date");const{added:s,changed:l,deleted:c}=e;if(a){const f=s+l+c;return f===1?Vr("summary change","{0} change",f):Vr("changes changes","{0} changes",f)}let u=`${n!=null?n:""}`;return(s||!t)&&(u+=i?`+${s}`:s===1?Vr("file added","{0} file added",s):Vr("files added","{0} files added",s),(l||c||!t)&&(u+=r)),(l||!t)&&(u+=i?`~${l}`:l===1?Vr("file changed","{0} file changed",l):Vr("files changed","{0} files changed",l),(c||!t)&&(u+=r)),(c||!t)&&(u+=i?`-${c}`:c===1?Vr("file deleted","{0} file deleted",c):Vr("files deleted","{0} files deleted",c)),u}o(Ob,"formatChangesSummary");var lf=__webpack_require__(7360),yy=__webpack_require__(919),uf=__webpack_require__.n(yy);function cf(e,t,n){if(!(t==null?void 0:t.length)&&!(n==null?void 0:n.length))return new Set(e);let r;if(t==null?void 0:t.length){const i=new Set([...t,...t.map(s=>`${s}/**`)]),a=uf()(e,[...i],{dot:!0,nocase:!0});r=new Set(a)}if(n==null?void 0:n.length){const i=new Set([...n,...n.map(a=>`${a}/**`)]);if(r===void 0){const a=uf().not(e,[...i],{dot:!0,nocase:!0});r=new Set(a)}else uf()(e,[...i],{dot:!0,nocase:!0}).forEach(r.delete,r)}return r}o(cf,"globFilter");const wy="";function _y(...e){if(e.length===1){const t=e[0];return t===void 0?wy:typeof t=="string"?t:typeof t=="number"||typeof t=="boolean"||t instanceof Error?String(t):t instanceof d.Uri?t.toString():JSON.stringify(t)}return JSON.stringify(e)}o(_y,"serialize_defaultResolver");function ff(e){return(t,n,r)=>{let i;if(typeof r.value=="function"?i=r.value:typeof r.get=="function"&&(i=r.get),i===void 0)throw new Error("Not supported");const a=`$serialize$${n}`;r.value=function(...s){const l=s.length===0?a:`${a}$${(e!=null?e:_y)(...s)}`;Object.prototype.hasOwnProperty.call(this,l)||Object.defineProperty(this,l,{configurable:!1,enumerable:!1,writable:!0,value:void 0});let c=this[l];const u=o(()=>i.apply(this,s),"run");return c===void 0?c=u():c=c.then(u,u),this[l]=c,c}}}o(ff,"serialize");function*xy(e,t){for(const n of e)yield*t(n)}o(xy,"flatMap");function*Mb(e,t){for(const n of e)t(n)&&(yield n)}o(Mb,"filter");function*Bl(e,t){for(const n of e){const r=t(n);r!=null&&(yield r)}}o(Bl,"filterMap");function by(e,t){for(const n of e)if(t(n))return n}o(by,"find");function Lb(e,t){let n="";const r=e[Symbol.iterator]();let i=r.next();if(i.done)return n;for(;;){const a=i.value.toString();if(i=r.next(),i.done){n+=a;break}n+=a,n+=t}return n}o(Lb,"join");function*Qg(e,t){for(const n of e)yield t(n)}o(Qg,"map");function Nb(e,t){for(const n of e)if(t(n))return!0;return!1}o(Nb,"some");function*Ey(...e){for(const t of e)for(const n of t)yield n}o(Ey,"union");function*Bb(e){const t=new Set;for(const n of e)t.has(n)||(t.add(n),yield n)}o(Bb,"unique");function Sy(e){return e.replace(/[\\{}*+?|^$.[\]()]/g,"\\$&")}o(Sy,"escapeRegExpCharacters");function Cy(e,t,n={}){if(!e)throw new Error("Cannot create regex from empty string");t||(e=Sy(e)),n.wholeWord&&(/\B/.test(e.charAt(0))||(e=`\\b${e}`),/\B/.test(e.charAt(e.length-1))||(e=`${e}\\b`));let r="gmu";return n.matchCase||(r+="i"),new RegExp(e,r)}o(Cy,"createRegExp");let Xg,Jg,df;const Ty=o((e,t,n,r)=>{const i=`${t.join("--")};;;;${n.join("--")}`,a=e.map(l=>l.path).join("::");if(Xg===a&&i==Jg&&df)return df;const s=cf((r?e.filter(l=>l.size<r):e).map(l=>l.path),t,n);return Xg=a,Jg=i,df=s,s},"generateIncludeSet"),Iy=o((e,t,n,r)=>{var i;const a=[];let s;if(typeof e=="string")s=e;else{const f=e;if(f[0]==255&&f[1]==254)s=new TextDecoder("utf-16le").decode(f);else if(f[0]==254&&f[1]==255)s=new TextDecoder("utf-16be").decode(f);else if(s=new TextDecoder("utf8").decode(f),s.slice(0,1e3).includes("\uFFFD")&&f.includes(0))return[]}const l=[];let c=null,u=r.remainingResultQuota;for(;(u===void 0||u>=0)&&(c=n.exec(s));)l.push({matchStartIndex:c.index,matchedText:c[0]}),u!==void 0&&u--;if(l.length){const f=new Set,y=new Set,m=[],C=o(re=>s.slice(m[re].start,m[re].end),"readLine");let j=0,Q=null;const z=/\r?\n/g;for(;Q=z.exec(s);)m.push({start:j,end:Q.index}),j=Q.index+Q[0].length;j<s.length&&m.push({start:j,end:s.length});let G=0;for(const{matchStartIndex:re,matchedText:fe}of l){if(u!==void 0&&u<0)break;for(;Boolean(m[G+1])&&re>m[G].end;)G++;let le=G;for(;Boolean(m[le+1])&&re+fe.length>m[le].end;)le++;if(r.beforeContext)for(let Pe=Math.max(0,G-r.beforeContext);Pe<G;Pe++)f.add(Pe);let be="",Je=0;for(let Pe=G;Pe<=le;Pe++){let St=C(Pe);((i=r.previewOptions)==null?void 0:i.charsPerLine)&&St.length>r.previewOptions.charsPerLine&&(Je=Math.max(re-m[G].start-20,0),St=St.substr(Je,r.previewOptions.charsPerLine)),be+=`${St}
`,y.add(Pe)}const Ue=new d.Range(G,re-m[G].start,le,re+fe.length-m[le].start),Oe=new d.Range(0,re-m[G].start-Je,le-G,re+fe.length-m[le].start-(le===G?Je:0)),vt={uri:d.Uri.file(t),ranges:Ue,preview:{text:be,matches:Oe}};if(a.push(vt),r.afterContext)for(let Pe=le+1;Pe<=Math.min(le+r.afterContext,m.length-1);Pe++)f.add(Pe)}for(const re of f)y.has(re)||a.push({uri:d.Uri.file(t),text:C(re),lineNumber:re+1})}return a},"getFileResults");/*! pako 2.0.4 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Ay=4,Yg=0,ep=1,Ry=2;function Eo(e){let t=e.length;for(;--t>=0;)e[t]=0}o(Eo,"zero$1");const Dy=0,tp=1,Fy=2,ky=3,Py=258,hf=29,ls=256,us=ls+1+hf,So=30,gf=19,np=2*us+1,Ba=15,pf=16,Oy=7,vf=256,rp=16,ip=17,ap=18,mf=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Ul=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),My=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),op=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ly=512,Vi=new Array((us+2)*2);Eo(Vi);const cs=new Array(So*2);Eo(cs);const fs=new Array(Ly);Eo(fs);const ds=new Array(Py-ky+1);Eo(ds);const yf=new Array(hf);Eo(yf);const $l=new Array(So);Eo($l);function wf(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}o(wf,"StaticTreeDesc");let sp,lp,up;function _f(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}o(_f,"TreeDesc");const cp=o(e=>e<256?fs[e]:fs[256+(e>>>7)],"d_code"),hs=o((e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},"put_short"),Hr=o((e,t,n)=>{e.bi_valid>pf-n?(e.bi_buf|=t<<e.bi_valid&65535,hs(e,e.bi_buf),e.bi_buf=t>>pf-e.bi_valid,e.bi_valid+=n-pf):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},"send_bits"),Ri=o((e,t,n)=>{Hr(e,n[t*2],n[t*2+1])},"send_code"),fp=o((e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},"bi_reverse"),Ny=o(e=>{e.bi_valid===16?(hs(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},"bi_flush"),By=o((e,t)=>{const n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,a=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,l=t.stat_desc.extra_base,c=t.stat_desc.max_length;let u,f,y,m,C,j,Q=0;for(m=0;m<=Ba;m++)e.bl_count[m]=0;for(n[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<np;u++)f=e.heap[u],m=n[n[f*2+1]*2+1]+1,m>c&&(m=c,Q++),n[f*2+1]=m,!(f>r)&&(e.bl_count[m]++,C=0,f>=l&&(C=s[f-l]),j=n[f*2],e.opt_len+=j*(m+C),a&&(e.static_len+=j*(i[f*2+1]+C)));if(Q!==0){do{for(m=c-1;e.bl_count[m]===0;)m--;e.bl_count[m]--,e.bl_count[m+1]+=2,e.bl_count[c]--,Q-=2}while(Q>0);for(m=c;m!==0;m--)for(f=e.bl_count[m];f!==0;)y=e.heap[--u],!(y>r)&&(n[y*2+1]!==m&&(e.opt_len+=(m-n[y*2+1])*n[y*2],n[y*2+1]=m),f--)}},"gen_bitlen"),dp=o((e,t,n)=>{const r=new Array(Ba+1);let i=0,a,s;for(a=1;a<=Ba;a++)r[a]=i=i+n[a-1]<<1;for(s=0;s<=t;s++){let l=e[s*2+1];l!==0&&(e[s*2]=fp(r[l]++,l))}},"gen_codes"),Uy=o(()=>{let e,t,n,r,i;const a=new Array(Ba+1);for(n=0,r=0;r<hf-1;r++)for(yf[r]=n,e=0;e<1<<mf[r];e++)ds[n++]=r;for(ds[n-1]=r,i=0,r=0;r<16;r++)for($l[r]=i,e=0;e<1<<Ul[r];e++)fs[i++]=r;for(i>>=7;r<So;r++)for($l[r]=i<<7,e=0;e<1<<Ul[r]-7;e++)fs[256+i++]=r;for(t=0;t<=Ba;t++)a[t]=0;for(e=0;e<=143;)Vi[e*2+1]=8,e++,a[8]++;for(;e<=255;)Vi[e*2+1]=9,e++,a[9]++;for(;e<=279;)Vi[e*2+1]=7,e++,a[7]++;for(;e<=287;)Vi[e*2+1]=8,e++,a[8]++;for(dp(Vi,us+1,a),e=0;e<So;e++)cs[e*2+1]=5,cs[e*2]=fp(e,5);sp=new wf(Vi,mf,ls+1,us,Ba),lp=new wf(cs,Ul,0,So,Ba),up=new wf(new Array(0),My,0,gf,Oy)},"tr_static_init"),hp=o(e=>{let t;for(t=0;t<us;t++)e.dyn_ltree[t*2]=0;for(t=0;t<So;t++)e.dyn_dtree[t*2]=0;for(t=0;t<gf;t++)e.bl_tree[t*2]=0;e.dyn_ltree[vf*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},"init_block"),gp=o(e=>{e.bi_valid>8?hs(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},"bi_windup"),$y=o((e,t,n,r)=>{gp(e),r&&(hs(e,n),hs(e,~n)),e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},"copy_block"),pp=o((e,t,n,r)=>{const i=t*2,a=n*2;return e[i]<e[a]||e[i]===e[a]&&r[t]<=r[n]},"smaller"),xf=o((e,t,n)=>{const r=e.heap[n];let i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&pp(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!pp(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},"pqdownheap"),vp=o((e,t,n)=>{let r,i,a=0,s,l;if(e.last_lit!==0)do r=e.pending_buf[e.d_buf+a*2]<<8|e.pending_buf[e.d_buf+a*2+1],i=e.pending_buf[e.l_buf+a],a++,r===0?Ri(e,i,t):(s=ds[i],Ri(e,s+ls+1,t),l=mf[s],l!==0&&(i-=yf[s],Hr(e,i,l)),r--,s=cp(r),Ri(e,s,n),l=Ul[s],l!==0&&(r-=$l[s],Hr(e,r,l)));while(a<e.last_lit);Ri(e,vf,t)},"compress_block"),bf=o((e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,a=t.stat_desc.elems;let s,l,c=-1,u;for(e.heap_len=0,e.heap_max=np,s=0;s<a;s++)n[s*2]!==0?(e.heap[++e.heap_len]=c=s,e.depth[s]=0):n[s*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=c<2?++c:0,n[u*2]=1,e.depth[u]=0,e.opt_len--,i&&(e.static_len-=r[u*2+1]);for(t.max_code=c,s=e.heap_len>>1;s>=1;s--)xf(e,n,s);u=a;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],xf(e,n,1),l=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=l,n[u*2]=n[s*2]+n[l*2],e.depth[u]=(e.depth[s]>=e.depth[l]?e.depth[s]:e.depth[l])+1,n[s*2+1]=n[l*2+1]=u,e.heap[1]=u++,xf(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],By(e,t),dp(n,c,e.bl_count)},"build_tree"),mp=o((e,t,n)=>{let r,i=-1,a,s=t[0*2+1],l=0,c=7,u=4;for(s===0&&(c=138,u=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)a=s,s=t[(r+1)*2+1],!(++l<c&&a===s)&&(l<u?e.bl_tree[a*2]+=l:a!==0?(a!==i&&e.bl_tree[a*2]++,e.bl_tree[rp*2]++):l<=10?e.bl_tree[ip*2]++:e.bl_tree[ap*2]++,l=0,i=a,s===0?(c=138,u=3):a===s?(c=6,u=3):(c=7,u=4))},"scan_tree"),yp=o((e,t,n)=>{let r,i=-1,a,s=t[0*2+1],l=0,c=7,u=4;for(s===0&&(c=138,u=3),r=0;r<=n;r++)if(a=s,s=t[(r+1)*2+1],!(++l<c&&a===s)){if(l<u)do Ri(e,a,e.bl_tree);while(--l!=0);else a!==0?(a!==i&&(Ri(e,a,e.bl_tree),l--),Ri(e,rp,e.bl_tree),Hr(e,l-3,2)):l<=10?(Ri(e,ip,e.bl_tree),Hr(e,l-3,3)):(Ri(e,ap,e.bl_tree),Hr(e,l-11,7));l=0,i=a,s===0?(c=138,u=3):a===s?(c=6,u=3):(c=7,u=4)}},"send_tree"),Hy=o(e=>{let t;for(mp(e,e.dyn_ltree,e.l_desc.max_code),mp(e,e.dyn_dtree,e.d_desc.max_code),bf(e,e.bl_desc),t=gf-1;t>=3&&e.bl_tree[op[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},"build_bl_tree"),zy=o((e,t,n,r)=>{let i;for(Hr(e,t-257,5),Hr(e,n-1,5),Hr(e,r-4,4),i=0;i<r;i++)Hr(e,e.bl_tree[op[i]*2+1],3);yp(e,e.dyn_ltree,t-1),yp(e,e.dyn_dtree,n-1)},"send_all_trees"),Wy=o(e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return Yg;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return ep;for(n=32;n<ls;n++)if(e.dyn_ltree[n*2]!==0)return ep;return Yg},"detect_data_type");let wp=!1;const jy=o(e=>{wp||(Uy(),wp=!0),e.l_desc=new _f(e.dyn_ltree,sp),e.d_desc=new _f(e.dyn_dtree,lp),e.bl_desc=new _f(e.bl_tree,up),e.bi_buf=0,e.bi_valid=0,hp(e)},"_tr_init$1"),_p=o((e,t,n,r)=>{Hr(e,(Dy<<1)+(r?1:0),3),$y(e,t,n,!0)},"_tr_stored_block$1"),Ky=o(e=>{Hr(e,tp<<1,3),Ri(e,vf,Vi),Ny(e)},"_tr_align$1"),qy=o((e,t,n,r)=>{let i,a,s=0;e.level>0?(e.strm.data_type===Ry&&(e.strm.data_type=Wy(e)),bf(e,e.l_desc),bf(e,e.d_desc),s=Hy(e),i=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=i&&(i=a)):i=a=n+5,n+4<=i&&t!==-1?_p(e,t,n,r):e.strategy===Ay||a===i?(Hr(e,(tp<<1)+(r?1:0),3),vp(e,Vi,cs)):(Hr(e,(Fy<<1)+(r?1:0),3),zy(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),vp(e,e.dyn_ltree,e.dyn_dtree)),hp(e),r&&gp(e)},"_tr_flush_block$1"),Vy=o((e,t,n)=>(e.pending_buf[e.d_buf+e.last_lit*2]=t>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=t&255,e.pending_buf[e.l_buf+e.last_lit]=n&255,e.last_lit++,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(ds[n]+ls+1)*2]++,e.dyn_dtree[cp(t)*2]++),e.last_lit===e.lit_bufsize-1),"_tr_tally$1");var Gy=jy,Zy=_p,Qy=qy,Xy=Vy,Jy=Ky,Yy={_tr_init:Gy,_tr_stored_block:Zy,_tr_flush_block:Qy,_tr_tally:Xy,_tr_align:Jy},gs=o((e,t,n,r)=>{let i=e&65535|0,a=e>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do i=i+t[r++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0},"adler32");const ew=o(()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},"makeTable"),tw=new Uint32Array(ew());var Er=o((e,t,n,r)=>{const i=tw,a=r+n;e^=-1;for(let s=r;s<a;s++)e=e>>>8^i[(e^t[s])&255];return e^-1},"crc32"),Ua={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},$a={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:nw,_tr_stored_block:rw,_tr_flush_block:iw,_tr_tally:fa,_tr_align:aw}=Yy,{Z_NO_FLUSH:Ha,Z_PARTIAL_FLUSH:ow,Z_FULL_FLUSH:sw,Z_FINISH:da,Z_BLOCK:xp,Z_OK:Di,Z_STREAM_END:bp,Z_STREAM_ERROR:ni,Z_DATA_ERROR:lw,Z_BUF_ERROR:Ef,Z_DEFAULT_COMPRESSION:uw,Z_FILTERED:cw,Z_HUFFMAN_ONLY:Hl,Z_RLE:fw,Z_FIXED:dw,Z_DEFAULT_STRATEGY:hw,Z_UNKNOWN:gw,Z_DEFLATED:zl}=$a,pw=9,vw=15,mw=8,yw=29,Sf=256+1+yw,ww=30,_w=19,xw=2*Sf+1,bw=15,An=3,ha=258,pi=ha+An+1,Ew=32,Wl=42,Cf=69,jl=73,Kl=91,ql=103,za=113,ps=666,wr=1,vs=2,Wa=3,Co=4,Sw=3,ga=o((e,t)=>(e.msg=Ua[t],t),"err"),Ep=o(e=>(e<<1)-(e>4?9:0),"rank"),pa=o(e=>{let t=e.length;for(;--t>=0;)e[t]=0},"zero");let va=o((e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask,"HASH_ZLIB");const ma=o(e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},"flush_pending"),Tr=o((e,t)=>{iw(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ma(e.strm)},"flush_block_only"),Nn=o((e,t)=>{e.pending_buf[e.pending++]=t},"put_byte"),ms=o((e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},"putShortMSB"),Cw=o((e,t,n,r)=>{let i=e.avail_in;return i>r&&(i=r),i===0?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),e.state.wrap===1?e.adler=gs(e.adler,t,i,n):e.state.wrap===2&&(e.adler=Er(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},"read_buf"),Sp=o((e,t)=>{let n=e.max_chain_length,r=e.strstart,i,a,s=e.prev_length,l=e.nice_match;const c=e.strstart>e.w_size-pi?e.strstart-(e.w_size-pi):0,u=e.window,f=e.w_mask,y=e.prev,m=e.strstart+ha;let C=u[r+s-1],j=u[r+s];e.prev_length>=e.good_match&&(n>>=2),l>e.lookahead&&(l=e.lookahead);do if(i=t,!(u[i+s]!==j||u[i+s-1]!==C||u[i]!==u[r]||u[++i]!==u[r+1])){r+=2,i++;do;while(u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&u[++r]===u[++i]&&r<m);if(a=ha-(m-r),r=m-ha,a>s){if(e.match_start=t,s=a,a>=l)break;C=u[r+s-1],j=u[r+s]}}while((t=y[t&f])>c&&--n!=0);return s<=e.lookahead?s:e.lookahead},"longest_match"),ja=o(e=>{const t=e.w_size;let n,r,i,a,s;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-pi)){e.window.set(e.window.subarray(t,t+t),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,r=e.hash_size,n=r;do i=e.head[--n],e.head[n]=i>=t?i-t:0;while(--r);r=t,n=r;do i=e.prev[--n],e.prev[n]=i>=t?i-t:0;while(--r);a+=t}if(e.strm.avail_in===0)break;if(r=Cw(e.strm,e.window,e.strstart+e.lookahead,a),e.lookahead+=r,e.lookahead+e.insert>=An)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=va(e,e.ins_h,e.window[s+1]);e.insert&&(e.ins_h=va(e,e.ins_h,e.window[s+An-1]),e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<An)););}while(e.lookahead<pi&&e.strm.avail_in!==0)},"fill_window"),Tw=o((e,t)=>{let n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(ja(e),e.lookahead===0&&t===Ha)return wr;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;const r=e.block_start+n;if((e.strstart===0||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,Tr(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-pi&&(Tr(e,!1),e.strm.avail_out===0))return wr}return e.insert=0,t===da?(Tr(e,!0),e.strm.avail_out===0?Wa:Co):(e.strstart>e.block_start&&(Tr(e,!1),e.strm.avail_out===0),wr)},"deflate_stored"),Tf=o((e,t)=>{let n,r;for(;;){if(e.lookahead<pi){if(ja(e),e.lookahead<pi&&t===Ha)return wr;if(e.lookahead===0)break}if(n=0,e.lookahead>=An&&(e.ins_h=va(e,e.ins_h,e.window[e.strstart+An-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-pi&&(e.match_length=Sp(e,n)),e.match_length>=An)if(r=fa(e,e.strstart-e.match_start,e.match_length-An),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=An){e.match_length--;do e.strstart++,e.ins_h=va(e,e.ins_h,e.window[e.strstart+An-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!=0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=va(e,e.ins_h,e.window[e.strstart+1]);else r=fa(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Tr(e,!1),e.strm.avail_out===0))return wr}return e.insert=e.strstart<An-1?e.strstart:An-1,t===da?(Tr(e,!0),e.strm.avail_out===0?Wa:Co):e.last_lit&&(Tr(e,!1),e.strm.avail_out===0)?wr:vs},"deflate_fast"),To=o((e,t)=>{let n,r,i;for(;;){if(e.lookahead<pi){if(ja(e),e.lookahead<pi&&t===Ha)return wr;if(e.lookahead===0)break}if(n=0,e.lookahead>=An&&(e.ins_h=va(e,e.ins_h,e.window[e.strstart+An-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=An-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-pi&&(e.match_length=Sp(e,n),e.match_length<=5&&(e.strategy===cw||e.match_length===An&&e.strstart-e.match_start>4096)&&(e.match_length=An-1)),e.prev_length>=An&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-An,r=fa(e,e.strstart-1-e.prev_match,e.prev_length-An),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=va(e,e.ins_h,e.window[e.strstart+An-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!=0);if(e.match_available=0,e.match_length=An-1,e.strstart++,r&&(Tr(e,!1),e.strm.avail_out===0))return wr}else if(e.match_available){if(r=fa(e,0,e.window[e.strstart-1]),r&&Tr(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return wr}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=fa(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<An-1?e.strstart:An-1,t===da?(Tr(e,!0),e.strm.avail_out===0?Wa:Co):e.last_lit&&(Tr(e,!1),e.strm.avail_out===0)?wr:vs},"deflate_slow"),Iw=o((e,t)=>{let n,r,i,a;const s=e.window;for(;;){if(e.lookahead<=ha){if(ja(e),e.lookahead<=ha&&t===Ha)return wr;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=An&&e.strstart>0&&(i=e.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){a=e.strstart+ha;do;while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);e.match_length=ha-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=An?(n=fa(e,1,e.match_length-An),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=fa(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Tr(e,!1),e.strm.avail_out===0))return wr}return e.insert=0,t===da?(Tr(e,!0),e.strm.avail_out===0?Wa:Co):e.last_lit&&(Tr(e,!1),e.strm.avail_out===0)?wr:vs},"deflate_rle"),Aw=o((e,t)=>{let n;for(;;){if(e.lookahead===0&&(ja(e),e.lookahead===0)){if(t===Ha)return wr;break}if(e.match_length=0,n=fa(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Tr(e,!1),e.strm.avail_out===0))return wr}return e.insert=0,t===da?(Tr(e,!0),e.strm.avail_out===0?Wa:Co):e.last_lit&&(Tr(e,!1),e.strm.avail_out===0)?wr:vs},"deflate_huff");function Fi(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}o(Fi,"Config");const ys=[new Fi(0,0,0,0,Tw),new Fi(4,4,8,4,Tf),new Fi(4,5,16,8,Tf),new Fi(4,6,32,32,Tf),new Fi(4,4,16,16,To),new Fi(8,16,32,32,To),new Fi(8,16,128,128,To),new Fi(8,32,128,256,To),new Fi(32,128,258,1024,To),new Fi(32,258,258,4096,To)],Rw=o(e=>{e.window_size=2*e.w_size,pa(e.head),e.max_lazy_match=ys[e.level].max_lazy,e.good_match=ys[e.level].good_length,e.nice_match=ys[e.level].nice_length,e.max_chain_length=ys[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=An-1,e.match_available=0,e.ins_h=0},"lm_init");function Dw(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=zl,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(xw*2),this.dyn_dtree=new Uint16Array((2*ww+1)*2),this.bl_tree=new Uint16Array((2*_w+1)*2),pa(this.dyn_ltree),pa(this.dyn_dtree),pa(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(bw+1),this.heap=new Uint16Array(2*Sf+1),pa(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Sf+1),pa(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}o(Dw,"DeflateState");const Cp=o(e=>{if(!e||!e.state)return ga(e,ni);e.total_in=e.total_out=0,e.data_type=gw;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?Wl:za,e.adler=t.wrap===2?0:1,t.last_flush=Ha,nw(t),Di},"deflateResetKeep"),Tp=o(e=>{const t=Cp(e);return t===Di&&Rw(e.state),t},"deflateReset"),Fw=o((e,t)=>!e||!e.state||e.state.wrap!==2?ni:(e.state.gzhead=t,Di),"deflateSetHeader"),Ip=o((e,t,n,r,i,a)=>{if(!e)return ni;let s=1;if(t===uw&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>pw||n!==zl||r<8||r>15||t<0||t>9||a<0||a>dw)return ga(e,ni);r===8&&(r=9);const l=new Dw;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=i+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+An-1)/An),l.window=new Uint8Array(l.w_size*2),l.head=new Uint16Array(l.hash_size),l.prev=new Uint16Array(l.w_size),l.lit_bufsize=1<<i+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=new Uint8Array(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=(1+2)*l.lit_bufsize,l.level=t,l.strategy=a,l.method=n,Tp(e)},"deflateInit2"),kw=o((e,t)=>Ip(e,t,zl,vw,mw,hw),"deflateInit"),Pw=o((e,t)=>{let n,r;if(!e||!e.state||t>xp||t<0)return e?ga(e,ni):ni;const i=e.state;if(!e.output||!e.input&&e.avail_in!==0||i.status===ps&&t!==da)return ga(e,e.avail_out===0?Ef:ni);i.strm=e;const a=i.last_flush;if(i.last_flush=t,i.status===Wl)if(i.wrap===2)e.adler=0,Nn(i,31),Nn(i,139),Nn(i,8),i.gzhead?(Nn(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),Nn(i,i.gzhead.time&255),Nn(i,i.gzhead.time>>8&255),Nn(i,i.gzhead.time>>16&255),Nn(i,i.gzhead.time>>24&255),Nn(i,i.level===9?2:i.strategy>=Hl||i.level<2?4:0),Nn(i,i.gzhead.os&255),i.gzhead.extra&&i.gzhead.extra.length&&(Nn(i,i.gzhead.extra.length&255),Nn(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=Er(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=Cf):(Nn(i,0),Nn(i,0),Nn(i,0),Nn(i,0),Nn(i,0),Nn(i,i.level===9?2:i.strategy>=Hl||i.level<2?4:0),Nn(i,Sw),i.status=za);else{let s=zl+(i.w_bits-8<<4)<<8,l=-1;i.strategy>=Hl||i.level<2?l=0:i.level<6?l=1:i.level===6?l=2:l=3,s|=l<<6,i.strstart!==0&&(s|=Ew),s+=31-s%31,i.status=za,ms(i,s),i.strstart!==0&&(ms(i,e.adler>>>16),ms(i,e.adler&65535)),e.adler=1}if(i.status===Cf)if(i.gzhead.extra){for(n=i.pending;i.gzindex<(i.gzhead.extra.length&65535)&&!(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=Er(e.adler,i.pending_buf,i.pending-n,n)),ma(e),n=i.pending,i.pending===i.pending_buf_size));)Nn(i,i.gzhead.extra[i.gzindex]&255),i.gzindex++;i.gzhead.hcrc&&i.pending>n&&(e.adler=Er(e.adler,i.pending_buf,i.pending-n,n)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=jl)}else i.status=jl;if(i.status===jl)if(i.gzhead.name){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=Er(e.adler,i.pending_buf,i.pending-n,n)),ma(e),n=i.pending,i.pending===i.pending_buf_size)){r=1;break}i.gzindex<i.gzhead.name.length?r=i.gzhead.name.charCodeAt(i.gzindex++)&255:r=0,Nn(i,r)}while(r!==0);i.gzhead.hcrc&&i.pending>n&&(e.adler=Er(e.adler,i.pending_buf,i.pending-n,n)),r===0&&(i.gzindex=0,i.status=Kl)}else i.status=Kl;if(i.status===Kl)if(i.gzhead.comment){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=Er(e.adler,i.pending_buf,i.pending-n,n)),ma(e),n=i.pending,i.pending===i.pending_buf_size)){r=1;break}i.gzindex<i.gzhead.comment.length?r=i.gzhead.comment.charCodeAt(i.gzindex++)&255:r=0,Nn(i,r)}while(r!==0);i.gzhead.hcrc&&i.pending>n&&(e.adler=Er(e.adler,i.pending_buf,i.pending-n,n)),r===0&&(i.status=ql)}else i.status=ql;if(i.status===ql&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&ma(e),i.pending+2<=i.pending_buf_size&&(Nn(i,e.adler&255),Nn(i,e.adler>>8&255),e.adler=0,i.status=za)):i.status=za),i.pending!==0){if(ma(e),e.avail_out===0)return i.last_flush=-1,Di}else if(e.avail_in===0&&Ep(t)<=Ep(a)&&t!==da)return ga(e,Ef);if(i.status===ps&&e.avail_in!==0)return ga(e,Ef);if(e.avail_in!==0||i.lookahead!==0||t!==Ha&&i.status!==ps){let s=i.strategy===Hl?Aw(i,t):i.strategy===fw?Iw(i,t):ys[i.level].func(i,t);if((s===Wa||s===Co)&&(i.status=ps),s===wr||s===Wa)return e.avail_out===0&&(i.last_flush=-1),Di;if(s===vs&&(t===ow?aw(i):t!==xp&&(rw(i,0,0,!1),t===sw&&(pa(i.head),i.lookahead===0&&(i.strstart=0,i.block_start=0,i.insert=0))),ma(e),e.avail_out===0))return i.last_flush=-1,Di}return t!==da?Di:i.wrap<=0?bp:(i.wrap===2?(Nn(i,e.adler&255),Nn(i,e.adler>>8&255),Nn(i,e.adler>>16&255),Nn(i,e.adler>>24&255),Nn(i,e.total_in&255),Nn(i,e.total_in>>8&255),Nn(i,e.total_in>>16&255),Nn(i,e.total_in>>24&255)):(ms(i,e.adler>>>16),ms(i,e.adler&65535)),ma(e),i.wrap>0&&(i.wrap=-i.wrap),i.pending!==0?Di:bp)},"deflate$2"),Ow=o(e=>{if(!e||!e.state)return ni;const t=e.state.status;return t!==Wl&&t!==Cf&&t!==jl&&t!==Kl&&t!==ql&&t!==za&&t!==ps?ga(e,ni):(e.state=null,t===za?ga(e,lw):Di)},"deflateEnd"),Mw=o((e,t)=>{let n=t.length;if(!e||!e.state)return ni;const r=e.state,i=r.wrap;if(i===2||i===1&&r.status!==Wl||r.lookahead)return ni;if(i===1&&(e.adler=gs(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){i===0&&(pa(r.head),r.strstart=0,r.block_start=0,r.insert=0);let c=new Uint8Array(r.w_size);c.set(t.subarray(n-r.w_size,n),0),t=c,n=r.w_size}const a=e.avail_in,s=e.next_in,l=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,ja(r);r.lookahead>=An;){let c=r.strstart,u=r.lookahead-(An-1);do r.ins_h=va(r,r.ins_h,r.window[c+An-1]),r.prev[c&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=c,c++;while(--u);r.strstart=c,r.lookahead=An-1,ja(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=An-1,r.match_available=0,e.next_in=s,e.input=l,e.avail_in=a,r.wrap=i,Di},"deflateSetDictionary");var Lw=kw,Nw=Ip,Bw=Tp,Uw=Cp,$w=Fw,Hw=Pw,zw=Ow,Ww=Mw,jw="pako deflate (from Nodeca project)",ws={deflateInit:Lw,deflateInit2:Nw,deflateReset:Bw,deflateResetKeep:Uw,deflateSetHeader:$w,deflate:Hw,deflateEnd:zw,deflateSetDictionary:Ww,deflateInfo:jw};const Kw=o((e,t)=>Object.prototype.hasOwnProperty.call(e,t),"_has");var qw=o(function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(!!n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)Kw(n,r)&&(e[r]=n[r])}}return e},"pako_esm_assign"),Vw=o(e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,i=0,a=e.length;r<a;r++){let s=e[r];n.set(s,i),i+=s.length}return n},"flattenChunks"),Vl={assign:qw,flattenChunks:Vw};let Ap=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){Ap=!1}const _s=new Uint8Array(256);for(let e=0;e<256;e++)_s[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;_s[254]=_s[254]=1;var Gw=o(e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,i,a,s=e.length,l=0;for(i=0;i<s;i++)n=e.charCodeAt(i),(n&64512)==55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)==56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(l),a=0,i=0;a<l;i++)n=e.charCodeAt(i),(n&64512)==55296&&i+1<s&&(r=e.charCodeAt(i+1),(r&64512)==56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|n&63):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|n&63):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|n&63);return t},"string2buf");const Zw=o((e,t)=>{if(t<65534&&e.subarray&&Ap)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n},"buf2binstring");var Qw=o((e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,i;const a=new Array(n*2);for(i=0,r=0;r<n;){let s=e[r++];if(s<128){a[i++]=s;continue}let l=_s[s];if(l>4){a[i++]=65533,r+=l-1;continue}for(s&=l===2?31:l===3?15:7;l>1&&r<n;)s=s<<6|e[r++]&63,l--;if(l>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return Zw(a,i)},"buf2string"),Xw=o((e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)==128;)n--;return n<0||n===0?t:n+_s[e[n]]>t?n:t},"utf8border"),xs={string2buf:Gw,buf2string:Qw,utf8border:Xw};function Jw(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}o(Jw,"ZStream");var Rp=Jw;const Dp=Object.prototype.toString,{Z_NO_FLUSH:Yw,Z_SYNC_FLUSH:e_,Z_FULL_FLUSH:t_,Z_FINISH:n_,Z_OK:Gl,Z_STREAM_END:r_,Z_DEFAULT_COMPRESSION:i_,Z_DEFAULT_STRATEGY:a_,Z_DEFLATED:o_}=$a;function bs(e){this.options=Vl.assign({level:i_,method:o_,chunkSize:16384,windowBits:15,memLevel:8,strategy:a_},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Rp,this.strm.avail_out=0;let n=ws.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==Gl)throw new Error(Ua[n]);if(t.header&&ws.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=xs.string2buf(t.dictionary):Dp.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=ws.deflateSetDictionary(this.strm,r),n!==Gl)throw new Error(Ua[n]);this._dict_set=!0}}o(bs,"Deflate$1"),bs.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let i,a;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?n_:Yw,typeof e=="string"?n.input=xs.string2buf(e):Dp.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(a===e_||a===t_)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=ws.deflate(n,a),i===r_)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=ws.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Gl;if(n.avail_out===0){this.onData(n.output);continue}if(a>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0},bs.prototype.onData=function(e){this.chunks.push(e)},bs.prototype.onEnd=function(e){e===Gl&&(this.result=Vl.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function If(e,t){const n=new bs(t);if(n.push(e,!0),n.err)throw n.msg||Ua[n.err];return n.result}o(If,"deflate$1");function s_(e,t){return t=t||{},t.raw=!0,If(e,t)}o(s_,"deflateRaw$1");function l_(e,t){return t=t||{},t.gzip=!0,If(e,t)}o(l_,"gzip$1");var u_=bs,c_=If,f_=s_,d_=l_,h_=$a,g_={Deflate:u_,deflate:c_,deflateRaw:f_,gzip:d_,constants:h_};const Zl=30,p_=12;var v_=o(function(t,n){let r,i,a,s,l,c,u,f,y,m,C,j,Q,z,G,re,fe,le,be,Je,Ue,Oe,vt,Pe;const St=t.state;r=t.next_in,vt=t.input,i=r+(t.avail_in-5),a=t.next_out,Pe=t.output,s=a-(n-t.avail_out),l=a+(t.avail_out-257),c=St.dmax,u=St.wsize,f=St.whave,y=St.wnext,m=St.window,C=St.hold,j=St.bits,Q=St.lencode,z=St.distcode,G=(1<<St.lenbits)-1,re=(1<<St.distbits)-1;e:do{j<15&&(C+=vt[r++]<<j,j+=8,C+=vt[r++]<<j,j+=8),fe=Q[C&G];t:for(;;){if(le=fe>>>24,C>>>=le,j-=le,le=fe>>>16&255,le===0)Pe[a++]=fe&65535;else if(le&16){be=fe&65535,le&=15,le&&(j<le&&(C+=vt[r++]<<j,j+=8),be+=C&(1<<le)-1,C>>>=le,j-=le),j<15&&(C+=vt[r++]<<j,j+=8,C+=vt[r++]<<j,j+=8),fe=z[C&re];n:for(;;){if(le=fe>>>24,C>>>=le,j-=le,le=fe>>>16&255,le&16){if(Je=fe&65535,le&=15,j<le&&(C+=vt[r++]<<j,j+=8,j<le&&(C+=vt[r++]<<j,j+=8)),Je+=C&(1<<le)-1,Je>c){t.msg="invalid distance too far back",St.mode=Zl;break e}if(C>>>=le,j-=le,le=a-s,Je>le){if(le=Je-le,le>f&&St.sane){t.msg="invalid distance too far back",St.mode=Zl;break e}if(Ue=0,Oe=m,y===0){if(Ue+=u-le,le<be){be-=le;do Pe[a++]=m[Ue++];while(--le);Ue=a-Je,Oe=Pe}}else if(y<le){if(Ue+=u+y-le,le-=y,le<be){be-=le;do Pe[a++]=m[Ue++];while(--le);if(Ue=0,y<be){le=y,be-=le;do Pe[a++]=m[Ue++];while(--le);Ue=a-Je,Oe=Pe}}}else if(Ue+=y-le,le<be){be-=le;do Pe[a++]=m[Ue++];while(--le);Ue=a-Je,Oe=Pe}for(;be>2;)Pe[a++]=Oe[Ue++],Pe[a++]=Oe[Ue++],Pe[a++]=Oe[Ue++],be-=3;be&&(Pe[a++]=Oe[Ue++],be>1&&(Pe[a++]=Oe[Ue++]))}else{Ue=a-Je;do Pe[a++]=Pe[Ue++],Pe[a++]=Pe[Ue++],Pe[a++]=Pe[Ue++],be-=3;while(be>2);be&&(Pe[a++]=Pe[Ue++],be>1&&(Pe[a++]=Pe[Ue++]))}}else if((le&64)==0){fe=z[(fe&65535)+(C&(1<<le)-1)];continue n}else{t.msg="invalid distance code",St.mode=Zl;break e}break}}else if((le&64)==0){fe=Q[(fe&65535)+(C&(1<<le)-1)];continue t}else if(le&32){St.mode=p_;break e}else{t.msg="invalid literal/length code",St.mode=Zl;break e}break}}while(r<i&&a<l);be=j>>3,r-=be,j-=be<<3,C&=(1<<j)-1,t.next_in=r,t.next_out=a,t.avail_in=r<i?5+(i-r):5-(r-i),t.avail_out=a<l?257+(l-a):257-(a-l),St.hold=C,St.bits=j},"inflate_fast");const Io=15,Fp=852,kp=592,Pp=0,Af=1,Op=2,m_=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),y_=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),w_=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),__=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Es=o((e,t,n,r,i,a,s,l)=>{const c=l.bits;let u=0,f=0,y=0,m=0,C=0,j=0,Q=0,z=0,G=0,re=0,fe,le,be,Je,Ue,Oe=null,vt=0,Pe;const St=new Uint16Array(Io+1),un=new Uint16Array(Io+1);let kn=null,Se=0,st,_t,xt;for(u=0;u<=Io;u++)St[u]=0;for(f=0;f<r;f++)St[t[n+f]]++;for(C=c,m=Io;m>=1&&St[m]===0;m--);if(C>m&&(C=m),m===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,l.bits=1,0;for(y=1;y<m&&St[y]===0;y++);for(C<y&&(C=y),z=1,u=1;u<=Io;u++)if(z<<=1,z-=St[u],z<0)return-1;if(z>0&&(e===Pp||m!==1))return-1;for(un[1]=0,u=1;u<Io;u++)un[u+1]=un[u]+St[u];for(f=0;f<r;f++)t[n+f]!==0&&(s[un[t[n+f]]++]=f);if(e===Pp?(Oe=kn=s,Pe=19):e===Af?(Oe=m_,vt-=257,kn=y_,Se-=257,Pe=256):(Oe=w_,kn=__,Pe=-1),re=0,f=0,u=y,Ue=a,j=C,Q=0,be=-1,G=1<<C,Je=G-1,e===Af&&G>Fp||e===Op&&G>kp)return 1;for(;;){st=u-Q,s[f]<Pe?(_t=0,xt=s[f]):s[f]>Pe?(_t=kn[Se+s[f]],xt=Oe[vt+s[f]]):(_t=32+64,xt=0),fe=1<<u-Q,le=1<<j,y=le;do le-=fe,i[Ue+(re>>Q)+le]=st<<24|_t<<16|xt|0;while(le!==0);for(fe=1<<u-1;re&fe;)fe>>=1;if(fe!==0?(re&=fe-1,re+=fe):re=0,f++,--St[u]==0){if(u===m)break;u=t[n+s[f]]}if(u>C&&(re&Je)!==be){for(Q===0&&(Q=C),Ue+=y,j=u-Q,z=1<<j;j+Q<m&&(z-=St[j+Q],!(z<=0));)j++,z<<=1;if(G+=1<<j,e===Af&&G>Fp||e===Op&&G>kp)return 1;be=re&Je,i[be]=C<<24|j<<16|Ue-a|0}}return re!==0&&(i[Ue+re]=u-Q<<24|64<<16|0),l.bits=C,0},"inflate_table");const x_=0,Mp=1,Lp=2,{Z_FINISH:Np,Z_BLOCK:b_,Z_TREES:Ql,Z_OK:Ka,Z_STREAM_END:E_,Z_NEED_DICT:S_,Z_STREAM_ERROR:ri,Z_DATA_ERROR:Bp,Z_MEM_ERROR:Up,Z_BUF_ERROR:C_,Z_DEFLATED:$p}=$a,Hp=1,zp=2,Wp=3,jp=4,Kp=5,qp=6,Vp=7,Gp=8,Zp=9,Qp=10,Xl=11,Gi=12,Rf=13,Xp=14,Df=15,Jp=16,Yp=17,e0=18,t0=19,Jl=20,Yl=21,n0=22,r0=23,i0=24,a0=25,o0=26,Ff=27,s0=28,l0=29,nr=30,u0=31,T_=32,I_=852,A_=592,R_=15,c0=o(e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24),"zswap32");function D_(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}o(D_,"InflateState");const f0=o(e=>{if(!e||!e.state)return ri;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Hp,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(I_),t.distcode=t.distdyn=new Int32Array(A_),t.sane=1,t.back=-1,Ka},"inflateResetKeep"),d0=o(e=>{if(!e||!e.state)return ri;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,f0(e)},"inflateReset"),h0=o((e,t)=>{let n;if(!e||!e.state)return ri;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15)?ri:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,d0(e))},"inflateReset2"),g0=o((e,t)=>{if(!e)return ri;const n=new D_;e.state=n,n.window=null;const r=h0(e,t);return r!==Ka&&(e.state=null),r},"inflateInit2"),F_=o(e=>g0(e,R_),"inflateInit");let p0=!0,kf,Pf;const k_=o(e=>{if(p0){kf=new Int32Array(512),Pf=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Es(Mp,e.lens,0,288,kf,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Es(Lp,e.lens,0,32,Pf,0,e.work,{bits:5}),p0=!1}e.lencode=kf,e.lenbits=9,e.distcode=Pf,e.distbits=5},"fixedtables"),v0=o((e,t,n,r)=>{let i;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(t.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(t.subarray(n-r,n-r+i),a.wnext),r-=i,r?(a.window.set(t.subarray(n-r,n),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},"updatewindow"),P_=o((e,t)=>{let n,r,i,a,s,l,c,u,f,y,m,C,j,Q,z=0,G,re,fe,le,be,Je,Ue,Oe;const vt=new Uint8Array(4);let Pe,St;const un=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return ri;n=e.state,n.mode===Gi&&(n.mode=Rf),s=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,r=e.input,l=e.avail_in,u=n.hold,f=n.bits,y=l,m=c,Oe=Ka;e:for(;;)switch(n.mode){case Hp:if(n.wrap===0){n.mode=Rf;break}for(;f<16;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}if(n.wrap&2&&u===35615){n.check=0,vt[0]=u&255,vt[1]=u>>>8&255,n.check=Er(n.check,vt,2,0),u=0,f=0,n.mode=zp;break}if(n.flags=0,n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",n.mode=nr;break}if((u&15)!==$p){e.msg="unknown compression method",n.mode=nr;break}if(u>>>=4,f-=4,Ue=(u&15)+8,n.wbits===0)n.wbits=Ue;else if(Ue>n.wbits){e.msg="invalid window size",n.mode=nr;break}n.dmax=1<<n.wbits,e.adler=n.check=1,n.mode=u&512?Qp:Gi,u=0,f=0;break;case zp:for(;f<16;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}if(n.flags=u,(n.flags&255)!==$p){e.msg="unknown compression method",n.mode=nr;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=nr;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&(vt[0]=u&255,vt[1]=u>>>8&255,n.check=Er(n.check,vt,2,0)),u=0,f=0,n.mode=Wp;case Wp:for(;f<32;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}n.head&&(n.head.time=u),n.flags&512&&(vt[0]=u&255,vt[1]=u>>>8&255,vt[2]=u>>>16&255,vt[3]=u>>>24&255,n.check=Er(n.check,vt,4,0)),u=0,f=0,n.mode=jp;case jp:for(;f<16;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&(vt[0]=u&255,vt[1]=u>>>8&255,n.check=Er(n.check,vt,2,0)),u=0,f=0,n.mode=Kp;case Kp:if(n.flags&1024){for(;f<16;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&(vt[0]=u&255,vt[1]=u>>>8&255,n.check=Er(n.check,vt,2,0)),u=0,f=0}else n.head&&(n.head.extra=null);n.mode=qp;case qp:if(n.flags&1024&&(C=n.length,C>l&&(C=l),C&&(n.head&&(Ue=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(a,a+C),Ue)),n.flags&512&&(n.check=Er(n.check,r,C,a)),l-=C,a+=C,n.length-=C),n.length))break e;n.length=0,n.mode=Vp;case Vp:if(n.flags&2048){if(l===0)break e;C=0;do Ue=r[a+C++],n.head&&Ue&&n.length<65536&&(n.head.name+=String.fromCharCode(Ue));while(Ue&&C<l);if(n.flags&512&&(n.check=Er(n.check,r,C,a)),l-=C,a+=C,Ue)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=Gp;case Gp:if(n.flags&4096){if(l===0)break e;C=0;do Ue=r[a+C++],n.head&&Ue&&n.length<65536&&(n.head.comment+=String.fromCharCode(Ue));while(Ue&&C<l);if(n.flags&512&&(n.check=Er(n.check,r,C,a)),l-=C,a+=C,Ue)break e}else n.head&&(n.head.comment=null);n.mode=Zp;case Zp:if(n.flags&512){for(;f<16;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}if(u!==(n.check&65535)){e.msg="header crc mismatch",n.mode=nr;break}u=0,f=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Gi;break;case Qp:for(;f<32;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}e.adler=n.check=c0(u),u=0,f=0,n.mode=Xl;case Xl:if(n.havedict===0)return e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=l,n.hold=u,n.bits=f,S_;e.adler=n.check=1,n.mode=Gi;case Gi:if(t===b_||t===Ql)break e;case Rf:if(n.last){u>>>=f&7,f-=f&7,n.mode=Ff;break}for(;f<3;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}switch(n.last=u&1,u>>>=1,f-=1,u&3){case 0:n.mode=Xp;break;case 1:if(k_(n),n.mode=Jl,t===Ql){u>>>=2,f-=2;break e}break;case 2:n.mode=Yp;break;case 3:e.msg="invalid block type",n.mode=nr}u>>>=2,f-=2;break;case Xp:for(u>>>=f&7,f-=f&7;f<32;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}if((u&65535)!=(u>>>16^65535)){e.msg="invalid stored block lengths",n.mode=nr;break}if(n.length=u&65535,u=0,f=0,n.mode=Df,t===Ql)break e;case Df:n.mode=Jp;case Jp:if(C=n.length,C){if(C>l&&(C=l),C>c&&(C=c),C===0)break e;i.set(r.subarray(a,a+C),s),l-=C,a+=C,c-=C,s+=C,n.length-=C;break}n.mode=Gi;break;case Yp:for(;f<14;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}if(n.nlen=(u&31)+257,u>>>=5,f-=5,n.ndist=(u&31)+1,u>>>=5,f-=5,n.ncode=(u&15)+4,u>>>=4,f-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=nr;break}n.have=0,n.mode=e0;case e0:for(;n.have<n.ncode;){for(;f<3;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}n.lens[un[n.have++]]=u&7,u>>>=3,f-=3}for(;n.have<19;)n.lens[un[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Pe={bits:n.lenbits},Oe=Es(x_,n.lens,0,19,n.lencode,0,n.work,Pe),n.lenbits=Pe.bits,Oe){e.msg="invalid code lengths set",n.mode=nr;break}n.have=0,n.mode=t0;case t0:for(;n.have<n.nlen+n.ndist;){for(;z=n.lencode[u&(1<<n.lenbits)-1],G=z>>>24,re=z>>>16&255,fe=z&65535,!(G<=f);){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}if(fe<16)u>>>=G,f-=G,n.lens[n.have++]=fe;else{if(fe===16){for(St=G+2;f<St;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}if(u>>>=G,f-=G,n.have===0){e.msg="invalid bit length repeat",n.mode=nr;break}Ue=n.lens[n.have-1],C=3+(u&3),u>>>=2,f-=2}else if(fe===17){for(St=G+3;f<St;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}u>>>=G,f-=G,Ue=0,C=3+(u&7),u>>>=3,f-=3}else{for(St=G+7;f<St;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}u>>>=G,f-=G,Ue=0,C=11+(u&127),u>>>=7,f-=7}if(n.have+C>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=nr;break}for(;C--;)n.lens[n.have++]=Ue}}if(n.mode===nr)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=nr;break}if(n.lenbits=9,Pe={bits:n.lenbits},Oe=Es(Mp,n.lens,0,n.nlen,n.lencode,0,n.work,Pe),n.lenbits=Pe.bits,Oe){e.msg="invalid literal/lengths set",n.mode=nr;break}if(n.distbits=6,n.distcode=n.distdyn,Pe={bits:n.distbits},Oe=Es(Lp,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Pe),n.distbits=Pe.bits,Oe){e.msg="invalid distances set",n.mode=nr;break}if(n.mode=Jl,t===Ql)break e;case Jl:n.mode=Yl;case Yl:if(l>=6&&c>=258){e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=l,n.hold=u,n.bits=f,v_(e,m),s=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,r=e.input,l=e.avail_in,u=n.hold,f=n.bits,n.mode===Gi&&(n.back=-1);break}for(n.back=0;z=n.lencode[u&(1<<n.lenbits)-1],G=z>>>24,re=z>>>16&255,fe=z&65535,!(G<=f);){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}if(re&&(re&240)==0){for(le=G,be=re,Je=fe;z=n.lencode[Je+((u&(1<<le+be)-1)>>le)],G=z>>>24,re=z>>>16&255,fe=z&65535,!(le+G<=f);){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}u>>>=le,f-=le,n.back+=le}if(u>>>=G,f-=G,n.back+=G,n.length=fe,re===0){n.mode=o0;break}if(re&32){n.back=-1,n.mode=Gi;break}if(re&64){e.msg="invalid literal/length code",n.mode=nr;break}n.extra=re&15,n.mode=n0;case n0:if(n.extra){for(St=n.extra;f<St;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,f-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=r0;case r0:for(;z=n.distcode[u&(1<<n.distbits)-1],G=z>>>24,re=z>>>16&255,fe=z&65535,!(G<=f);){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}if((re&240)==0){for(le=G,be=re,Je=fe;z=n.distcode[Je+((u&(1<<le+be)-1)>>le)],G=z>>>24,re=z>>>16&255,fe=z&65535,!(le+G<=f);){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}u>>>=le,f-=le,n.back+=le}if(u>>>=G,f-=G,n.back+=G,re&64){e.msg="invalid distance code",n.mode=nr;break}n.offset=fe,n.extra=re&15,n.mode=i0;case i0:if(n.extra){for(St=n.extra;f<St;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,f-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=nr;break}n.mode=a0;case a0:if(c===0)break e;if(C=m-c,n.offset>C){if(C=n.offset-C,C>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=nr;break}C>n.wnext?(C-=n.wnext,j=n.wsize-C):j=n.wnext-C,C>n.length&&(C=n.length),Q=n.window}else Q=i,j=s-n.offset,C=n.length;C>c&&(C=c),c-=C,n.length-=C;do i[s++]=Q[j++];while(--C);n.length===0&&(n.mode=Yl);break;case o0:if(c===0)break e;i[s++]=n.length,c--,n.mode=Yl;break;case Ff:if(n.wrap){for(;f<32;){if(l===0)break e;l--,u|=r[a++]<<f,f+=8}if(m-=c,e.total_out+=m,n.total+=m,m&&(e.adler=n.check=n.flags?Er(n.check,i,m,s-m):gs(n.check,i,m,s-m)),m=c,(n.flags?u:c0(u))!==n.check){e.msg="incorrect data check",n.mode=nr;break}u=0,f=0}n.mode=s0;case s0:if(n.wrap&&n.flags){for(;f<32;){if(l===0)break e;l--,u+=r[a++]<<f,f+=8}if(u!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=nr;break}u=0,f=0}n.mode=l0;case l0:Oe=E_;break e;case nr:Oe=Bp;break e;case u0:return Up;case T_:default:return ri}return e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=l,n.hold=u,n.bits=f,(n.wsize||m!==e.avail_out&&n.mode<nr&&(n.mode<Ff||t!==Np))&&v0(e,e.output,e.next_out,m-e.avail_out),y-=e.avail_in,m-=e.avail_out,e.total_in+=y,e.total_out+=m,n.total+=m,n.wrap&&m&&(e.adler=n.check=n.flags?Er(n.check,i,m,e.next_out-m):gs(n.check,i,m,e.next_out-m)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Gi?128:0)+(n.mode===Jl||n.mode===Df?256:0),(y===0&&m===0||t===Np)&&Oe===Ka&&(Oe=C_),Oe},"inflate$2"),O_=o(e=>{if(!e||!e.state)return ri;let t=e.state;return t.window&&(t.window=null),e.state=null,Ka},"inflateEnd"),M_=o((e,t)=>{if(!e||!e.state)return ri;const n=e.state;return(n.wrap&2)==0?ri:(n.head=t,t.done=!1,Ka)},"inflateGetHeader"),L_=o((e,t)=>{const n=t.length;let r,i,a;return!e||!e.state||(r=e.state,r.wrap!==0&&r.mode!==Xl)?ri:r.mode===Xl&&(i=1,i=gs(i,t,n,0),i!==r.check)?Bp:(a=v0(e,t,n,n),a?(r.mode=u0,Up):(r.havedict=1,Ka))},"inflateSetDictionary");var N_=d0,B_=h0,U_=f0,$_=F_,H_=g0,z_=P_,W_=O_,j_=M_,K_=L_,q_="pako inflate (from Nodeca project)",Zi={inflateReset:N_,inflateReset2:B_,inflateResetKeep:U_,inflateInit:$_,inflateInit2:H_,inflate:z_,inflateEnd:W_,inflateGetHeader:j_,inflateSetDictionary:K_,inflateInfo:q_};function V_(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}o(V_,"GZheader");var G_=V_;const m0=Object.prototype.toString,{Z_NO_FLUSH:Z_,Z_FINISH:Q_,Z_OK:Ss,Z_STREAM_END:Of,Z_NEED_DICT:Mf,Z_STREAM_ERROR:X_,Z_DATA_ERROR:y0,Z_MEM_ERROR:J_}=$a;function Cs(e){this.options=Vl.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)==0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Rp,this.strm.avail_out=0;let n=Zi.inflateInit2(this.strm,t.windowBits);if(n!==Ss)throw new Error(Ua[n]);if(this.header=new G_,Zi.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=xs.string2buf(t.dictionary):m0.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Zi.inflateSetDictionary(this.strm,t.dictionary),n!==Ss)))throw new Error(Ua[n])}o(Cs,"Inflate$1"),Cs.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let a,s,l;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?Q_:Z_,m0.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),a=Zi.inflate(n,s),a===Mf&&i&&(a=Zi.inflateSetDictionary(n,i),a===Ss?a=Zi.inflate(n,s):a===y0&&(a=Mf));n.avail_in>0&&a===Of&&n.state.wrap>0&&e[n.next_in]!==0;)Zi.inflateReset(n),a=Zi.inflate(n,s);switch(a){case X_:case y0:case Mf:case J_:return this.onEnd(a),this.ended=!0,!1}if(l=n.avail_out,n.next_out&&(n.avail_out===0||a===Of))if(this.options.to==="string"){let c=xs.utf8border(n.output,n.next_out),u=n.next_out-c,f=xs.buf2string(n.output,c);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(c,c+u),0),this.onData(f)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(a===Ss&&l===0)){if(a===Of)return a=Zi.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(n.avail_in===0)break}}return!0},Cs.prototype.onData=function(e){this.chunks.push(e)},Cs.prototype.onEnd=function(e){e===Ss&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Vl.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Lf(e,t){const n=new Cs(t);if(n.push(e),n.err)throw n.msg||Ua[n.err];return n.result}o(Lf,"inflate$1");function Y_(e,t){return t=t||{},t.raw=!0,Lf(e,t)}o(Y_,"inflateRaw$1");var ex=Cs,tx=Lf,nx=Y_,rx=Lf,ix=$a,ax={Inflate:ex,inflate:tx,inflateRaw:nx,ungzip:rx,constants:ix};const{Deflate:ox,deflate:sx,deflateRaw:lx,gzip:ux}=g_,{Inflate:cx,inflate:fx,inflateRaw:dx,ungzip:hx}=ax;var gx=ox,px=sx,vx=lx,mx=ux,yx=cx,wx=fx,_x=dx,w0=hx,xx=$a,Kb={Deflate:gx,deflate:px,deflateRaw:vx,gzip:mx,Inflate:yx,inflate:wx,inflateRaw:_x,ungzip:w0,constants:xx},Ts;(function(e){e.HasVirtualFolders="remoteHub:hasVirtualFolders",e.VirtualFolderProviders="remoteHub:virtualFolderProviders",e.HasRecentRepositories="remoteHub:hasRecentRepositories",e.HasSearchIndexes="gitHub:hasSearchIndexes",e.EnabledSomeSearchIndexes="gitHub:enabledSomeSearchIndexes",e.EnabledAllSearchIndexes="gitHub:enabledAllSearchIndexes",e.HasPullRequestExtension="gitHub:hasPullRequestExtension"})(Ts||(Ts={}));const _0=new Map;function qb(e){return e==="isWeb"?isWeb:e==="remoteName"?env.remoteName:e==="virtualWorkspace"?VirtualProviderUtils.isVirtualWorkspace():e.startsWith("config.")?configuration.getAny(e.substring(7)):_0.get(e)}o(qb,"getContext");function Vb(e){return e==="isWeb"||e==="remoteName"||e==="virtualWorkspace"||e.startsWith("config.")||e.startsWith("remoteHub:")||e.startsWith("continueOn:")}o(Vb,"isSupportedContextKey");async function Nf(e,t){_0.set(e,t),!e.startsWith("continueOn:")&&await d.commands.executeCommand("setContext",e,t)}o(Nf,"setContext");class Bf{constructor(t){this.bytes=t,this.byteIndexCurrent=0}hasMoreBytes(){return this.byteIndexCurrent<this.bytes.length}readBytes(t){const n=this.byteIndexCurrent;return this.byteIndexCurrent+=t,this.bytes.slice(n,this.byteIndexCurrent)}readByte(){const t=this.bytes[this.byteIndexCurrent];return this.byteIndexCurrent++,t}readString(t){const n=[],r=this.byteIndexCurrent+t;let i=this.byteIndexCurrent;for(;i<r;){const a=this.bytes[i++];if(a===0)break;let s=0,l=0;if((a&128)==0)s=a,l=0;else if((a&224)==192)s=a&31,l=1;else if((a&240)==224)s=a&15,l=2;else if((a&248)==240)s=a&7,l=3;else throw Error(`Invalid unicode, unknown multibyte encoding header ${a.toString(2)} at offset ${i}`);for(;l>0;){const c=this.bytes[i++];if((c&192)!=128)throw Error(`Invalid unicode, unexpected multibyte encoding trailer ${c.toString(2)} at offset ${i}`);s=s<<6|c&63,l--}n.push(String.fromCodePoint(s))}return this.byteIndexCurrent=r,n.join("")}}o(Bf,"ByteStream");class Fr{constructor(t,n){this.value=t,this.id=`_${this.value}`,this.name=n}static Instances(){return Fr._instances==null&&(Fr._instances=new x0),Fr._instances}}o(Fr,"TarFileTypeFlag");class x0{constructor(){this.Normal=new Fr("0","Normal"),this.HardLink=new Fr("1","Hard Link"),this.SymbolicLink=new Fr("2","Symbolic Link"),this.CharacterSpecial=new Fr("3","Character Special"),this.BlockSpecial=new Fr("4","Block Special"),this.Directory=new Fr("5","Directory"),this.FIFO=new Fr("6","FIFO"),this.ContiguousFile=new Fr("7","Contiguous File"),this.LongFilePath=new Fr("L","././@LongLink"),this._All=[this.Normal,this.HardLink,this.SymbolicLink,this.CharacterSpecial,this.BlockSpecial,this.Directory,this.FIFO,this.ContiguousFile,this.LongFilePath];for(let t=0;t<this._All.length;t++){const n=this._All[t];this._All[n.id]=n}}}o(x0,"TarFileTypeFlag_Instances");class eu{constructor(t,n,r,i,a,s,l,c,u,f,y,m,C,j,Q,z){this.fileName=t,this.fileMode=n,this.userIDOfOwner=r,this.userIDOfGroup=i,this.fileSizeInBytes=a,this.timeModifiedInUnixFormat=s,this.checksum=l,this.typeFlag=c,this.nameOfLinkedFile=u,this.uStarIndicator=f,this.uStarVersion=y,this.userNameOfOwner=m,this.groupNameOfOwner=C,this.deviceNumberMajor=j,this.deviceNumberMinor=Q,this.filenamePrefix=z,this.fullFileName=z.length?z.endsWith("/")?z+t:`${z}/${t}`:t}static fromBytes(t){const n=new Bf(t),r=n.readString(100).trim(),i=n.readString(8),a=n.readString(8),s=n.readString(8),l=n.readString(12),c=n.readBytes(12),u=n.readString(8),f=n.readString(1),y=n.readString(100),m=n.readString(6),C=n.readString(2),j=n.readString(32),Q=n.readString(32),z=n.readString(8),G=n.readString(8),re=n.readString(155),fe=n.readBytes(12),le=parseInt(l.trim(),8),be=parseInt(u,8),Je=Fr.Instances()._All,Ue=`_${f}`,Oe=Je[Ue];return new eu(r,i,a,s,le,c,be,Oe,y,m,C,j,Q,z,G,re)}}o(eu,"TarFileEntryHeader");const b0=512;class tu{constructor(t,n){this.header=t,this.dataAsBytes=n}static fromBytes(t,n){const r=b0,i=eu.fromBytes(t),a=i.fileSizeInBytes,l=Math.ceil(a/r)*r,c=n.readBytes(l).slice(0,a);return new tu(i,c)}}o(tu,"TarFileEntry");class nu{constructor(t){var n;this.entries=t,this.consolidateLongPathEntries();for(const r of this.entries)((n=r.header.typeFlag)==null?void 0:n.name)==="Normal"&&(r.header.fullFileName=r.header.fullFileName.replace(/^[^/]+\/?/,""));this.entryMap=new Map;for(const r of this.entries)this.entryMap.set(r.header.fullFileName,r)}static async fromBytes(t){const n=new Bf(t),r=[],i=b0;let a=0,s=0;for(;n.hasMoreBytes()==!0;){++a%1e3==0&&await new Promise(u=>setTimeout(u,10));const l=n.readBytes(i);let c=!0;for(let u=0;u<l.length;u++)if(l[u]!=0){c=!1;break}if(c==!0){if(s++,s==2)break}else{s=0;const u=tu.fromBytes(l,n);r.push(u)}}return new nu(r)}consolidateLongPathEntries(){var t;const n=Fr.Instances().LongFilePath.name,r=this.entries;for(let i=0;i<r.length;i++){const a=r[i];if(((t=a.header.typeFlag)==null?void 0:t.name)==n){const s=r[i+1];s.header.fileName=a.dataAsBytes.reduce((l,c)=>l+=String.fromCharCode(c),""),s.header.fileName=s.header.fileName.replace(/\0/g,""),r.splice(i,1),i--}}}}o(nu,"TarFile");const bx=o(e=>nu.fromBytes(e),"readTar"),ii=S.loadMessageBundle(),ru=new TextDecoder,Uf=new TextEncoder;class E0{constructor(t,n=0){this.retainFor=n;try{this.weakRef=new WeakRef(t)}catch{}this.retain(t)}retain(t){this.retainTimeout&&clearTimeout(this.retainTimeout),this.strongRef=t,this.retainTimeout=setTimeout(()=>{this.strongRef=void 0,this.retainTimeout=void 0},this.retainFor)}deref(){var t,n;const r=(n=this.strongRef)!=null?n:(t=this.weakRef)==null?void 0:t.deref();return r&&this.retain(r),r}}o(E0,"TimedRetainingRef");class S0{constructor(t,n){this.root=t,this.providerService=n,this._onDidChangeIndexingEnablement=new d.EventEmitter,this._onDidDownloadTar=new d.EventEmitter,this.ongoingDiskRequests=new Map,this.ongoingNetworkRequests=new Map,this.indexingDisabled=!1,this.usageFile=d.Uri.joinPath(this.root,"usageHistory.json"),this.indexingAllowanceFile=d.Uri.joinPath(this.root,"indexAllowances.json"),this._disposable=d.Disposable.from(...this.registerCommands()),this.updateContext()}get onDidChangeIndexingEnablement(){return this._onDidChangeIndexingEnablement.event}get onDidDownloadTar(){return this._onDidDownloadTar.event}async updateContext(){await Nf(Ts.HasSearchIndexes,(await this.listTars()).length>0);const t=this.providerService.repositories.map(i=>i.name),n=await this.getIndexingEnabledRepos(),r=n.has("*")||t.every(i=>n.has(i));await Nf(Ts.EnabledSomeSearchIndexes,n.size>0),await Nf(Ts.EnabledAllSearchIndexes,r)}dispose(){this._disposable.dispose()}registerCommands(){return[d.commands.registerCommand("remoteHub.configureIndexingAllowedRepos",async()=>{await this.configureIndexingAllowedRepos()}),d.commands.registerCommand("remoteHub.disableIndexingForSession",()=>(this.temporarilyDisableIndexing(),{triggerSearch:!0})),d.commands.registerCommand("remoteHub.enableIndexing",async()=>(await this.markIndexingEnablementForRepos(!0),{triggerSearch:!0})),d.commands.registerCommand("remoteHub.deleteLocalRepositoryData",async()=>{const t=o(i=>{const a=[{power:9,name:"GB"},{power:6,name:"MB"},{power:3,name:"kB"},{power:0,name:"B"}];for(const s of a)if(i>10**s.power)return`${Math.round(i/10**s.power)} ${s.name}`;return"Unknown size"},"humanReadableSize"),n=await this.listTars();if(n.length===0){await d.window.showInformationMessage("No Repository Indexes Found");return}const r=d.window.createQuickPick();r.canSelectMany=!0,r.items=n.map(({name:i,size:a,path:s})=>({label:i,path:s,description:a?t(a):void 0})),r.show(),r.onDidAccept(async()=>{r.hide();for(const{label:i,path:a}of r.selectedItems){const s=d.workspace.fs.delete(a),l=d.window.setStatusBarMessage(`$(loading) Deleting ${i}`,s);await s,l.dispose()}this.updateContext()}),r.onDidHide(()=>r.dispose())}),d.commands.registerCommand("remoteHub.deleteAllLocalRepositoryData",()=>d.window.withProgress({location:d.ProgressLocation.Notification,title:"Deleting Repository Indexes..."},async()=>{this.lastReadKey=void 0,this.lastReadValue=void 0;try{await Promise.all([d.workspace.fs.delete(this.root,{recursive:!0})])}catch(t){se.error(t)}finally{this.updateContext()}}))]}getTarFromMemory(t){var n;if(se.debug(`TarPit.getTarFromMemory(key=${t})`),t===this.lastReadKey){const r=(n=this.lastReadValue)==null?void 0:n.deref();if(r)return r;se.log("Weakref deallocated.")}}async getTarFromDisk(t){try{const n=await d.workspace.fs.readFile(t);return!n||!n.length?void 0:n}catch(n){(!(n instanceof d.FileSystemError)||n.code!==d.FileSystemError.FileNotFound.name)&&(d.window.showWarningMessage(ii("diskReadUnexpectedError","Unexpected error reading index from disk, attempting to reload from network")),se.error(n,"Unexpected error reading tarball from disk"));return}}async getTarFromNetwork(t,n,r){try{const i=await this.isIndexingEnabledForRepo(t);try{if(i){const a=await this.providerService.getTarGz(t,n);if(a)return a}else if(i===void 0){const a=Rt.get("indexing.maxIndexSize");if(a===null)throw new d.CancellationError;if(a){const s=await this.providerService.getTarGz(t,n,a*1024*1024);if(s)return s}}}catch(a){if(a instanceof d.CancellationError)throw await this.markIndexingEnablementForRepos(!1),a;if(a instanceof Error&&a.message==="LIMIT_HIT")await this.markIndexingEnablementForRepos(!1);else throw a}if(!r){const a={id:"configure",title:ii("configure","Configure Limit")},s={id:"continue",title:ii("continue","Continue"),isCloseAffordance:!0};d.window.showInformationMessage(ii("bigRepo","Repository exceeds download size limit! Continuing with partial text services."),a,s).then(async l=>{l===a&&await d.commands.executeCommand("workbench.action.openSettings","remoteHub.indexing")})}if(r){const a={id:"no",title:ii("cancel","Use Partial Services"),isCloseAffordance:!0},s={id:"configure",title:ii("configure","Configure")},l={id:"repo",title:ii("continue","Download Full Contents")},c=Rt.get("indexing.maxIndexSize"),u=c!==null?`${c.toString()}\xA0MB`:"null";switch(await d.window.showWarningMessage(ii("bigRepo","This repository exceeds the download size limit ({0}).",u),{modal:!0,detail:ii("downloadUse","Continue using a partial version of text services like workspace search and global references, or ignore the limit and download this repository's full contents.",u)},a,l,s)){case l:{await this.markIndexingEnablementForRepos(!0);try{const y=await this.providerService.getTarGz(t,n);if(y)return y}catch(y){y instanceof d.CancellationError&&await this.markIndexingEnablementForRepos(!1)}break}case s:await d.commands.executeCommand("workbench.action.openSettings","remoteHub.indexing");break;case a:await this.markIndexingEnablementForRepos(!1)}}throw new d.CancellationError}finally{this.updateContext()}}async getTar(t,n,r){r===void 0&&({HEAD:{sha:r}}=await this.providerService.getMetadata(t));const i=this.getTarStorageUri(t,r),a=await this.getTarCacheKey(t,r);try{let s=this.ongoingNetworkRequests.get(a);return s===void 0&&(s=this.getTarCore(t,r,i,{blocking:n}),this.ongoingNetworkRequests.set(a,s),this.ongoingDiskRequests.set(a,s)),await s}finally{this.ongoingNetworkRequests.delete(a),this.ongoingDiskRequests.delete(a)}}async getInMemoryTar(t,n){return se.debug(`TarPit.getInMemoryTar(rootUri=${t.toString()}, ref=${n==null?void 0:n.toString()})`),this.getTarFromMemory(await this.getTarCacheKey(t,n))}async getCachedTar(t,n){var r;const i=await this.getTarCacheKey(t,n),a=this.getTarStorageUri(t,n);try{let s=(r=this.ongoingDiskRequests.get(i))!=null?r:this.ongoingNetworkRequests.get(i);return s===void 0&&(s=this.getTarCore(t,n,a,{skipDownload:!0,blocking:!1}),this.ongoingDiskRequests.set(i,s)),await s}finally{this.ongoingDiskRequests.delete(i)}}async getTarCore(t,n,r,i){const a=this.providerService.getCanonicalUri(t),s=`${B(a,{excludeScheme:!0})}/${n}`,l=new N(`TarPit.getTar(${s})`),c=await this.getTarCacheKey(t,n),u=Date.now();let f,y;try{if(l.logStep("Getting .tar from memory",{suffix:" \u2022 Getting .tar from memory..."}),y=this.getTarFromMemory(c),y)return f=" \u2022 Got .tar from memory",y;l.logStep("Getting .tar from disk",{message:": Not found \u2022",suffix:" \u2022 Getting .tar from disk..."});let m=!1,C=await this.getTarFromDisk(r);if(C==null?void 0:C.length)f=" \u2022 Got .tar from disk";else{if(i==null?void 0:i.skipDownload){f=" \u2022 Skipped download";return}if(await this.isIndexingEnabledForRepo(t)===!1)throw f=" \u2022 Downloading disabled",new d.CancellationError;l.logStep("Getting .tar from network",{message:": Not found \u2022",suffix:" \u2022 Getting .tar from network..."}),C=await this.getTarFromNetwork(t,n,i.blocking),m=!0,f=" \u2022 Got .tar from network",d.workspace.fs.writeFile(r,C).then(()=>se.debug(`Sucessfully wrote tarball to disk in ${Date.now()-u}ms`),Q=>se.error(Q,`Error writing tarball to disk in ${Date.now()-u}ms`))}if(!(C==null?void 0:C.length))throw new Error("Internal Error: Invalid repository index. Try deleting repository data and running operation again: `GitHub Repositories: Delete Local Repository Data...`");l.logStep("Unzipping .tar",{suffix:" \u2022 Unzipping .tar..."});const j=w0(C);return y=await bx(j),l.stop({message:"Finished getting tar"}),this.lastReadValue=new E0(y,10*(Date.now()-u)),this.lastReadKey=c,m&&setTimeout(()=>this._onDidDownloadTar.fire({rootUri:t,sha:n}),0),y}catch(m){throw f=` \u2022 Failed; ${String(m)}`,m}finally{y&&(this.markCacheEntryUsed(`${s}`).catch(m=>se.log(`Error marking entry used: ${m}`)),this.cleanUpCache().catch(m=>se.log(`Error cleaning cache: ${m}`))),l.stop(f?{suffix:f}:void 0)}}async getTarCacheKey(t,n){return n===void 0&&({HEAD:{sha:n}}=await this.providerService.getMetadata(t)),this.getTarStorageUri(t,n).toString()}getTarStorageUri(t,n){return d.Uri.joinPath(this.root,"tars",B(this.providerService.getCanonicalUri(t),{excludeScheme:!0}),n)}async readDir(t){try{return(await d.workspace.fs.readDirectory(t)).map(n=>d.Uri.joinPath(t,n[0]))}catch{return[]}}temporarilyDisableIndexing(){this.indexingDisabled=!0}async isIndexingEnabledForRepo(t){if(this.indexingDisabled)return!1;const n=await this.getIndexingEnabledRepos();if(n.has("*"))return!0;const{name:r}=this.providerService.getVirtualUriMetadata(t);if(!!r){if(n.has(r))return!0;if(n.has(`-${r}`))return!1}}async configureIndexingAllowedRepos(){const t=[...(await this.getIndexingEnabledRepos()).values()],n=await d.window.showQuickPick(t.map(r=>({picked:!0,label:r.startsWith("-")?`${ii("disallowed","Disallowed:")} ${r.slice(1)}`:`${ii("disallowed","Allowed:")} ${r}`})),{canPickMany:!0,title:ii("select repos where indexing is allowed","Repository index allowance overrides")});n&&await this.writeIndexEnablementData(n.map(r=>r.label))}async getIndexingEnabledRepos(){let t;try{t=JSON.parse(ru.decode(await d.workspace.fs.readFile(this.indexingAllowanceFile)))}catch(n){n instanceof d.FileSystemError&&n.code!==d.FileSystemError.FileNotFound().code&&se.error(n,"Error reading index allowance data."),t=[]}return new Set(t)}async listTars(){const t=await this.readDir(d.Uri.joinPath(this.root,"tars")).catch(()=>[]),n=(await Promise.all(t.map(a=>this.readDir(a)))).flat(),r=(await Promise.all(n.map(a=>this.readDir(a)))).flat(),i=(await Promise.all(r.map(a=>this.readDir(a)))).flat();return Promise.all(i.map(async a=>({name:a.path.replace(/^.*\/tars\//,""),path:a,size:(await d.workspace.fs.stat(a)).size})))}async markIndexingEnablementForRepos(t){let n;try{n=JSON.parse(ru.decode(await d.workspace.fs.readFile(this.indexingAllowanceFile)))}catch(a){a instanceof d.FileSystemError&&a.code!==d.FileSystemError.FileNotFound().code&&se.error(a,"Error reading index allowance data."),n=[]}const r=t?this.providerService.repositories.map(a=>a.name):[],i=t?[]:this.providerService.repositories.map(a=>a.name);n=[...n,...r].filter(a=>a.startsWith("-")?!r.includes(a.slice(1)):!i.includes(a));for(const a of i)n.push(`-${a}`);this.indexingDisabled=!1,await this.writeIndexEnablementData(n)}async writeIndexEnablementData(t){await d.workspace.fs.writeFile(this.indexingAllowanceFile,Uf.encode(JSON.stringify(t))),await this.updateContext(),setTimeout(()=>this._onDidChangeIndexingEnablement.fire(),0)}async markCacheEntryUsed(t){let n;try{n=JSON.parse(ru.decode(await d.workspace.fs.readFile(this.usageFile)))}catch(r){r instanceof d.FileSystemError&&r.code!==d.FileSystemError.FileNotFound().code&&se.error(r,"Error reading usage data."),n={}}n[t]=Number(Date.now()),await d.workspace.fs.writeFile(this.usageFile,Uf.encode(JSON.stringify(n)))}async cleanUpCache(){var t,n;se.log("Cleaning up search cache...");const r=await this.listTars();let i;try{i=JSON.parse(ru.decode(await d.workspace.fs.readFile(this.usageFile)))}catch(C){C instanceof d.FileSystemError&&C.code!==d.FileSystemError.FileNotFound().code&&se.error(C,"Error reading usage data. All existing indexes will be discarded."),i={}}const a=[];r.forEach(C=>{var j;const Q=/^([^/]*\/[^/]*)\//.exec(C.name);if(!Q)throw Error("Unexpected repo entry");const z=Q[1],G=(j=i[C.name])!=null?j:0;a.push({...C,lastUsed:G,repo:z})}),a.sort((C,j)=>j.lastUsed-C.lastUsed);let s=0;const l=[],c=new Map,u=(t=Rt.get("indexing.cacheSizeLimit"))!=null?t:Rt.get("search.download.sizeLimit"),f=(n=Rt.get("indexing.cacheRepoLimit"))!=null?n:Rt.get("search.download.repoLimit"),y=(u!=null?u:100)*1024*1024,m=f!=null?f:4;a.forEach(C=>{var j,Q;(C.lastUsed===0||s>y||((j=c.get(C.repo))!=null?j:0)>m)&&l.push(C),s+=C.size,c.set(C.repo,((Q=c.get(C.repo))!=null?Q:0)+1)}),await Promise.all(l.map(async C=>{try{await d.workspace.fs.delete(C.path,{recursive:!0}),delete i[C.name],se.log(`Deleted cache entry for ${C.name}`)}catch(j){se.log(`Deleting cache entry for ${C.name} failed; ${String(j)}`)}})),await d.workspace.fs.writeFile(this.usageFile,Uf.encode(JSON.stringify(i))),await this.updateContext()}}o(S0,"TarPit");const Ex=S.loadMessageBundle();async function Sx(e,t,n,r,i,a,s){return $f("provideTextSearchResults",async()=>{const l=Cy(r.pattern,Boolean(r.isRegExp),{matchCase:r.isCaseSensitive,wholeWord:r.isWordMatch,multiline:r.isMultiline,global:!0});let c;try{c=await $f("fetch tarball",()=>n.getTar(i.folder,!0,void 0))}catch(z){if(z instanceof d.CancellationError)throw z;return{limitHit:!1,message:{type:d.TextSearchCompleteMessageType.Warning,trusted:!0,text:Ex("indexNotAvailable","Repository index not available. [Retry with indexing disabled]({0}).","command:remoteHub.disableIndexingForSession")}}}if(s.isCancellationRequested)return{limitHit:!1};const{maxResults:u,maxFileSize:f,includes:y,excludes:m}=i,C=await Cx(i.folder,e,c,t);if(s.isCancellationRequested)return{limitHit:!0};let j=u;const Q=Ty(C,y,m,f);return $f("searchFiles",async()=>{var z,G;let re=0;for(const fe of C){if(!Q.has(fe.path))continue;const le=Iy(fe.contents,fe.path,l,{beforeContext:(z=i.beforeContext)!=null?z:0,afterContext:(G=i.afterContext)!=null?G:0,previewOptions:i.previewOptions,remainingResultQuota:j});for(const be of le)a.report({...be,uri:d.Uri.joinPath(i.folder,be.uri.path)});if(j!==void 0&&(j-=le.length,j<=0))return{limitHit:!0};if(re++,re%1e4==0&&(await new Promise(be=>setTimeout(be,0)),s.isCancellationRequested))return{limitHit:!1}}return{limitHit:!1}})})}o(Sx,"provideTextSearchResults");async function Cx(e,t,n,r){const i=n.entries,a=t.getVirtualRootUri(e),s=await r.getChanges(a,{predicate:y=>y.fileType===d.FileType.File});if(s.length===0)return i.map(y=>({contents:y.dataAsBytes,path:y.header.fullFileName,size:y.dataAsBytes.byteLength}));const l=await Promise.all(Bl(s,y=>{if(y.type===U.Created)return r.getContent(y.uri).then(m=>({path:t.getRelativeFilePath(a,y.uri),size:m.length,contents:m}))})),c=await Promise.all(Bl(s,y=>{if(y.type===U.Changed)return r.getContent(y.uri).then(m=>({path:t.getRelativeFilePath(a,y.uri),size:m.length,contents:m}))})),u=new Set(Ey(Qg(c,y=>y.path),Bl(s,y=>{if(y.type===U.Deleted)return t.getRelativeFilePath(a,y.uri)})));return[...Bl(i,y=>{if(!u.has(y.header.fullFileName))return{contents:y.dataAsBytes,path:y.header.fullFileName,size:y.dataAsBytes.byteLength}}),...l,...c]}o(Cx,"listAllFiles");function Gb(e,t){const n=Date.now(),r=t();return Logger.log(`${e} time: ${Date.now()-n}`),r}o(Gb,"timeSync");async function $f(e,t){const n=Date.now(),r=await t();return se.log(`${e} time: ${Date.now()-n}`),r}o($f,"time");var Tx=Object.defineProperty,Ix=Object.getOwnPropertyDescriptor,Hf=o((e,t,n,r)=>{for(var i=r>1?void 0:r?Ix(t,n):t,a=e.length-1,s;a>=0;a--)(s=e[a])&&(i=(r?s(t,n,i):s(i))||i);return r&&i&&Tx(t,n,i),i},"fs_decorateClass");const zf=S.loadMessageBundle(),Ax=d.FileSystemError.FileNotFound().code,Rx=/(\/|\\)/g,C0=".vscode/.github-pull-request.rec";class Is{constructor(t,n,r,i,a){this.providerService=t,this.github=n,this.changeStore=r,this.tarPit=i,this.telemetryService=a,this._onDidChangeFile=new d.EventEmitter,this.fileSearchCache=new Map,this.pendingUriRequests=new Map,this.pendingUriRequestsEventDelay=10,this.implicitlyWatchedUris=new Map,this.watchedUris=new Map,this.disposable=d.Disposable.from(d.workspace.registerFileSystemProvider(this.scheme,this,{isCaseSensitive:!0,isReadonly:!0}),d.workspace.registerFileSearchProvider(this.scheme,this),d.workspace.registerTextSearchProvider(this.scheme,this),t.onDidChangeRepository(s=>{s.reason==="HEAD"&&this.onRefreshOrRepositoryChanged([s.repository.uri])}),t.onDidRefresh(s=>this.onRefreshOrRepositoryChanged(s)))}get onDidChangeFile(){return this._onDidChangeFile.event}get scheme(){return this.github.scheme}dispose(){var t;(t=this.disposable)==null||t.dispose()}onRefreshOrRepositoryChanged(t){if(t=t.filter(n=>L.getProviderId(n)===this.scheme).map(n=>L.getProviderUri(n)),t.length!==0){se.log(`GitHubFS.onRefreshOrRepositoryChanged(${t.map(n=>n.toString()).join(", ")})`),this.fileSearchCache.clear();for(const[n,r]of[...this.pendingUriRequests])t.some(i=>D(r.uri,i))&&(this.pendingUriRequests.delete(n),r.outdated=!0);this.updateOpenOrWatchedUris(t)}}updateOpenOrWatchedUris(t){const n=L.getOpenUris(this.scheme,t);for(const[i,a]of[...this.watchedUris,...this.implicitlyWatchedUris])t.some(s=>D(a,s))&&(this.implicitlyWatchedUris.delete(i),n.set(i,a));se.debug(`GitHubFS.updateOpenOrWatchedUris(${t.map(i=>i.toString()).join(", ")}): uris=${n.size}`);for(const i of t)n.set(R(i),i);const r=[...n.values()].map(i=>({type:d.FileChangeType.Changed,uri:i}));setTimeout(()=>{se.debug(`GitHubFS.updateOpenOrWatchedUris: Firing events=${r.map(i=>i.uri.toString()).join(", ")}`),this._onDidChangeFile.fire(r)},0)}watch(t,n){const r=R(t);return this.watchedUris.set(r,t),{dispose:()=>{this.watchedUris.delete(r)}}}async stat(t){var n,r;const i=R(t);this.implicitlyWatchedUris.set(i,t);const{hasRepoWithOwner:a}=T0(t);if(this.providerService.isInWorkspace(this.providerService.getVirtualRootUri(t))||a){const s=this.providerService.getRelativeFilePath(t),l={uri:t,outdated:!1};try{this.pendingUriRequests.set(`stat:${i}`,l);const c=await this.github.getFileTree(t),u=await c.get(s);if(u==null?void 0:u.stat)return u==null?void 0:u.stat;if(this.implicitlyWatchedUris.delete(i),t.query==="~")return{type:d.FileType.File,size:0,ctime:0,mtime:(n=c.timestamp)!=null?n:Date.now(),permissions:d.FilePermission.Readonly};if(s===C0){const{ref:f}=this.providerService.getVirtualUriMetadata(t);if((f==null?void 0:f.type)===oe.PullRequest)return{type:d.FileType.File,size:0,ctime:0,mtime:(r=c.timestamp)!=null?r:Date.now(),permissions:d.FilePermission.Readonly}}throw d.FileSystemError.FileNotFound(t)}finally{this.pendingUriRequests.delete(`stat:${i}`),(l==null?void 0:l.outdated)&&setTimeout(()=>{se.log(`GitHubFS.stat(${t.toString()}): Repository changed; firing change event...`),this._onDidChangeFile.fire([{type:d.FileChangeType.Changed,uri:t}])},this.pendingUriRequestsEventDelay)}}return{type:d.FileType.Directory,size:0,ctime:0,mtime:Date.now(),permissions:d.FilePermission.Readonly}}async readDirectory(t,n){var r;this.implicitlyWatchedUris.set(R(t),t);const{pathQuery:i,hasRepoWithOwner:a}=T0(t);if(this.providerService.isInWorkspace(this.providerService.getVirtualRootUri(t))||a){let s;const l=this.providerService.getRelativeFilePath(t);let c;try{return s=await this.github.getFileTree(t),(await s.getChildren(l,n)).map(([f,{stat:{type:y}}])=>[f,y])}catch(u){throw c=u,l===""&&u instanceof Error&&this.telemetryService.sendErrorEvent("fs.readRootDirectory.error",{errorName:u.name,errorMessage:u.message,errorStack:(r=u.stack)!=null?r:""},void 0),u}finally{l===""&&(N.stop("Time to root directory"),this.telemetryService.reportWorkbenchLoadResult({result:c===void 0?"Success":"Failure",errorMessage:(s==null?void 0:s.hasEntireTree)?"":"Unable to load entire tree",errorDetail:c}))}}else{const{results:s}=await this.github.searchRepositoriesQuery("",{user:i,owner:i});return(i.length>0?s.filter(c=>c.owner===i).map(c=>c.repo):[...new Set(s.map(c=>c.owner))]).map(c=>[c,d.FileType.Directory])}}createDirectory(t){throw d.FileSystemError.NoPermissions()}async readFile(t){const n=R(t);this.implicitlyWatchedUris.set(n,t);const r={uri:t,outdated:!1};try{return this.pendingUriRequests.set(n,r),await this.github.getFileContent(t)}catch(i){if(this.implicitlyWatchedUris.delete(n),i instanceof d.FileSystemError&&i.code===Ax){if(t.query==="~")return new Uint8Array(0);if(this.providerService.getRelativeFilePath(t)===C0){const{ref:s}=this.providerService.getVirtualUriMetadata(t);if((s==null?void 0:s.type)===oe.PullRequest)return new Uint8Array(0)}}throw i}finally{this.pendingUriRequests.delete(n),(r==null?void 0:r.outdated)&&setTimeout(()=>{se.log(`GitHubFS.readFile(${t.toString()}): Repository changed; firing change event...`),this._onDidChangeFile.fire([{type:d.FileChangeType.Changed,uri:t}])},this.pendingUriRequestsEventDelay)}}writeFile(t,n,r){throw d.FileSystemError.NoPermissions()}delete(t,n){throw d.FileSystemError.NoPermissions()}rename(t,n,r){throw d.FileSystemError.NoPermissions()}copy(t,n,r){throw d.FileSystemError.NoPermissions()}async provideFileSearchResults(t,{folder:n,maxResults:r,includes:i,excludes:a},s){const l=`${R(n)}|${JSON.stringify({includes:i,excludes:a})}`;let c=this.fileSearchCache.get(l);if(c===void 0){const f=this.providerService.getRelativeFilePath(n);let y;await this.github.hasFileTree(n)&&(y=await this.github.getFileTree(n));let m;if(y===void 0||y.loading||!y.hasEntireTree?m=await this.github.getFileList(n,f):m=(await y.getChildren(f,{filter:d.FileType.File,recursive:!0})).map(([C])=>C),m.length===0||s.isCancellationRequested)return[];((i==null?void 0:i.length)||(a==null?void 0:a.length))&&(m=[...cf(m,i,a)]),c=m.map(C=>lf.prepareSlow(C)),this.fileSearchCache.set(l,c)}let u;return t.pattern===""?u=c.map(f=>d.Uri.joinPath(n,f.target)):(u=lf.go(t.pattern.replace(Rx,"/"),c,{allowTypo:!0,limit:r}).map(f=>d.Uri.joinPath(n,f.target)),lf.cleanup()),r!==void 0&&r!==0&&r<u.length&&(u=u.slice(0,r)),u}async provideTextSearchResults(t,n,r,i){const a=[];if(await this.tarPit.isIndexingEnabledForRepo(n.folder)!==!1)try{return await Sx(this.providerService,this.changeStore,this.tarPit,t,n,r,i)}catch(u){u instanceof d.CancellationError||a.push({text:zf("index error","Error searching index, falling back to GitHub search. Try [deleting this repo's data]({0}) or [deleting all local data]({1}) to rebuild the index.","command:remoteHub.deleteLocalRepositoryData","command:remoteHub.deleteAllLocalRepositoryData"),type:d.TextSearchCompleteMessageType.Warning})}t.isCaseSensitive||t.isRegExp||t.isWordMatch?a.push({text:zf("flags not supported","Search flags are not supported by GitHub search. [Download full index]({0}) for full search features and exact text searches.","command:remoteHub.enableIndexing"),type:d.TextSearchCompleteMessageType.Warning,trusted:!0}):a.push({text:zf("enable index","Partial results shown. [Download full index]({0}) for exact text searches.","command:remoteHub.enableIndexing"),type:d.TextSearchCompleteMessageType.Information,trusted:!0});const s=await this.github.searchCodeQuery(t.pattern,n.folder,{maxResults:n.maxResults,context:{before:n.beforeContext,after:n.afterContext}});if(s.warnings&&s.warnings.forEach(u=>{a.push({text:u,trusted:!0,type:d.TextSearchCompleteMessageType.Warning})}),s===void 0)return{limitHit:!0,message:a};const l=new Set(cf(s.matches.map(u=>u.path),n.includes,n.excludes));let c;for(const u of s.matches)l.has(u.path)&&(c=d.Uri.joinPath(n.folder,u.path),r.report({uri:c,ranges:u.ranges,preview:{text:u.preview,matches:u.matches}}));return{limitHit:!1,message:a}}}o(Is,"GitHubFS"),Hf([ff()],Is.prototype,"stat",1),Hf([ff()],Is.prototype,"readDirectory",1),Hf([ff()],Is.prototype,"readFile",1);function T0(e){let t=e.path;return t.startsWith("/")&&(t=t.slice(1)),t.endsWith("/")&&(t=t.slice(0,t.length-1)),{pathQuery:t,hasRepoWithOwner:t.includes("/")}}o(T0,"getRepoWithOwnerFromUri");var Dx=__webpack_require__(6470);const Fx=globalThis.fetch;async function I0(e,t,n){const r=new AbortController;n.onCancellationRequested(()=>r.abort());try{return await globalThis.fetch(e,{...t,signal:r.signal})}catch(i){throw n.isCancellationRequested?new d.CancellationError:i}}o(I0,"fetchWithCancellation");async function A0(e,t,n,r,i){if(n===0)throw new d.CancellationError;const a=new d.CancellationTokenSource;r.onCancellationRequested(()=>a.cancel());try{const s=await I0(e,t,a.token);if(s.body){const l=[];let c=0;const u=s.body.getReader();let f=3;for(;;){let{done:y,value:m}=await u.read();if(y){const j=l.reduce((G,re)=>G+re.length,0),Q=new Uint8Array(j);let z=0;for(const G of l)Q.set(G,z),z+=G.length;return Q}m&&(l.push(m),c+=m.length);const C=Math.floor(c/(1024*1024));if(f<C){f=C;const j={message:C+" MB"};i.report(j)}if(n!==void 0&&c>n)throw u.cancel(),a.cancel(),new Error("LIMIT_HIT")}}}catch(s){throw r.isCancellationRequested?new d.CancellationError:s}throw new d.CancellationError}o(A0,"fetchUInt8ArrayWithMaxSizeAndCancellation");var As=__webpack_require__(4155);function iu(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof As=="object"&&"version"in As?`Node.js/${As.version.substr(1)} (${As.platform}; ${As.arch})`:"<environment undetectable>"}o(iu,"getUserAgent");var kx=__webpack_require__(5186);/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function R0(e){return Object.prototype.toString.call(e)==="[object Object]"}o(R0,"isObject");function D0(e){var t,n;return R0(e)===!1?!1:(t=e.constructor,t===void 0?!0:(n=t.prototype,!(R0(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}o(D0,"isPlainObject");function Px(e){return e?Object.keys(e).reduce((t,n)=>(t[n.toLowerCase()]=e[n],t),{}):{}}o(Px,"lowercaseKeys");function F0(e,t){const n=Object.assign({},e);return Object.keys(t).forEach(r=>{D0(t[r])?r in e?n[r]=F0(e[r],t[r]):Object.assign(n,{[r]:t[r]}):Object.assign(n,{[r]:t[r]})}),n}o(F0,"mergeDeep");function k0(e){for(const t in e)e[t]===void 0&&delete e[t];return e}o(k0,"removeUndefinedProperties");function Wf(e,t,n){if(typeof t=="string"){let[i,a]=t.split(" ");n=Object.assign(a?{method:i,url:a}:{url:i},n)}else n=Object.assign({},t);n.headers=Px(n.headers),k0(n),k0(n.headers);const r=F0(e||{},n);return e&&e.mediaType.previews.length&&(r.mediaType.previews=e.mediaType.previews.filter(i=>!r.mediaType.previews.includes(i)).concat(r.mediaType.previews)),r.mediaType.previews=r.mediaType.previews.map(i=>i.replace(/-preview/,"")),r}o(Wf,"dist_web_merge");function Ox(e,t){const n=/\?/.test(e)?"&":"?",r=Object.keys(t);return r.length===0?e:e+n+r.map(i=>i==="q"?"q="+t.q.split("+").map(encodeURIComponent).join("+"):`${i}=${encodeURIComponent(t[i])}`).join("&")}o(Ox,"addQueryParameters");const Mx=/\{[^}]+\}/g;function Lx(e){return e.replace(/^\W+|\W+$/g,"").split(/,/)}o(Lx,"removeNonChars");function Nx(e){const t=e.match(Mx);return t?t.map(Lx).reduce((n,r)=>n.concat(r),[]):[]}o(Nx,"extractUrlVariableNames");function P0(e,t){return Object.keys(e).filter(n=>!t.includes(n)).reduce((n,r)=>(n[r]=e[r],n),{})}o(P0,"omit");function O0(e){return e.split(/(%[0-9A-Fa-f]{2})/g).map(function(t){return/%[0-9A-Fa-f]/.test(t)||(t=encodeURI(t).replace(/%5B/g,"[").replace(/%5D/g,"]")),t}).join("")}o(O0,"encodeReserved");function Ao(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}o(Ao,"encodeUnreserved");function Rs(e,t,n){return t=e==="+"||e==="#"?O0(t):Ao(t),n?Ao(n)+"="+t:t}o(Rs,"encodeValue");function Ro(e){return e!=null}o(Ro,"isDefined");function jf(e){return e===";"||e==="&"||e==="?"}o(jf,"isKeyOperator");function Bx(e,t,n,r){var i=e[n],a=[];if(Ro(i)&&i!=="")if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")i=i.toString(),r&&r!=="*"&&(i=i.substring(0,parseInt(r,10))),a.push(Rs(t,i,jf(t)?n:""));else if(r==="*")Array.isArray(i)?i.filter(Ro).forEach(function(s){a.push(Rs(t,s,jf(t)?n:""))}):Object.keys(i).forEach(function(s){Ro(i[s])&&a.push(Rs(t,i[s],s))});else{const s=[];Array.isArray(i)?i.filter(Ro).forEach(function(l){s.push(Rs(t,l))}):Object.keys(i).forEach(function(l){Ro(i[l])&&(s.push(Ao(l)),s.push(Rs(t,i[l].toString())))}),jf(t)?a.push(Ao(n)+"="+s.join(",")):s.length!==0&&a.push(s.join(","))}else t===";"?Ro(i)&&a.push(Ao(n)):i===""&&(t==="&"||t==="?")?a.push(Ao(n)+"="):i===""&&a.push("");return a}o(Bx,"getValues");function Ux(e){return{expand:$x.bind(null,e)}}o(Ux,"parseUrl");function $x(e,t){var n=["+","#",".","/",";","?","&"];return e.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(r,i,a){if(i){let l="";const c=[];if(n.indexOf(i.charAt(0))!==-1&&(l=i.charAt(0),i=i.substr(1)),i.split(/,/g).forEach(function(u){var f=/([^:\*]*)(?::(\d+)|(\*))?/.exec(u);c.push(Bx(t,l,f[1],f[2]||f[3]))}),l&&l!=="+"){var s=",";return l==="?"?s="&":l!=="#"&&(s=l),(c.length!==0?l:"")+c.join(s)}else return c.join(",")}else return O0(a)})}o($x,"expand");function M0(e){let t=e.method.toUpperCase(),n=(e.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),r=Object.assign({},e.headers),i,a=P0(e,["method","baseUrl","url","headers","request","mediaType"]);const s=Nx(n);n=Ux(n).expand(a),/^http/.test(n)||(n=e.baseUrl+n);const l=Object.keys(e).filter(f=>s.includes(f)).concat("baseUrl"),c=P0(a,l);if(!/application\/octet-stream/i.test(r.accept)&&(e.mediaType.format&&(r.accept=r.accept.split(/,/).map(f=>f.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${e.mediaType.format}`)).join(",")),e.mediaType.previews.length)){const f=r.accept.match(/[\w-]+(?=-preview)/g)||[];r.accept=f.concat(e.mediaType.previews).map(y=>{const m=e.mediaType.format?`.${e.mediaType.format}`:"+json";return`application/vnd.github.${y}-preview${m}`}).join(",")}return["GET","HEAD"].includes(t)?n=Ox(n,c):"data"in c?i=c.data:Object.keys(c).length?i=c:r["content-length"]=0,!r["content-type"]&&typeof i!="undefined"&&(r["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(t)&&typeof i=="undefined"&&(i=""),Object.assign({method:t,url:n,headers:r},typeof i!="undefined"?{body:i}:null,e.request?{request:e.request}:null)}o(M0,"parse");function Hx(e,t,n){return M0(Wf(e,t,n))}o(Hx,"endpointWithDefaults");function L0(e,t){const n=Wf(e,t),r=Hx.bind(null,n);return Object.assign(r,{DEFAULTS:n,defaults:L0.bind(null,n),merge:Wf.bind(null,n),parse:M0})}o(L0,"withDefaults");const zx=`octokit-endpoint.js/6.0.12 ${iu()}`,Wx=L0(null,{method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":zx},mediaType:{format:"",previews:[]}});var jx=__webpack_require__(3300),Kx=__webpack_require__.n(jx);class Kf extends Error{constructor(t){super(t);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="Deprecation"}}o(Kf,"Deprecation");var qx=__webpack_require__(447),N0=__webpack_require__.n(qx);const Vx=N0()(e=>console.warn(e)),Gx=N0()(e=>console.warn(e));class Qi extends Error{constructor(t,n,r){super(t);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=n;let i;"headers"in r&&typeof r.headers!="undefined"&&(i=r.headers),"response"in r&&(this.response=r.response,i=r.response.headers);const a=Object.assign({},r.request);r.request.headers.authorization&&(a.headers=Object.assign({},r.request.headers,{authorization:r.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),a.url=a.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=a,Object.defineProperty(this,"code",{get(){return Vx(new Kf("[@octokit/request-error] `error.code` is deprecated, use `error.status`.")),n}}),Object.defineProperty(this,"headers",{get(){return Gx(new Kf("[@octokit/request-error] `error.headers` is deprecated, use `error.response.headers`.")),i||{}}})}}o(Qi,"RequestError");const Zx="5.6.3";function Qx(e){return e.arrayBuffer()}o(Qx,"getBufferResponse");function B0(e){const t=e.request&&e.request.log?e.request.log:console;(D0(e.body)||Array.isArray(e.body))&&(e.body=JSON.stringify(e.body));let n={},r,i;return(e.request&&e.request.fetch||Kx())(e.url,Object.assign({method:e.method,body:e.body,headers:e.headers,redirect:e.redirect},e.request)).then(async s=>{i=s.url,r=s.status;for(const l of s.headers)n[l[0]]=l[1];if("deprecation"in n){const l=n.link&&n.link.match(/<([^>]+)>; rel="deprecation"/),c=l&&l.pop();t.warn(`[@octokit/request] "${e.method} ${e.url}" is deprecated. It is scheduled to be removed on ${n.sunset}${c?`. See ${c}`:""}`)}if(!(r===204||r===205)){if(e.method==="HEAD"){if(r<400)return;throw new Qi(s.statusText,r,{response:{url:i,status:r,headers:n,data:void 0},request:e})}if(r===304)throw new Qi("Not modified",r,{response:{url:i,status:r,headers:n,data:await qf(s)},request:e});if(r>=400){const l=await qf(s);throw new Qi(Xx(l),r,{response:{url:i,status:r,headers:n,data:l},request:e})}return qf(s)}}).then(s=>({status:r,url:i,headers:n,data:s})).catch(s=>{throw s instanceof Qi?s:new Qi(s.message,500,{request:e})})}o(B0,"fetchWrapper");async function qf(e){const t=e.headers.get("content-type");return/application\/json/.test(t)?e.json():!t||/^text\/|charset=utf-8$/.test(t)?e.text():Qx(e)}o(qf,"getResponseData");function Xx(e){return typeof e=="string"?e:"message"in e?Array.isArray(e.errors)?`${e.message}: ${e.errors.map(JSON.stringify).join(", ")}`:e.message:`Unknown error: ${JSON.stringify(e)}`}o(Xx,"toErrorMessage");function Vf(e,t){const n=e.defaults(t);return Object.assign(o(function(i,a){const s=n.merge(i,a);if(!s.request||!s.request.hook)return B0(n.parse(s));const l=o((c,u)=>B0(n.parse(n.merge(c,u))),"request");return Object.assign(l,{endpoint:n,defaults:Vf.bind(null,n)}),s.request.hook(l,s)},"newApi"),{endpoint:n,defaults:Vf.bind(null,n)})}o(Vf,"dist_web_withDefaults");const au=Vf(Wx,{headers:{"user-agent":`octokit-request.js/${Zx} ${iu()}`}}),Jx="4.8.0";function Yx(e){return`Request failed due to following response errors:
`+e.errors.map(t=>` - ${t.message}`).join(`
`)}o(Yx,"_buildMessageForResponseErrors");class ya extends Error{constructor(t,n,r){super(Yx(r));this.request=t,this.headers=n,this.response=r,this.name="GraphqlResponseError",this.errors=r.errors,this.data=r.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}o(ya,"GraphqlResponseError");const eb=["method","baseUrl","url","headers","request","query","mediaType"],tb=["query","method","url"],U0=/\/api\/v3\/?$/;function nb(e,t,n){if(n){if(typeof t=="string"&&"query"in n)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const s in n)if(!!tb.includes(s))return Promise.reject(new Error(`[@octokit/graphql] "${s}" cannot be used as variable name`))}const r=typeof t=="string"?Object.assign({query:t},n):t,i=Object.keys(r).reduce((s,l)=>eb.includes(l)?(s[l]=r[l],s):(s.variables||(s.variables={}),s.variables[l]=r[l],s),{}),a=r.baseUrl||e.endpoint.DEFAULTS.baseUrl;return U0.test(a)&&(i.url=a.replace(U0,"/api/graphql")),e(i).then(s=>{if(s.data.errors){const l={};for(const c of Object.keys(s.headers))l[c]=s.headers[c];throw new ya(i,l,s.data)}return s.data.data})}o(nb,"graphql");function Gf(e,t){const n=e.defaults(t);return Object.assign(o((i,a)=>nb(n,i,a),"newApi"),{defaults:Gf.bind(null,n),endpoint:au.endpoint})}o(Gf,"graphql_dist_web_withDefaults");const Xb=Gf(au,{headers:{"user-agent":`octokit-graphql.js/${Jx} ${iu()}`},method:"POST",url:"/graphql"});function rb(e){return Gf(e,{method:"POST",url:"/graphql"})}o(rb,"withCustomRequest");const ib=/^v1\./,ab=/^ghs_/,ob=/^ghu_/;async function sb(e){const t=e.split(/\./).length===3,n=ib.test(e)||ab.test(e),r=ob.test(e);return{type:"token",token:e,tokenType:t?"app":n?"installation":r?"user-to-server":"oauth"}}o(sb,"auth");function lb(e){return e.split(/\./).length===3?`bearer ${e}`:`token ${e}`}o(lb,"withAuthorizationPrefix");async function ub(e,t,n,r){const i=t.endpoint.merge(n,r);return i.headers.authorization=lb(e),t(i)}o(ub,"hook");const cb=o(function(t){if(!t)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof t!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return t=t.replace(/^(token|bearer) +/i,""),Object.assign(sb.bind(null,t),{hook:ub.bind(null,t)})},"createTokenAuth"),$0="3.5.1";class Ds{constructor(t={}){const n=new kx.Collection,r={baseUrl:au.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},t.request,{hook:n.bind(null,"request")}),mediaType:{previews:[],format:""}};if(r.headers["user-agent"]=[t.userAgent,`octokit-core.js/${$0} ${iu()}`].filter(Boolean).join(" "),t.baseUrl&&(r.baseUrl=t.baseUrl),t.previews&&(r.mediaType.previews=t.previews),t.timeZone&&(r.headers["time-zone"]=t.timeZone),this.request=au.defaults(r),this.graphql=rb(this.request).defaults(r),this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},t.log),this.hook=n,t.authStrategy){const{authStrategy:a,...s}=t,l=a(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:s},t.auth));n.wrap("request",l.hook),this.auth=l}else if(!t.auth)this.auth=async()=>({type:"unauthenticated"});else{const a=cb(t.auth);n.wrap("request",a.hook),this.auth=a}this.constructor.plugins.forEach(a=>{Object.assign(this,a(this,t))})}static defaults(t){return o(class extends this{constructor(...r){const i=r[0]||{};if(typeof t=="function"){super(t(i));return}super(Object.assign({},t,i,i.userAgent&&t.userAgent?{userAgent:`${i.userAgent} ${t.userAgent}`}:null))}},"OctokitWithDefaults")}static plugin(...t){var n;const r=this.plugins;return n=o(class extends this{},"_a"),n.plugins=r.concat(t.filter(a=>!r.includes(a))),n}}o(Ds,"Octokit"),Ds.VERSION=$0,Ds.plugins=[];var H0;(function(e){e[e.Force=0]="Force",e[e.ForceWithLease=1]="ForceWithLease"})(H0||(H0={}));var Xi;(function(e){e[e.Head=0]="Head",e[e.RemoteHead=1]="RemoteHead",e[e.Tag=2]="Tag"})(Xi||(Xi={}));var Fs;(function(e){e[e.INDEX_MODIFIED=0]="INDEX_MODIFIED",e[e.INDEX_ADDED=1]="INDEX_ADDED",e[e.INDEX_DELETED=2]="INDEX_DELETED",e[e.INDEX_RENAMED=3]="INDEX_RENAMED",e[e.INDEX_COPIED=4]="INDEX_COPIED",e[e.MODIFIED=5]="MODIFIED",e[e.DELETED=6]="DELETED",e[e.UNTRACKED=7]="UNTRACKED",e[e.IGNORED=8]="IGNORED",e[e.INTENT_TO_ADD=9]="INTENT_TO_ADD",e[e.ADDED_BY_US=10]="ADDED_BY_US",e[e.ADDED_BY_THEM=11]="ADDED_BY_THEM",e[e.DELETED_BY_US=12]="DELETED_BY_US",e[e.DELETED_BY_THEM=13]="DELETED_BY_THEM",e[e.BOTH_ADDED=14]="BOTH_ADDED",e[e.BOTH_DELETED=15]="BOTH_DELETED",e[e.BOTH_MODIFIED=16]="BOTH_MODIFIED"})(Fs||(Fs={}));var z0;(function(e){e.BadConfigFile="BadConfigFile",e.AuthenticationFailed="AuthenticationFailed",e.NoUserNameConfigured="NoUserNameConfigured",e.NoUserEmailConfigured="NoUserEmailConfigured",e.NoRemoteRepositorySpecified="NoRemoteRepositorySpecified",e.NotAGitRepository="NotAGitRepository",e.NotAtRepositoryRoot="NotAtRepositoryRoot",e.Conflict="Conflict",e.StashConflict="StashConflict",e.UnmergedChanges="UnmergedChanges",e.PushRejected="PushRejected",e.RemoteConnectionError="RemoteConnectionError",e.DirtyWorkTree="DirtyWorkTree",e.CantOpenResource="CantOpenResource",e.GitNotFound="GitNotFound",e.CantCreatePipe="CantCreatePipe",e.PermissionDenied="PermissionDenied",e.CantAccessRemote="CantAccessRemote",e.RepositoryNotFound="RepositoryNotFound",e.RepositoryIsLocked="RepositoryIsLocked",e.BranchNotFullyMerged="BranchNotFullyMerged",e.NoRemoteReference="NoRemoteReference",e.InvalidBranchName="InvalidBranchName",e.BranchAlreadyExists="BranchAlreadyExists",e.NoLocalChanges="NoLocalChanges",e.NoStashFound="NoStashFound",e.LocalChangesOverwritten="LocalChangesOverwritten",e.NoUpstreamBranch="NoUpstreamBranch",e.IsInSubmodule="IsInSubmodule",e.WrongCase="WrongCase",e.CantLockRef="CantLockRef",e.CantRebaseMultipleBranches="CantRebaseMultipleBranches",e.PatchDoesNotApply="PatchDoesNotApply",e.NoPathFound="NoPathFound",e.UnknownPath="UnknownPath"})(z0||(z0={}));class Zf{constructor(t,n){this.path=t,this.relativePath=n}}o(Zf,"TrieNode");class W0{constructor(){this.root=new Zf("","")}get(t){var n;t.startsWith("/")?t=t.slice(1,t.endsWith("/")?-1:void 0):t.endsWith("/")&&(t=t.slice(0,-1));let r=this.root;for(const i of t.split("/")){const a=(n=r.children)==null?void 0:n.get(i);if(a===void 0)return;r=a}return r.path===t?r.data:void 0}getChildren(t){var n;t.startsWith("/")?t=t.slice(1,t.endsWith("/")?-1:void 0):t.endsWith("/")&&(t=t.slice(0,-1));let r=this.root;if(t)for(const i of t.split("/")){const a=(n=r.children)==null?void 0:n.get(i);if(a===void 0)return[];r=a}return r.children===void 0?[]:[...r.children.values()].map(i=>[i.relativePath,i.data])}getDescendants(t){var n;t.startsWith("/")?t=t.slice(1,t.endsWith("/")?-1:void 0):t.endsWith("/")&&(t=t.slice(0,-1));let r=this.root;const i=[];if(t)for(const a of t.split("/")){const s=(n=r.children)==null?void 0:n.get(a);if(s===void 0)return i;r=s}if(r.children!==void 0){let a=o(function(s,l,c){for(const u of s.values()){const f=`${l?`${l}/`:""}${u.relativePath}`;u.data&&c.push([f,u.data]),u.children!==void 0&&a(u.children,f,c)}},"getDescendantsCore");a(r.children,"",i)}return i}has(t){var n;t.startsWith("/")?t=t.slice(1,t.endsWith("/")?-1:void 0):t.endsWith("/")&&(t=t.slice(0,-1));let r=this.root;for(const i of t.split("/")){const a=(n=r.children)==null?void 0:n.get(i);if(a===void 0)return!1;r=a}return r.path===t}set(t,n){var r;t.startsWith("/")?t=t.slice(1,t.endsWith("/")?-1:void 0):t.endsWith("/")&&(t=t.slice(0,-1));let i=this.root,a="";for(const s of t.split("/")){let l=(r=i.children)==null?void 0:r.get(s);a=`${a?`${a}/`:""}${s}`,l===void 0&&(i.children===void 0&&(i.children=new Map),l=new Zf(a,s),i.children.set(s,l)),i=l}i.data=n}}o(W0,"Trie");var fb=__webpack_require__(5431),Qf=__webpack_require__.n(fb);class Xf{constructor(t,n,r,i,a){if(this.rootUri=t,this.sha=n,this.timestamp=r,this.provider=i,this.trie=new W0,this._hasEntireTree=!1,this._isContentCached=!1,i===void 0)return;const s=[i];i.onDidTriggerContentCaching!==void 0&&i.tryCachingContent!==void 0&&s.push(i.onDidTriggerContentCaching(l=>{(!l||R(l.rootUri)===R(this.rootUri)&&l.sha===this.sha)&&!this.loading&&this.hasEntireTree&&!this.isContentCached&&i.tryCachingContent(this.trie.get.bind(this.trie)).then(c=>this._isContentCached=c,()=>this._isContentCached=!0)})),this._loading=this.load(a==null?void 0:a.path,a==null?void 0:a.recursive).then(l=>(this._hasEntireTree=(l==null?void 0:l.success)?l.recursive:!1,this._hasEntireTree&&setTimeout(()=>{var c;return void((c=i.tryCachingContent)==null?void 0:c.call(i,this.trie.get.bind(this.trie)).then(u=>this._isContentCached=u,()=>this._isContentCached=!0))},0),this._loading=void 0,this.preloading=void 0,this.treeSha=(l==null?void 0:l.success)?l.sha:void 0,this.treeSha)),(a==null?void 0:a.preload)&&(this.preloading=new Map([["",this.load("")],[".vscode",this.load(".vscode")]])),this.disposable=d.Disposable.from(...s)}get hasEntireTree(){return this._hasEntireTree}get isContentCached(){return this._isContentCached}get loading(){return this._loading!==void 0}get permissions(){var t;return(t=this.provider)==null?void 0:t.permissions}dispose(){var t;(t=this.disposable)==null||t.dispose()}async get(t){var n;if(t==="")return{mode:"040000",sha:this.treeSha,stat:{type:d.FileType.Directory,size:0,ctime:0,mtime:(n=this.timestamp)!=null?n:Date.now(),permissions:await this.permissions},getContent:void 0};let r=this.trie.get(t);return r!==void 0||(await this.ensureLoaded(t),r=this.trie.get(t)),r}async getChildren(t,n){await this.ensureLoaded(t,!0);const r=(n==null?void 0:n.recursive)?this.trie.getDescendants(t):this.trie.getChildren(t);return(n==null?void 0:n.filter)===void 0?r:r.filter(([,i])=>i.stat.type===n.filter)}async getTreeSha(){return await this.waitUntilLoaded(),this.treeSha}async waitUntilLoaded(){this._loading!==void 0&&await this._loading}async ensureLoaded(t,n=!1){if(this._loading!==void 0){let i;if(this.preloading!==void 0)if(n)i=this.preloading.get(t);else{const a=by(this.preloading,([s])=>t.startsWith(s)&&t.lastIndexOf("/")===(s?s.length:-1));i=a==null?void 0:a[1]}await(i!=null?i:this._loading)}if(this.hasEntireTree||t==="")return;let r=this.trie.get(t);if(r)return n&&(r==null?void 0:r.loadChildren)?r.loadChildren():void 0;if(await this.ensureLoaded(t.substr(0,t.lastIndexOf("/")),!0),r=this.trie.get(t),n&&(r==null?void 0:r.loadChildren))return r.loadChildren()}async load(t,n=!1){var r;if(((r=this.provider)==null?void 0:r.getTree)===void 0)return;const i=new N(`FileTree.load(${this.sha}:${t})`);let a;try{i.logStep("Tree query");const s=await this.provider.getTree(t,n);if(s.truncated){se.warn(`Loading file tree for path=${t} was truncated`),i.logStep("Fixing directories",{message:`: Tree=${s.sha};`,suffix:" \u2022 Fixing directories..."});for(const[c,u]of this.trie.getDescendants(""))u.stat.type===d.FileType.Directory&&(u.loadChildren=Qf()(()=>this.load(c).then(()=>u.loadChildren=void 0)));return a=` \u2022 Tree=${s.sha} \u2022 Truncated`,{sha:s.sha,recursive:!1,success:!0}}let l;this.permissions!==void 0&&(i.logStep("Permissions query",{message:`: Tree=${s.sha};`,suffix:" \u2022 Waiting for permissions..."}),l=await this.permissions),i.logStep("Filling trie",{suffix:" \u2022 Filling trie..."});for(let{path:c,item:u}of s.tree)if(c!==void 0){switch(c=t?`${t}/${c}`:c,u.stat.permissions=l,u.stat.type){case d.FileType.File:u.getContent=Qf()(()=>this.provider.getContent(u,c));break;case d.FileType.Directory:n||(u.loadChildren=Qf()(()=>this.load(c).then(()=>u.loadChildren=void 0)));break}this.trie.set(c,u)}return a=` \u2022 Tree=${s.sha}`,{sha:s.sha,recursive:n,success:!0}}catch(s){return a=`\u2022 Loading for path=${t} failed; ${String(s)}`,{error:s,success:!1}}finally{i.stop(a?{suffix:a}:void 0)}}}o(Xf,"FileTree");var db=__webpack_require__(7769);const hb="github-pr-owner-number";function gb(e){return`branch.${e}.${hb}`}o(gb,"getMetadataKeyForBranch");const pb=S.loadMessageBundle(),j0=new TextDecoder;class K0{constructor(t,n,r,i,a,s){this.providerService=t,this.rootUri=n,this.sourceControl=r,this.metadata=i,this.changeStore=a,this.github=s,this._onDidChangeSelection=new d.EventEmitter,this._onDidChangeState=new d.EventEmitter,this._objects=new Map,this.disposable=d.Disposable.from(this.sourceControl.onDidChangeSelection(()=>this._onDidChangeSelection.fire()),this.providerService.onDidRefresh(u=>{const f=R(this.rootUri);!u.some(y=>R(y)===f)||this.updateState(this.metadata)}),this.providerService.onDidChangeRepository(async({repository:u})=>{R(this.rootUri)===R(u.uri)&&this.updateState(await u.getMetadata())}),this.changeStore.onDidChange(()=>this.updateState(this.metadata)),this._onDidChangeSelection,this._onDidChangeState),this._inputBox={get value(){return r.inputBox.value},set value(u){r.inputBox.value=u}},this._ui={get selected(){return r.selected},onDidChange:this._onDidChangeSelection.event};const{repo:{owner:l,name:c}}=i;this.remote={name:"origin",fetchUrl:`https://github.com/${l}/${c}.git`,isReadOnly:i.accessLevel<X.Write},this.remotes=[this.remote],this._state={HEAD:this.getHEADFromMetadata(i),mergeChanges:[],indexChanges:[],workingTreeChanges:[],onDidChange:this._onDidChangeState.event,rebaseCommit:void 0,refs:[],remotes:this.remotes,submodules:[]},this.updateState(i)}dispose(){this.disposable.dispose()}get inputBox(){return this._inputBox}get state(){return this._state}get ui(){return this._ui}getHEADFromMetadata(t){switch(t.HEAD.type){case K.Branch:return{type:Xi.Head,commit:t.HEAD.sha,name:t.HEAD.branch.name,upstream:{name:t.HEAD.branch.name,remote:this.remote.name}};case K.RemoteBranch:{const n=t.HEAD.branch.remote.repo.owner,r=t.HEAD.branch.remote.accessLevel<X.Write,i=this.remotes.findIndex(a=>a.name===n);return this.remotes.splice(i===-1?this.remotes.length:i,i===-1?0:1,{name:n,fetchUrl:`https://github.com/${t.HEAD.branch.remote.repo.owner}/${t.HEAD.branch.remote.repo.name}.git`,pushUrl:r?void 0:`https://github.com/${t.HEAD.branch.remote.repo.owner}/${t.HEAD.branch.remote.repo.name}.git`,isReadOnly:r}),{type:Xi.RemoteHead,commit:t.HEAD.sha,name:t.HEAD.branch.name,upstream:{name:t.HEAD.branch.name,remote:t.HEAD.branch.remote.repo.owner}}}case K.Tag:return{type:Xi.Tag,name:t.HEAD.detached.name,commit:t.HEAD.sha};case K.Commit:return{type:Xi.Head,commit:t.HEAD.sha}}}async updateState(t){this.metadata=t;const n=await this.changeStore.getGroupedChanges(this.rootUri,{predicate:l=>l.fileType===d.FileType.File}),r=n.conflicts.map(l=>({uri:l.uri,status:Jf(l.type),originalUri:l.uri,renameUri:l.uri})),i=n.staged.map(l=>({uri:l.uri,status:Jf(l.type),originalUri:l.uri,renameUri:l.uri})),a=n.working.map(l=>({uri:l.uri,status:Jf(l.type),originalUri:l.uri,renameUri:l.uri})),s=Rt.get("staging.enabled");this._state={...this._state,HEAD:this.getHEADFromMetadata(t),mergeChanges:r,indexChanges:s?i:[],workingTreeChanges:s?a:[...i,...a]},this._onDidChangeState.fire()}getConfigs(){return Promise.resolve([])}getConfig(t){return this.metadata.HEAD.branch&&this.metadata.pullRequest&&t===gb(this.metadata.HEAD.branch.name)?Promise.resolve(`${this.metadata.repo.owner}#${this.metadata.repo.name}#${this.metadata.pullRequest.id}`):Promise.resolve("")}setConfig(t,n){return Promise.resolve("")}getGlobalConfig(t){throw new Error("Method not implemented.")}async getObjectDetails(t,n){const r=new N(`IGit.getObjectDetails(${t}, ${n})`);try{return await this.github.getObjectDetails(this.rootUri,t,this.pathToRelativePath(n))}finally{r.stop()}}async detectObjectType(t){var n;const r=new N(`IGit.detectObjectType(${t})`);try{const i=await this.github.getBlobContent(this.metadata.repo,t);if(!vy(i))return{mimetype:"text/plain"};const s=await(0,db.fromBuffer)(i);return{mimetype:(n=s==null?void 0:s.mime)!=null?n:"application/octet-stream"}}finally{r.stop()}}async buffer(t,n){const r=new N(`IGit.buffer(${t}, ${n})`);try{return await this.github.getFileContent(this.rootUri,t,this.pathToRelativePath(n))}finally{r.stop()}}async show(t,n){const r=new N(`IGit.show(${t}, ${n})`);try{const i=await this.github.getFileContent(this.rootUri,t,this.pathToRelativePath(n));return j0.decode(i)}finally{r.stop()}}async getCommit(t){const n=new N(`IGit.getCommit(${t})`);try{const r=await this.github.getCommit(this.rootUri,t);if(r===void 0)throw new Error(`Unable to find commit for ref "${t}"`);return r}finally{n.stop()}}clean(t){return this._objects.clear(),Promise.resolve()}async apply(t,n){const r=new N(`IGit.apply(reverse=${n})`);try{return await this.changeStore.applyPatch(this.rootUri,t,n?{reverse:!0}:void 0)}finally{r.stop()}}async diff(t){const n=new N(`IGit.diff(${t})`);try{return await this.changeStore.createPatch(this.rootUri,void 0,t?{staged:!0}:void 0)}finally{n.stop()}}diffWithHEAD(t){return t?this.diffBetween("","HEAD",t):this.diffBetween("","HEAD")}diffWith(t,n){return n?this.diffBetween("",t,n):this.diffBetween("",t)}diffIndexWithHEAD(t){return t?this.diffBetween("~","HEAD",t):this.diffBetween("~","HEAD")}diffIndexWith(t,n){return n?this.diffBetween("~",t,n):this.diffBetween("~",t)}async diffBetween(t,n,r){if(!r)throw new Error("Method not implemented.");const i=new N(`IGit.diffBetween(${t}, ${n}, ${r})`);try{const a=[];for(const c of[t,n])try{a.push(await this.getContent(c,r))}catch(u){a.push(void 0)}const[s,l]=a;if(s===void 0&&l!==void 0)return dr(r,"",l,"add");if(s!==void 0&&l===void 0)return dr(r,s,"","delete");if(s!==void 0&&l!==void 0)return dr(r,s,l,"modify");throw d.FileSystemError.FileNotFound()}finally{i.stop()}}async diffBlobs(t,n){const r=new N(`IGit.diffBlobs(${t}, ${n})`);try{const i=await this.getBlobContent(t),a=await this.getBlobContent(n),s=Xr("untitled",i,a);return Promise.resolve(s)}finally{r.stop()}}async getBlobContent(t){const n=new N(`IGit.getBlobContent(${t})`);try{const r=this._objects.get(t);if(r)return this._objects.delete(t),r;const{repo:i}=this.providerService.getVirtualUriMetadata(this.rootUri),a=await this.github.getBlobContent(i,t);return j0.decode(a)}finally{n.stop()}}async getContent(t,n){const r=new N(`IGit.getContent(${t}, ${n})`);try{const i=this.pathToRelativeUri(n);if(t===""||t==="~"){const a=await this.changeStore.getChange(i);if(a!==void 0&&(t===""||a.staged))return this.changeStore.getContent(i);t="HEAD"}return await this.show(t==="HEAD"?this.metadata.HEAD.sha:t,n)}finally{r.stop()}}async hashObject(t){const n=new N("IGit.hashObject");try{const r=F(await jn(t));return this._objects.set(r,t),r}finally{n.stop()}}async createBranch(t,n,r){const i=new N(`IGit.createBranch(${t}, ${n}, ${r})`);try{r||(r=this.metadata.HEAD.sha);const a=await this.github.createBranch(this.rootUri,t,r);n&&await this.checkout(a)}finally{i.stop()}}deleteBranch(t,n){throw new Error("Method not implemented.")}async getBranch(t){const n=new N(`IGit.getBranch(${t})`);try{const r=await this.github.getBranch(this.rootUri,t);if(r===void 0)throw new Error(`Unable to find branch named "${t}"`);return{type:r.type,name:r.name,commit:r.commit,remote:this.remote.name,upstream:{name:r.name,remote:this.remote.name}}}finally{n.stop()}}async getBranches(t){var n,r;const i=(r=(n=t.contains)!=null?n:t.pattern)!=null?r:"",a=new N(`IGit.getBranches(${i})`);try{const{branches:s}=await this.github.getBranches(this.rootUri,{query:i,limit:t.count});if(s.length===0)throw new Error(`Unable to find branches for "${i}"`);return s.map(l=>({type:l.type,name:l.name,commit:l.commit}))}finally{a.stop()}}setBranchUpstream(t,n){throw new Error("Method not implemented.")}getMergeBase(t,n){throw new Error("Method not implemented.")}async status(){}async checkout(t){const n=new N(`IGit.checkout(${t})`);try{if(await this.github.repositoryObjectExists(this.rootUri,t)){const i=await this.github.switchTo(this.rootUri,t,{openInNewWindow:!1});throw i!==void 0&&await this.providerService.openWorkspace(i),new Error("User aborted")}const r=/pr\/(?<remote>.+)\/(?<num>\d+)/.exec(t);if(r==null?void 0:r.groups){const{num:i}=r.groups,{provider:a,repo:s}=this.providerService.getVirtualUriMetadata(this.rootUri),l=this.providerService.getRemoteUri(a.id,{repo:s,pullRequest:{id:i}});if(l!==void 0){const c=await this.providerService.createWorkspaceForRemoteUrl(l.toString());c!==void 0&&await this.providerService.openWorkspace(c)}}throw new Error("User aborted")}finally{n.stop()}}addRemote(t,n){var r;let i;const a=this.remotes.findIndex(s=>s.name===t);return a!==-1&&([i]=this.remotes.splice(a,1)),this.remotes.push({name:t,fetchUrl:n,isReadOnly:(r=i==null?void 0:i.isReadOnly)!=null?r:!1}),Promise.resolve()}removeRemote(t){const n=this.remotes.findIndex(r=>r.name===t);return n!==-1&&this.remotes.splice(n,1),Promise.resolve()}renameRemote(t,n){const r=this.remotes.findIndex(a=>a.name===t);if(r===-1)return Promise.resolve();const[i]=this.remotes.splice(r,1);return this.remotes.push({...i,name:n}),Promise.resolve()}async fetch(t,n,r){const i=new N("IGit.fetch");try{return this.github.fetch(this.rootUri)}finally{i.stop()}}async pull(t){const n=new N("IGit.pull");try{return this.github.sync(this.rootUri,this.changeStore,{conflictResolution:pe.Merge})}finally{n.stop()}}push(t,n,r){return Promise.resolve()}blame(t){throw new Error("Method not implemented.")}async log(t){var n;const r=(t==null?void 0:t.path)?this.pathToRelativePath(t.path):void 0,i=await this.github.getCommits(this.rootUri,{ref:this.metadata.HEAD.sha,path:r,limit:t==null?void 0:t.maxEntries});return(n=i==null?void 0:i.commits)!=null?n:[]}async commit(t,n){const r=new N("IGit.commit");try{if((n==null?void 0:n.amend)!==void 0||(n==null?void 0:n.empty)!==void 0||(n==null?void 0:n.signCommit)!==void 0||(n==null?void 0:n.signoff)!==void 0)throw new Error("The specified commit options are not yet supported.");const i=(await this.providerService.getCommitOperations(this.rootUri,{staged:(n==null?void 0:n.all)===!1})).filter(a=>a.fileType===d.FileType.File);if(!i.length){d.window.showInformationMessage(pb("no changes to commit","There are no changes to commit."));return}await this.github.createAndPushCommit(this.rootUri,t,i,void 0,n)}finally{r.stop()}}pathToRelativePath(t){return this.providerService.getRelativeFilePath(this.rootUri,this.pathToRelativeUri(t))}pathToRelativeUri(t){return $(this.rootUri,yb(t))}}o(K0,"GitHubRepository");const vb=/^\/?([a-zA-Z])(?::\/)(.*)$/,mb=/\\/g;function yb(e){e=d.Uri.file(e).fsPath.replace(mb,"/");const t=vb.exec(e);return t!==null&&([,,e]=t),e.startsWith("/")?e:`/${e}`}o(yb,"normalizePath");function Jf(e){switch(e){case U.Changed:return Fs.MODIFIED;case U.Created:return Fs.INTENT_TO_ADD;case U.Deleted:return Fs.DELETED}}o(Jf,"opTypeToStatus");class ou extends Error{constructor(t,n,r){super(t.message);this.original=t,this.name=n,this.id=r;var i;(i=Error.captureStackTrace)==null||i.call(Error,this,ou)}}o(ou,"PullRequestNotFoundError");class ks extends Error{constructor(t,n){super(t.message);this.original=t,this.name=n;var r;(r=Error.captureStackTrace)==null||r.call(Error,this,ks)}}o(ks,"RepositoryForbiddenError");class Ps extends Error{constructor(t,n){super(t.message);this.original=t,this.name=n;var r;(r=Error.captureStackTrace)==null||r.call(Error,this,Ps)}}o(Ps,"RepositoryNotFoundError");class su extends Error{constructor(t,n){super(t.message);this.original=t,this.name=n;var r;(r=Error.captureStackTrace)==null||r.call(Error,this,su)}}o(su,"RepositoryEmptyError");var wb=Object.defineProperty,_b=Object.getOwnPropertyDescriptor,Ji=o((e,t,n,r)=>{for(var i=r>1?void 0:r?_b(t,n):t,a=e.length-1,s;a>=0;a--)(s=e[a])&&(i=(r?s(t,n,i):s(i))||i);return r&&i&&wb(t,n,i),i},"messages_decorateClass");const or=S.loadMessageBundle();class vi{showGitHubStatus500Message(){return d.window.showErrorMessage(or("github 500 error notification","GitHub failed to respond and might be experiencing issues. Visit the [GitHub status page](https://githubstatus.com) for more information."),or("ok","OK")),Promise.resolve()}async showStatus401Message(t){if(!t)return void d.window.showErrorMessage(or("401 error notification","The provided credentials are either invalid or expired."),or("ok","OK"));const n=or("401 error notification confirm","Reauthenticate");await d.window.showErrorMessage(or("401 error notification with reauth","The provided credentials are either invalid or expired. Would you like to reauthenticate?"),n)===n&&t()}async showStatus403Message(t){if(!t)return void d.window.showErrorMessage(or("403 error notification","The provided credentials do not have the required access."),or("ok","OK"));const n=or("403 error notification confirm","Reauthenticate"),r=or("403 error notification with reauth","The provided credentials do not have the required access. Would you like to reauthenticate to grant additional access?");await d.window.showErrorMessage(r,n)===n&&t()}async showRepositoryEmptyMessage(t){const n=or("repository empty open","Open Repository");await d.window.showErrorMessage(or("repository empty","Repository '{0}' is empty and cannot be opened. Would you like to open another repository?",t),{modal:!0},n)===n&&d.commands.executeCommand("remoteHub.openRepository")}async showPullRequestNotFoundMessage(t,n){const r=or("pull request not found open","Open Pull Request");await d.window.showErrorMessage(or("pull request not found","Unable to find pull request {1} on repository '{0}'. Would you like to open another pull request?",t,n),r)===r&&d.commands.executeCommand("remoteHub.openRepository")}async showPullRequestHeadNotFoundMessage(t,n){const r=or("pull request head not found ok","OK");await d.window.showWarningMessage(or("pull request head not found","Unable to find the source branch for pull request {1} on repository '{0}'.",t,n),r)}async showRepositoryForbiddenMessage(t,n){const r=or("repository forbidden open","Open Repository"),i=or("repository forbidden reauthenticate","Reauthenticate"),a=await d.window.showErrorMessage(or("repository forbidden","You don't have access to repository '{0}'. Would you like to open another repository or reauthenticate?",t),{modal:!0},r,i);a===r?d.commands.executeCommand("remoteHub.openRepository"):a===i&&n()}async showRepositoryNotFoundMessage(t){const n=or("repository not found confirm","Open Repository");await d.window.showErrorMessage(or("repository not found","Unable to find repository '{0}'. Would you like to open another repository?",t),{modal:!0},n)===n&&d.commands.executeCommand("remoteHub.openRepository")}async showUnableToOpenRepositoryMessage(t){const n=or("unable to open repo confirm","Open Repository");await d.window.showErrorMessage(or("unable to open repo","Unable to open repository. {0}. Would you like to open another repository?",String(t)),{modal:!0},n)===n&&d.commands.executeCommand("remoteHub.openRepository")}}o(vi,"Messages"),Ji([Xt(()=>"")],vi.prototype,"showGitHubStatus500Message",1),Ji([Xt(()=>"")],vi.prototype,"showStatus401Message",1),Ji([Xt(()=>"")],vi.prototype,"showStatus403Message",1),Ji([Xt()],vi.prototype,"showRepositoryEmptyMessage",1),Ji([Xt()],vi.prototype,"showPullRequestNotFoundMessage",1),Ji([Xt()],vi.prototype,"showPullRequestHeadNotFoundMessage",1),Ji([Xt()],vi.prototype,"showRepositoryForbiddenMessage",1),Ji([Xt()],vi.prototype,"showRepositoryNotFoundMessage",1),Ji([Xt()],vi.prototype,"showUnableToOpenRepositoryMessage",1);const ai=new vi;var Yf=__webpack_require__(4155),xb=Object.defineProperty,bb=Object.getOwnPropertyDescriptor,q0=o((e,t,n,r)=>{for(var i=r>1?void 0:r?bb(t,n):t,a=e.length-1,s;a>=0;a--)(s=e[a])&&(i=(r?s(t,n,i):s(i))||i);return r&&i&&xb(t,n,i),i},"provider_decorateClass");const Do=S.loadMessageBundle(),V0=/^(?:https?:\/\/)?github\.(?:com|dev)\/(?<owner>[^/]+)\/(?<repo>[^/?#]+)(?:|\.git|\/tree\/(?<tree>[^?#]+)|\/blob\/(?<blob>[^?#]+)|\/commit\/(?<commit>[0-9a-f]{40})|\/pull\/(?<pull>[0-9]+))?(?<extra>[^?#]*)(?:\?(?<query>[^#]*))?(?:#(?<fragment>.*))?$/i,G0=/(?<remoteOwner>[^/:]+)\/?(?<remoteRepo>[^/:]+)?:(?<remoteRef>.*)/,Eb=["repo","workflow"],lu=["repo","workflow","user:email","read:user"],uu=1,ed=Object.freeze({id:"github",name:"GitHub"});function wa(e){const{scheme:t,metadata:n}=L.decodeAuthority(e,s=>{if(s.v!==void 0)return s;if(typeof s.pr=="string")return{v:uu,ref:{type:oe.PullRequest,id:s.pr},idx:s.idx};if(typeof s.ref=="string")return{v:uu,ref:{type:oe.Tree,id:s.ref},idx:s.idx}}),[,r,i,...a]=e.path.split("/");return{scheme:t,provider:ed,name:`${r}/${i}`,repo:{owner:r,name:i},path:a.join("/")||"",ref:n==null?void 0:n.ref,idx:n==null?void 0:n.idx}}o(wa,"getGitHubMetadata");function Sb(e,t){const{repo:n}=t!=null?t:wa(e);return e.with({path:`/${n.owner}/${n.name}`,query:"",fragment:""})}o(Sb,"getGitHubRootUri");function td(e,t,n){const{repo:{owner:r,name:i}}=e instanceof d.Uri?wa(e):e;return d.Uri.parse(`github://${L.encodeAuthority("github",{v:uu,ref:{type:oe.Commit,id:t}})}/${r}/${i}/${n}`)}o(td,"getGitHubRevisionUri");class Z0{constructor(t){if(this.scopes=t,this.id="github",this.account={id:"vscode-remotehub-test",label:"RemoteHub Test"},!Yf.env.GITHUB_REMOTEHUB_TEST_PAT)throw new Error("Unable to initialize authentication for integration tests. Please set `process.env.GITHUB_REMOTEHUB_TEST_PAT`.");this.accessToken=Yf.env.GITHUB_REMOTEHUB_TEST_PAT}}o(Z0,"TestAuthenticationSession");class cu{constructor(t,n){this.providerService=t,this.tarPit=n,this.fileTreeCache=new Map,this.fileTreesToCache=new Set,this.disposable=d.Disposable.from(t.onDidChangeRepository(r=>{r.reason==="HEAD"&&this.onRefreshOrRepositoryChanged([r.repository.uri])}),t.onDidChangeRepositories(r=>this.onRefreshOrRepositoryChanged(r.added.map(i=>i.uri))),t.onDidRefresh(r=>this.onRefreshOrRepositoryChanged(r))),os&&(this.tarballProxyEndpoint=d.commands.executeCommand("_workbench.getTarballProxyEndpoints").then(r=>r==null?void 0:r["github.com"])),Yf.env.GITHUB_REMOTEHUB_TEST_PAT&&(this._session=new Z0(Eb))}get scheme(){return"github"}get repositories(){return[...this.providerService.getRepositories(ed.id)]}getRemoteSourceProviders(){var t;const n=[];return((t=d.extensions.getExtension("vscode.github"))==null?void 0:t.isActive)||n.push({name:"GitHub",icon:"github",label:Do("open repo from","Open Repository from {0}","GitHub"),placeholder:Do("pick repo","Choose a repository"),getRemoteSources:async r=>{r=r!=null?r:"";let i;const a=r==null?void 0:r.indexOf("/");a!==-1&&(i=r.substring(0,a),r=r.substr(a+1));const{results:s}=await this.searchRepositoriesQuery(r,{user:i}),l=[];return l.push(...s.map(c=>({providerId:"github",name:c.repoWithOwner,icon:"repo",description:`${c.fork?`$(repo-forked) ${c.fork}`:""}${c.stars>0?`${c.fork?" \u2022 ":""}$(star-full) ${c.stars}`:""}`,detail:c.description,url:c.url}))),l},getRecentRemoteSources:()=>[]}),n.push({name:"GitHub",icon:"github",label:Do("open pr from","Open Pull Request from {0}","GitHub"),placeholder:Do("pick pr","Choose a pull request"),getRemoteSources:async r=>{r=r!=null?r:"";let i;const a=r==null?void 0:r.indexOf("/");a!==-1&&(i=r.substring(0,a),r=r.substr(a+1));const{results:s}=await this.searchPullRequestsQuery(r,{user:i}),l=[];return l.push(...s.map(c=>({providerId:"github",name:c.title,icon:"git-pull-request",description:c.reasons.length!==0?c.reasons.sort().join(", "):void 0,detail:`${c.repoWithOwner} #${c.number}`,url:c.url}))),l}}),n}dispose(){this.disposable.dispose()}onRefreshOrRepositoryChanged(t){t=t.filter(n=>L.getProviderId(n)===this.scheme),t.length!==0&&(this.fileTreeCache.forEach(n=>n.dispose()),this.fileTreeCache.clear(),t.forEach(n=>{const{repo:{owner:r,name:i}}=wa(n);try{d.commands.executeCommand("_codespaces.setActiveRepository",{owner:r,name:i})}catch{}}))}async ensureAuthenticated(t=!1){const n=new N("GitHub.ensureAuthenticated");try{if(this._session===void 0){async function r(){try{return t?await d.authentication.getSession("github",lu,{forceNewSession:t}):await d.authentication.getSession("github",lu,{createIfNone:!0})}catch(a){se.error(a);try{const s=await d.authentication.getSession("github",lu,{createIfNone:!1});if(s!==void 0)return s}catch{}return new Promise(s=>{async function l(){const u=await d.authentication.getSession("github",lu,{createIfNone:!0});u!==void 0&&s(u)}o(l,"getSession");const c=d.authentication.onDidChangeSessions(async u=>{u.provider.id==="github"&&(c.dispose(),await l())})})}}o(r,"waitUntilAuthenticated"),this._session=await r();const i=d.authentication.onDidChangeSessions(a=>{if(this._session===void 0){i.dispose();return}a.provider.id==="github"&&(this.clearAuthenticationSession(),i.dispose())})}return this._session}finally{n.stop()}}async getAuthentication(t){const n=await this.ensureAuthenticated();return{provider:ed,session:n,getRichNavigationHeaders:()=>({"X-Git-GitHub":`Bearer ${n.accessToken}`})}}clearAuthenticationSession(){this._session=void 0,this._octokit=void 0,this._octokitDefaults=void 0}async reauthenticate(){this.clearAuthenticationSession(),await this.ensureAuthenticated(!0)}async octokit(t){if(this._octokitDefaults===void 0){const r=await this.ensureAuthenticated();if(os){async function i(a,s){if(s.headers!==void 0){const{"user-agent":l,...c}=s.headers;l&&(s.headers=c)}return Fx(a,s)}o(i,"fetchCore"),this._octokitDefaults=Ds.defaults({auth:`token ${r.accessToken}`,request:{fetch:i}})}else this._octokitDefaults=Ds.defaults({auth:`token ${r.accessToken}`})}const n=new this._octokitDefaults(t);return(se.logLevel===Ut.Debug||se.isDebugging)&&n.hook.wrap("request",async(r,i)=>{var a;const s=new N(`[GITHUB] ${i.method} ${i.url}`,{log:!1});try{return await r(i)}finally{let l;try{if(typeof i.query=="string"){const c=/(^[^({\n]+)/.exec(i.query);l=` ${(a=c==null?void 0:c[1].trim())!=null?a:i.query}`}}catch{}s.stop({message:l})}}),n}async graphql(t,n,r=!0){this._octokit===void 0&&(this._octokit=await this.octokit());try{return await this._octokit.graphql(t,n)}catch(i){throw r||this.handleRequestErrors(i),se.error(i),i}}async request(t,n){this._octokit===void 0&&(this._octokit=await this.octokit());try{return await this._octokit.request(t,n)}catch(r){throw this.handleRequestErrors(r),se.error(r),r}}handleRequestErrors(t){var n,r;if(t instanceof Qi)switch(t.status){case 500:return t.response&&ai.showGitHubStatus500Message(),!0;case 401:return ai.showStatus401Message(()=>void this.reauthenticate()),!0;case 403:return ai.showStatus403Message(()=>void this.reauthenticate()),!0}else if(t instanceof ya){if(((r=(n=t.errors)==null?void 0:n[0])==null?void 0:r.type)==="FORBIDDEN")return ai.showStatus403Message(()=>void this.reauthenticate()),!0;if(t.headers.status==="500")return ai.showGitHubStatus500Message(),!0}return!1}createIGitRepository(t,n,r,i){return new K0(this.providerService,t,n,r,i,this)}async createMetadata(t,n){var r,i,a,s,l,c;const u=new N(`GitHub.createMetadata(${t.toString()}, ${n})`);let f;try{let{provider:y,name:m,repo:{owner:C,name:j},ref:Q}=wa(t);(!Q||Q.type===oe.Commit&&/HEAD/i.test(Q.id))&&(Q={type:oe.Commit,id:"HEAD"});const z=this.providerService.isInWorkspace(t),G=await this.getRepositoryInfo(C,j,z,Q.type===oe.PullRequest?{pr:Number(Q.id)}:{ref:Q.id});if(G===void 0)throw f=" \u2022 Aborted; Unable to get repository info",new Error(`Cannot get metadata for Uri(${t.toString()}); Unable to get repository info`);let re;if(n)re=n;else if(Q.type===oe.Commit&&Q.id!=="HEAD"||Q.type===oe.Tree&&G.ref===void 0)re=Q.id;else if(re=(i=(r=G.ref)==null?void 0:r.sha)!=null?i:G.defaultBranch.sha,re===void 0)throw f=" \u2022 Aborted; Unable to get repository revision",new Error(`Cannot get metadata for Uri(${t.toString()}); Unable to get repository revision`);let fe;if(((a=G.ref)==null?void 0:a.prefix)==="refs/heads/")fe={type:K.Branch,name:G.ref.name,sha:re,branch:{name:G.ref.name,sha:G.ref.sha}};else if(((s=G.ref)==null?void 0:s.prefix)==="refs/remotes/"){if(!G.ref.remote)throw f=" \u2022 Aborted; Unable to get remote info",new Error(`Cannot get metadata for Uri(${t.toString()}); Unable to get remote info`);fe={type:K.RemoteBranch,name:`${G.ref.remote.repo.owner}${G.ref.remote.repo.name!==j?`/${G.ref.remote.repo.name}`:""}:${G.ref.name}`,sha:re,branch:{name:G.ref.name,sha:G.ref.sha,remote:G.ref.remote}}}else((l=G.ref)==null?void 0:l.prefix)==="refs/tags/"?fe={type:K.Tag,name:G.ref.name,sha:re,detached:{type:K.Tag,name:G.ref.name}}:fe={type:K.Commit,name:v(re),sha:re,detached:{type:K.Commit,name:v(re)}};let le,be;if(Rt.get("experimental.prefetch")&&z&&(le=re,u.log({suffix:` \u2022 Prefetching tree for ${le}...`}),this.getFileTree(t,void 0,{recursive:!0,prefetched:{metadata:new Promise(Ue=>be=Ue),repo:{owner:C,name:j},HEAD:{sha:le},timestamp:Date.now()}})),le!==void 0&&le!==fe.sha){const Ue=this.asFileTreeKey(t,le),Oe=this.fileTreeCache.get(Ue);Oe&&!h(le)&&fe.sha===((c=fe.branch)==null?void 0:c.sha)?(u.log({suffix:` \u2022 Updating prefetched tree for ${le}, since HEAD was resolved; HEAD=${fe.sha}`}),this.fileTreeCache.set(this.asFileTreeKey(t,fe.sha),Oe),this.fileTreeCache.delete(Ue)):(u.log({suffix:` \u2022 Removing prefetched tree for ${le}, since the HEAD changed; HEAD=${fe.sha}`}),this.fileTreeCache.delete(Ue),Oe==null||Oe.dispose())}const Je={version:Ns.schemaVersion,timestamp:Date.now(),provider:y,name:m,repo:G.repo,cloneUrl:G.cloneUrl,accessLevel:G.accessLevel,HEAD:fe,defaultBranch:G.defaultBranch,pullRequest:G.pullRequest};return f=` \u2022 HEAD=${fe.sha}`,be==null||be(Je),Je}finally{u.stop(f?{suffix:f}:void 0)}}getMetadata(t){return this.providerService.getMetadata(t)}canOpenRemoteUrl(t){const n=V0.exec(t);if((n==null?void 0:n.groups)===void 0)return;const{blob:r,commit:i,pull:a,tree:s}=n.groups;return a?Ee.PullRequest:i?Ee.Commit:s?Ee.Branch:r?Ee.File:Ee.Repository}async createWorkspaceForRemoteUrl(t,n=he.CurrentWindow){const r=V0.exec(t);if((r==null?void 0:r.groups)===void 0)return;let{owner:i,repo:a,blob:s,commit:l,pull:c,tree:u,fragment:f}=r.groups;a=a.endsWith(".git")?a.slice(0,a.length-4):a;const y=await this.validateOwnerAndRepoAndSplitRefFromPath(i,a,u!=null?u:s);if(y===void 0)return;let m,C;if({owner:i,repo:a,ref:C,path:m}=y,u||s){if(m&&f&&s){const z=/L(?<start>\d+)(?:-L(?<end>\d+))?/.exec(f);if(z==null?void 0:z.groups){const{start:G,end:re}=z.groups;m+=`:${G}${re!==void 0?`-${re}`:""}`}}}else l?C={type:oe.Commit,id:l}:c&&(C={type:oe.PullRequest,id:c});const j=this.providerService.createVirtualUri("github",{repo:{owner:i,name:a},ref:C}),{name:Q}=wa(L.getVirtualUri(this.getProviderRootUri(j)));return{name:Q,uri:j,location:n,filesToOpen:m?[m]:void 0}}createVirtualUri(t,{repo:n,ref:r,idx:i},a){const s=r!==void 0||i!==void 0?{v:uu}:void 0;return s&&(r&&(s.ref={...r,type:r.type===oe.Branch||r.type===oe.Tag?oe.Tree:r.type}),i&&(s.idx=i)),t.with({authority:L.encodeAuthority("github",s),path:`/${n.owner}/${n.name}${(a==null?void 0:a.startsWith("/"))?a:a?`/${a}`:""}`})}getRemoteUri(t){const n=`https://github.com/${t.repo.owner}/${t.repo.name}`,r=t.path?"blob":"tree",i=t.path?`/${t.path}`:"";return t.pullRequest?d.Uri.parse(`${n}/pull/${t.pullRequest.id}`):t.branch?d.Uri.parse(`${n}/${r}/${t.branch}${i}`):t.tag?d.Uri.parse(`${n}/${r}/${t.tag}${i}`):t.sha?d.Uri.parse(`${n}/${r}/${t.sha}${i}`):d.Uri.parse(n)}getProviderRootUri(t){return t=L.getProviderUri(t),Sb(t)}getRelativeFilePath(t,n){let{path:r}=wa(t);const{path:i}=wa($(t,n));return r.length!==0&&i!==r&&i.startsWith(r)?(r=r.endsWith("/")?r:`${r}/`,i.slice(r.length)):i}getVirtualUriMetadata(t){const{provider:n,name:r,repo:i,ref:a}=wa(t);return{provider:n,name:r,repo:i,ref:a}}async getModeRefType(t,n){const{HEAD:r,pullRequest:i}=await(n!=null?n:this.getMetadata(t));switch(r.type){case K.Branch:return i!==void 0?Ie.PullRequestBranch:Ie.Branch;case K.RemoteBranch:return i!==void 0?Ie.PullRequestRemoteBranch:Ie.RemoteBranch;case K.Tag:return Ie.Tag;case K.Commit:return Ie.Commit}}async createBranch(t,n,r,i){try{const{repo:{owner:a,name:s}}=i!=null?i:await this.getMetadata(t);return n.startsWith("refs/heads/")||(n=`refs/heads/${n}`),(await this.request("POST /repos/{owner}/{repo}/git/refs",{owner:a,repo:s,ref:n,sha:r})).data.ref.substr(11)}catch(a){throw a instanceof Qi&&a.status===422?a.message==="Reference already exists"?Te.InvalidBranchNameError(n.substring(11),!0):Te.InvalidBranchNameError(n.substring(11),!1):(se.error(a),a)}}async createAndPushCommit(t,n,r,i,a,s){var l;const c=new N(`GitHub.createAndPushCommit(${t.toString()}${s?`, fork=${s.repo.owner}/${s.repo.name}`:""})`);if(r=r.filter(f=>f.fileType===d.FileType.File),r.length===0&&!(a==null?void 0:a.empty))throw c.stop({message:"Aborted; No changes to commit"}),Te.NothingToCommitError("No changes to commit");let u;try{const f=await this.getMetadata(t);let y;if(i!==void 0)y=i;else{if(f.HEAD.detached&&!f.HEAD.branch)throw Te.DetachedHEADError("Unable to commit; no current branch");y=f.HEAD.branch.name}let m;if(s)m=`${s.repo.owner}/${s.repo.name}`;else if(f.HEAD.type===K.RemoteBranch&&f.HEAD.branch.remote.accessLevel>=X.Write){const{owner:re,name:fe}=f.HEAD.branch.remote.repo;m=`${re}/${fe}`}else m=`${f.repo.owner}/${f.repo.name}`;const C=[],j=[];for(const re of r)switch(re.type){case U.Created:case U.Changed:{try{const fe=await re.content;C.push({path:re.path,contents:Va(fe)})}catch(fe){throw se.error(fe),Te.CommitFailedError()}break}case U.Deleted:j.push({path:re.path});break}const Q={branch:{branchName:y,repositoryNameWithOwner:m},message:{headline:n},fileChanges:{additions:C,deletions:j},expectedHeadOid:f.HEAD.sha},z=`mutation CreateCommitOnBranch ($commitInput: CreateCommitOnBranchInput!) {
	createCommitOnBranch(input: $commitInput) {
		commit {
			oid
		}
		ref {
			name
		}
	}
}`,G=await this.graphql(z,{commitInput:Q});if(u=G==null?void 0:G.createCommitOnBranch.commit.oid,!u)throw Te.CommitFailedError();return i===void 0&&!f.HEAD.detached&&u!==void 0&&await this.fastForwardTo(t,u,f),u}catch(f){if(f instanceof ya){const y=(l=f.errors)==null?void 0:l[0];if((y==null?void 0:y.type)==="STALE_DATA"&&y.message.includes("Pull and try again"))throw Te.MergeConflictError(f)}throw se.error(f),f}finally{c.stop(u?{message:`: Created and pushed commit ${u}`}:void 0)}}async createPullRequest(t,n,r,i,a){var s,l,c;const u=new N(`GitHub.createPullRequest(${t.toString()}, ${n}${a?`, fork=${a.repo.owner}/${a.repo.name}`:""})`);try{const{repo:{owner:f,name:y},HEAD:{branch:m},defaultBranch:C}=await this.getMetadata(t),j=await this.request("POST /repos/{owner}/{repo}/pulls",{owner:f,repo:y,base:`refs/heads/${(s=m==null?void 0:m.name)!=null?s:C.name}`,head:a?`${a.repo.owner}:${n}`:n,title:r,draft:(l=i==null?void 0:i.draft)!=null?l:!1,maintainer_can_modify:(c=i==null?void 0:i.canMaintainerModify)!=null?c:!0});return{id:j.data.number.toString(),uri:d.Uri.parse(j.data.html_url)}}catch(f){throw se.error(f),f}finally{u.stop()}}async fetch(t,n){const{fetched:r,metadata:i}=await this.fetchCore(t,!1,n);r&&await this.providerService.updateMetadata(t,i)}async fetchCore(t,n,r){var i,a,s,l,c,u,f,y,m;const{force:C,to:j}={...r,force:n||(r==null?void 0:r.force)},Q=new N(`GitHub.fetch(${t.toString()}, force=${C}, to=${j})`);let z;try{const G=await this.getMetadata(t);if(G.HEAD.detached)return z=" \u2022 Skipped; detached HEAD",{fetched:!1,metadata:G};const re=await this.getBranchTips(t);if(!re)throw z=" \u2022 Unable to fetch branch tips",Te.SyncOrFetchError(n);if(!C&&!j&&((i=re.defaultBranch)==null?void 0:i.sha)!==void 0&&re.defaultBranch.sha===G.defaultBranch.sha&&((a=re.branch)==null?void 0:a.sha)!==void 0&&re.branch.sha===G.HEAD.branch.sha&&(G.HEAD.sha===G.HEAD.branch.sha||G.state!==void 0))return z=" \u2022 No changes detected",{fetched:!1,metadata:G};let fe;if(((s=re.defaultBranch)==null?void 0:s.sha)!==void 0&&re.defaultBranch.sha!==G.defaultBranch.sha&&(fe={defaultBranch:{...G.defaultBranch,sha:re.defaultBranch.sha}}),((l=re.branch)==null?void 0:l.sha)===void 0){if(z=" \u2022 Unable to find branch tip",C)throw Te.SyncOrFetchError(n);return fe!==void 0?{fetched:!0,metadata:{...G,...fe}}:{fetched:!1,metadata:G}}if(re.branch.sha!==G.HEAD.branch.sha&&(fe={...fe,HEAD:{...G.HEAD,branch:{...G.HEAD.branch,sha:re.branch.sha},detached:void 0}}),re.branch.sha===((c=r==null?void 0:r.to)!=null?c:G.HEAD.sha))return z=" \u2022 Up to date",G.state!==void 0||fe!==void 0?{fetched:!0,metadata:{...G,...fe,state:void 0}}:{fetched:!1,metadata:G};Q.logStep("Fetching upstream changes");try{const le=await this.getAheadBehindState(t,G,{base:(u=r==null?void 0:r.to)!=null?u:G.HEAD.sha,head:(m=(y=(f=fe==null?void 0:fe.HEAD)==null?void 0:f.branch)==null?void 0:y.sha)!=null?m:G.HEAD.branch.sha});return z=` \u2022 Changes detected; ${le==null?void 0:le.behind} commits behind`,{fetched:!0,metadata:{...G,...fe,state:le?{ahead:le.ahead,behind:le.behind,incomingChanges:le.incomingChanges}:void 0}}}catch(le){if(z=` \u2022 Failed fetching upstream changes; ${String(le)}`,C)throw Te.SyncOrFetchError(n);return fe!==void 0?{fetched:!0,metadata:{...G,...fe}}:{fetched:!1,metadata:G}}}finally{Q.stop(z?{suffix:z}:void 0)}}async fork(t){try{const{repo:{owner:n,name:r}}=await this.getMetadata(t),i=await this.request("POST /repos/{owner}/{repo}/forks",{owner:n,repo:r});let a;for(;;){try{if(a=await this.getRepositoryInfo(i.data.owner.login,i.data.name,!1),a!==void 0)break}catch{}await new Promise(s=>setTimeout(s,250))}return{name:`${i.data.owner.login}/${i.data.name}`,repo:{owner:i.data.owner.login,name:i.data.name},url:i.data.url}}catch(n){throw se.error(n),n}}async getBranch(t,n){try{const{repo:{owner:r,name:i}}=await this.getMetadata(t),a=`query getBranch(
				$owner: String!
				$repo: String!
				$qualifiedName: String!
			) {
				repository(owner: $owner, name: $repo) {
					ref(qualifiedName: $qualifiedName) {
						name
						target {
							oid
							commitUrl
						}
					}
				}
			}`,s=await this.graphql(a,{owner:r,repo:i,qualifiedName:n.startsWith("refs/heads/")?n:`refs/heads/${n}`});return(s==null?void 0:s.repository)?{type:Xi.Head,name:s.repository.ref.name,commit:s.repository.ref.target.oid,commitUrl:s.repository.ref.target.commitUrl}:void 0}catch(r){return}}async getBranches(t,n){var r,i,a;try{const{repo:{owner:s,name:l}}=await this.getMetadata(t),c=`query getBranches(
	$owner: String!
	$repo: String!
	$branchQuery: String!
	$cursor: String
	$limit: Int = 100
) {
	repository(owner: $owner, name: $repo) {
		refs(query: $branchQuery, refPrefix: "refs/heads/", first: $limit, after: $cursor) {
			pageInfo {
				endCursor
				hasNextPage
			}
			nodes {
				name
				target {
					oid
					commitUrl
				}
			}
		}
	}
}`,u=await this.graphql(c,{owner:s,repo:l,branchQuery:(r=n==null?void 0:n.query)!=null?r:"",cursor:n==null?void 0:n.cursor,limit:Math.min(100,(i=n==null?void 0:n.limit)!=null?i:100)});if(u===void 0)return{branches:[]};const f=(a=u.repository)==null?void 0:a.refs;if(f===void 0)return{branches:[]};const y=f.nodes.map(m=>({type:Xi.Head,name:m.name,commit:m.target.oid,commitUrl:m.target.commitUrl}));return{paging:{cursor:f.pageInfo.endCursor,more:f.pageInfo.hasNextPage},branches:y}}catch(s){return{branches:[]}}}async getCommit(t,n){var r;try{const{HEAD:i,repo:{owner:a,name:s}}=await this.getMetadata(t),l=`query getCommit(
	$owner: String!
	$repo: String!
	$ref: GitObjectID!
) {
	repository(name: $repo owner: $owner) {
		object(oid: $ref) {
			...on Commit {
				oid
				message
				parents(first: 100) {
					nodes {
						oid
					}
				}
				author {
					date
					email
					name
				}
				committer {
					date
				}
			}
		}
	}
}`;n.toUpperCase()==="HEAD"&&(n=i.sha);const c=await this.graphql(l,{owner:a,repo:s,ref:n});if(c===void 0)return;const u=(r=c.repository)==null?void 0:r.object;return u===void 0?void 0:{hash:u.oid,message:u.message,parents:u.parents.nodes.map(f=>f.oid),authorDate:new Date(u.author.date),authorEmail:u.author.email,authorName:u.author.name,commitDate:new Date(u.committer.date)}}catch(i){return}}async getCommits(t,n){var r,i,a;try{const{HEAD:s,repo:{owner:l,name:c}}=await this.getMetadata(t),u=`query getCommits(
	$owner: String!
	$repo: String!
	$ref: GitObjectID!
	$path: String
	$cursor: String
	$limit: Int = 100
) {
	repository(name: $repo, owner: $owner) {
		object(oid: $ref) {
			... on Commit {
				history(first: $limit, path: $path, after: $cursor) {
					pageInfo {
						endCursor
						hasNextPage
					}
					nodes {
						... on Commit {
							...commit
						}
					}
				}
			}
		}
	}
}

fragment commit on Commit {
	oid
	message
	parents(first: 100) {
		nodes {
			oid
		}
	}
	author {
		date
		email
		name
	}
	committer {
		date
	}
}
`;let f=n==null?void 0:n.ref;(f==null?void 0:f.toUpperCase())==="HEAD"&&(f=s.sha);const y=await this.graphql(u,{owner:l,repo:c,ref:f,cursor:n==null?void 0:n.cursor,path:n==null?void 0:n.path,limit:Math.min(100,(r=n==null?void 0:n.limit)!=null?r:100)});if(y===void 0)return;const m=(a=(i=y.repository)==null?void 0:i.object)==null?void 0:a.history;if(m===void 0)return;const C=m.nodes.map(j=>({hash:j.oid,message:j.message,parents:j.parents.nodes.map(Q=>Q.oid),authorDate:new Date(j.author.date),authorEmail:j.author.email,authorName:j.author.name,commitDate:new Date(j.committer.date)}));return{paging:{cursor:m.pageInfo.endCursor,more:m.pageInfo.hasNextPage},commits:C}}catch(s){return}}async getBlobContent(t,n){try{const r=await this.request("GET /repos/{owner}/{repo}/git/blobs/{file_sha}",{owner:t.owner,repo:t.name,file_sha:n});return Oi(r.data.content)}catch(r){throw se.logLevel===Ut.Debug&&se.error(r),r}}async getFileContent(t,n,r){try{let i;if(n&&r&&!this.hasFileTree(t,n)){const a=this.getProviderRootUri(t);r.startsWith("/")&&(r=r.slice(1));let s=(0,Dx.dirname)(r);(s==="."||s==="/")&&(s=""),i=await(await this.getFileTree(a,n,{path:s,recursive:!1})).get(r)}else{const[a,{path:s}]=await Promise.all([this.getFileTree(t,n),r?{path:void 0}:this.providerService.getMetadata(t)]);i=await a.get(r!=null?r:s)}if((i==null?void 0:i.sha)===void 0)throw d.FileSystemError.FileNotFound(t);return await i.getContent()}catch(i){throw se.logLevel===Ut.Debug&&se.error(i),i}}async getFileList(t,n,r){const i=new N(`GitHub.getFileList(${t.toString()}${r?`, ${r}`:""})`);try{const{repo:{owner:a,name:s},HEAD:{sha:l}}=await this.getMetadata(t),c=await this.request("GET /repos/{owner}/{repo}/git/tree-file-list/{treeish}",{owner:a,repo:s,treeish:`${r!=null?r:l}${n?`:${n}`:""}`});return c.status!==200?[]:c.data}catch(a){return se.error(a),[]}finally{i.stop()}}hasFileTree(t,n){return n?this.fileTreeCache.has(this.asFileTreeKey(t,n)):this.getMetadata(t).then(r=>this.fileTreeCache.has(this.asFileTreeKey(t,r.HEAD.sha)))}async getFileTree(t,n,r){var i,a,s,l;const c=this.providerService.isInWorkspace(t);let u=c,f,y,m;if(u||!n){const z=(a=(i=r==null?void 0:r.prefetched)==null?void 0:i.metadata)!=null?a:this.getMetadata(t);f=c?this.getFileTreePermissions(t,z):void 0;let G;({repo:y,HEAD:{sha:G},timestamp:m}=(s=r==null?void 0:r.prefetched)!=null?s:await z),n&&G!==n?this.fileTreesToCache.has(this.asFileTreeKey(t,n))?u=!0:(u=!1,m=Date.now()):n=G}else({repo:y}=(l=r==null?void 0:r.prefetched)!=null?l:this.providerService.getVirtualUriMetadata(t)),m=Date.now();const C=this.asFileTreeKey(t,n);this.fileTreesToCache.add(C);const j=this.getProviderRootUri(t),Q=new N(`GitHub.getFileTree(${C}): ${t.toString()}`,{log:!1,logLevel:Ut.Debug});try{let z=o(function(){var re;const fe=new N(`GitHub.createFileTree(${C})`);let le,be;u&&c&&(le=new d.EventEmitter,be=d.Disposable.from(this.tarPit.onDidChangeIndexingEnablement(()=>le.fire()),this.tarPit.onDidDownloadTar(Ue=>le.fire({rootUri:this.getProviderRootUri(Ue.rootUri),sha:Ue.sha}))));const Je={dispose:()=>be==null?void 0:be.dispose(),permissions:f,getContent:async(Ue,Oe)=>{const vt=new N("getFileContents"),Pe=Rt.get("experimental.fs.useTars");if(Pe==="always"||Pe==="ifAvailable"){const un=await this.tarPit.getInMemoryTar(j,n);if(un){const kn=un.entryMap.get(Oe);if(kn)return vt.stop({message:`Retrieved ${Oe} from in-memory tar with rootUri=${j.toString()}, ref=${n==null?void 0:n.toString()}`}),kn.dataAsBytes}}let St=!1;return new Promise((un,kn)=>{this.getBlobContent(y,Ue.sha).then(Se=>{St||(vt.stop({message:`Retrieved ${Oe} from web`}),St=!0,un(Se))},Se=>kn(Se)),Pe!=="never"&&this.tarPit.getCachedTar(j,n).then(Se=>Se===void 0&&Pe==="always"&&!St?this.tarPit.getTar(j,!1,n):Se).then(Se=>{var st;const _t=(st=Se==null?void 0:Se.entryMap.get(Oe))==null?void 0:st.dataAsBytes;_t&&!St&&(vt.stop({message:`Retrieved ${Oe} from tar`}),St=!0,un(_t))},Se=>{})})},getTree:async(Ue,Oe)=>{const vt=await this.request("GET /repos/{owner}/{repo}/git/trees/{tree_sha}",{owner:y.owner,repo:y.name,recursive:Oe?"1":void 0,tree_sha:`${n}${Ue?`:${Ue}`:""}`});return vt.data.truncated?{sha:vt.data.sha,truncated:!0}:{sha:vt.data.sha,truncated:!1,tree:Qg(vt.data.tree,Pe=>{var St;return{path:Pe.path,item:{mode:Pe.mode,sha:Pe.sha,stat:{type:Tb(Pe.type),size:(St=Pe.size)!=null?St:0,ctime:0,mtime:m,permissions:void 0}}}})}},onDidTriggerContentCaching:le==null?void 0:le.event,tryCachingContent:u&&c?async Ue=>{const Oe=Rt.get("experimental.fs.useTars");if(Oe!=="always"&&Oe!=="ifAvailable")return!1;const vt=new N(`FileTree.loadAllContent(${n})`);let Pe;try{let St;if(Oe==="ifAvailable"){if(vt.logStep("Tar cache query"),St=await this.tarPit.getCachedTar(j,n),St===void 0)return Pe=" \u2022 No cached Tar",!1}else vt.logStep("Tar query"),St=await this.tarPit.getTar(j,!1,n);vt.logStep("Updating content",{suffix:" \u2022 Updating content..."});for(const un of St.entries){const kn=Ue(un.header.fullFileName);if(kn===void 0)continue;const Se=un.dataAsBytes;kn.getContent=()=>Se}return!0}catch(St){return Pe=` \u2022 Failed ${String(St)}`,!1}finally{vt.stop(Pe?{suffix:Pe}:void 0)}}:void 0};try{return new Xf(j,n,m,Je,{path:r==null?void 0:r.path,recursive:(re=r==null?void 0:r.recursive)!=null?re:u,preload:u||(r==null?void 0:r.recursive)})}catch(Ue){return se.error(Ue),new Xf(j,n,m,void 0)}finally{fe.stop()}},"createFileTree"),G=this.fileTreeCache.get(C);return G!==void 0||(G=z.call(this),u&&this.fileTreeCache.set(C,G)),G}finally{Q.stop()}}async getFileTreePermissions(t,n){if(this.providerService.getModeConfig(t,await this.getModeRefType(t,n)).display===ee.Edit)return;const i=await this.providerService.getIndexMetadata(t);return ne.isActive(i)?d.FilePermission.Readonly:void 0}async getFork(t){var n,r,i;try{const{repo:{owner:a,name:s}}=await this.getMetadata(t),l=`query getFork(
	$owner: String!
	$repo: String!
) {
	repository(owner: $owner, name: $repo) {
		forks(affiliations: OWNER, first: 1) {
			nodes {
				owner {
					login
				}
				name
				url
			}
		}
	}
}`,c=await this.graphql(l,{owner:a,repo:s});if(c===void 0)return;const[u]=(i=(r=(n=c.repository)==null?void 0:n.forks)==null?void 0:r.nodes)!=null?i:[];return u===void 0?void 0:{name:`${u.owner.login}/${u.name}`,repo:{owner:u.owner.login,name:u.name},url:u.url}}catch(a){return}}async getIncomingChanges(t){var n,r;return(r=(n=(await this.getMetadata(t)).state)==null?void 0:n.incomingChanges)!=null?r:[]}async compareCommits(t,n){const r=await this.getMetadata(t),i=await this.getAheadBehindState(t,r,{base:n.base,head:n.compare});return i==null?void 0:i.incomingChanges}async getAheadBehindState(t,n,r){var i,a,s,l,c;const{base:u,head:f}={base:n.HEAD.sha,head:(i=n.HEAD.branch)==null?void 0:i.sha,...r},y=new N(`GitHub.getAheadBehindState(${t.toString()}, base=${u}, head=${f})`);let m,C;try{if(!f){m=` \u2022 Skipped; Unsupported HEAD type (${n.HEAD.type})`;return}const j=await this.request("GET /repos/{owner}/{repo}/compare/{base}...{head}",{owner:n.repo.owner,repo:n.repo.name,base:u,head:f}),Q=[];for(const z of(a=j.data.files)!=null?a:[])switch(z.status){case"added":case"copied":Q.push({uri:d.Uri.joinPath(t,z.filename),type:U.Created});break;case"removed":Q.push({uri:d.Uri.joinPath(t,z.filename),type:U.Deleted});break;case"modified":Q.push({uri:d.Uri.joinPath(t,z.filename),type:U.Changed});break;case"renamed":Q.push({uri:d.Uri.joinPath(t,z.filename),type:U.Created}),Q.push({uri:d.Uri.joinPath(t,z.previous_filename),type:U.Deleted});break;default:se.warn(`GitHub.getAheadBehindState(${t.toString()}, base=${u}, head=${f}): Unknown file status encountered '${z.status}'`);break}return C={ahead:(s=j.data.behind_by)!=null?s:0,behind:(l=j.data.ahead_by)!=null?l:0,incomingChanges:Q},C}catch(j){throw m=` \u2022 Failed; ${String(j)}`,se.error(j),j}finally{y.stop({suffix:m!=null?m:` \u2022 ${(c=C==null?void 0:C.behind)!=null?c:0} commits behind`})}}async getObjectDetails(t,n,r){var i;try{const a=await this.getFileTree(t,n);r?r=this.providerService.getRelativeFilePath(t,this.providerService.createRelativeUri(t,r)):{path:r}=await this.providerService.getMetadata(t);const s=await a.get(r);if((s==null?void 0:s.mode)===void 0||(s==null?void 0:s.sha)===void 0)throw new Error(`Cannot get details of ${r} in ${n}`);return{mode:s.mode,object:s.sha,size:(i=s.stat.size)!=null?i:0}}catch(a){throw se.error(a),a}}async getPullRequest(t,n){const{repo:{owner:r,name:i}}=await this.getMetadata(t);return this.getPullRequestCore(r,i,n)}async getPullRequestCore(t,n,r){var i,a,s,l,c,u,f;try{const y=`query getPullRequest(
	$owner: String!
	$repo: String!
	$pr: Int!
) {
	repository(name: $repo, owner: $owner) {
		pullRequest(number: $pr) {
			author {
				login
				avatarUrl
				url
			}
			permalink
			number
			title
			state
			updatedAt
			closedAt
			mergedAt
			repository {
				name
				owner {
					login
				}
			}
			baseRef {
				name
			}
			baseRefName
			baseRefOid
			baseRepository {
				name
				owner {
					login
				}
			}
			headRef {
				name
			}
			headRefName
			headRefOid
			headRepository {
				name
				owner {
					login
				}
			}
			headRepositoryOwner {
				login
			}
		}
	}
}`,m=await this.graphql(y,{owner:t,repo:n,number:Number(r)}),C=(i=m==null?void 0:m.repository)==null?void 0:i.pullRequest;return C?{author:{name:C.author.login,avatarUrl:C.author.avatarUrl,url:C.author.url},closedAt:C.closedAt?new Date(C.closedAt):void 0,mergedAt:C.mergedAt?new Date(C.mergedAt):void 0,id:C.number.toString(),repo:{name:C.repository.name,owner:C.repository.owner.login},state:nd(C.state),title:C.title,updatedAt:new Date(C.updatedAt),url:C.permalink,refs:{base:{owner:C.baseRepository.owner.login,repo:C.baseRepository.name,branch:C.baseRefName,sha:C.baseRefOid,exists:C.baseRef!=null},head:{owner:(c=(l=(a=C.headRepository)==null?void 0:a.owner.login)!=null?l:(s=C.headRepositoryOwner)==null?void 0:s.login)!=null?c:"<unknown>",repo:(f=(u=C.headRepository)==null?void 0:u.name)!=null?f:C.baseRepository.name,branch:C.headRefName,sha:C.headRefOid,exists:C.headRef!=null}}}:void 0}catch(y){se.error(y);return}}async getPullRequestForBranch(t,n,r){var i,a,s,l,c;try{const{repo:{owner:u,name:f}}=await this.getMetadata(t),y=`query getPullRequestForBranch(
	$owner: String!
	$repo: String!
	$branch: String!
	$maxCount: Int!
	$states: [PullRequestState!]
) {
	repository(name: $repo, owner: $owner) {
		refs(query: $branch, refPrefix: "refs/heads/", first: 1) {
			nodes {
				associatedPullRequests(first: $maxCount, orderBy: {field: UPDATED_AT, direction: DESC}, states: $states) {
					nodes {
						author {
							login
							avatarUrl
							url
						}
						permalink
						number
						title
						state
						updatedAt
						closedAt
						mergedAt
						repository {
							isFork
							name
							owner {
								login
							}
						}
					}
				}
			}
		}
	}
}`,m=await this.graphql(y,{owner:u,repo:f,branch:n,maxCount:(i=r==null?void 0:r.maxCount)!=null?i:1,states:Cb(r==null?void 0:r.include)}),C=(c=(l=(s=(a=m==null?void 0:m.repository)==null?void 0:a.refs.nodes[0])==null?void 0:s.associatedPullRequests)==null?void 0:l.nodes)==null?void 0:c.filter(Q=>!Q.repository.isFork||Q.repository.owner.login===u);if(C==null||C.length===0)return;C.length>1&&C.sort((Q,z)=>(Q.repository.owner.login===u?-1:1)-(z.repository.owner.login===u?-1:1)||(Q.state==="OPEN"?-1:1)-(z.state==="OPEN"?-1:1)||new Date(z.updatedAt).getTime()-new Date(Q.updatedAt).getTime());const[j]=C;return{author:{name:j.author.login,avatarUrl:j.author.avatarUrl,url:j.author.url},closedAt:j.closedAt?new Date(j.closedAt):void 0,mergedAt:j.mergedAt?new Date(j.mergedAt):void 0,id:j.number.toString(),repo:{name:j.repository.name,owner:j.repository.owner.login},state:nd(j.state),title:j.title,updatedAt:new Date(j.updatedAt),url:j.permalink}}catch(u){se.error(u);return}}async getTags(t,n){var r,i,a;try{const{repo:{owner:s,name:l}}=await this.getMetadata(t),c=`query getTags(
	$owner: String!
	$repo: String!
	$tagQuery: String!
	$cursor: String
	$limit: Int = 100
) {
	repository(owner: $owner, name: $repo) {
		refs(query: $tagQuery, refPrefix: "refs/tags/", first: $limit, after: $cursor, orderBy: { field: TAG_COMMIT_DATE, direction: DESC }) {
			pageInfo {
				endCursor
				hasNextPage
			}
			nodes {
				name
				target {
					oid
				}
			}
		}
	}
}`,u=await this.graphql(c,{owner:s,repo:l,tagQuery:(r=n==null?void 0:n.query)!=null?r:"",cursor:n==null?void 0:n.cursor,limit:Math.min(100,(i=n==null?void 0:n.limit)!=null?i:100)});if(u===void 0)return{tags:[]};const f=(a=u.repository)==null?void 0:a.refs;if(f===void 0)return{tags:[]};const y=f.nodes.map(m=>({type:Xi.Tag,name:m.name,commit:m.target.oid,commitUrl:m.target.commitUrl}));return{paging:{cursor:f.pageInfo.endCursor,more:f.pageInfo.hasNextPage},tags:y}}catch(s){return{tags:[]}}}async loadWorkspaceContents(t){try{return await this.tarPit.getTar(t,!1,void 0),!0}catch(n){return se.error(n),!1}}async getTarGz(t,n,r){const{repo:{owner:i,name:a}}=await this.getMetadata(t),s=await this.ensureAuthenticated(),l=Rt.get("indexing.verboseDownloadNotification");return d.window.withProgress({location:l?d.ProgressLocation.Notification:d.ProgressLocation.Window,cancellable:!0,title:Do("fetching index","Downloading repository index")},async(c,u)=>{try{if(os){let m;try{const z=await this.tarballProxyEndpoint;z!==void 0&&(m=z.replace("{owner}",i).replace("{repo}",a).replace("{sha}",n))}catch{}if(!m)throw new Error("Workbench embedder must set `_tarballProxyEndpoints` in workbench construction options to enable GitHub fulltext search.");const j=await(await I0(m,{headers:{"x-proxy-authorization":`Bearer ${s.accessToken}`},credentials:"include"},u)).text();return await A0(j,{},r,u,c)}const f=`https://api.github.com/repos/${i}/${a}/tarball/${n}`;return await A0(f,{headers:{Authorization:`Bearer ${s.accessToken}`}},r,u,c)}catch(f){throw se.error(f),f}})}async queryRepositoryObject(t,n,r,i){var a,s;try{const{repo:{owner:l,name:c},HEAD:{sha:u},path:f}=await this.providerService.getMetadata(t),y=`query ${n}(
	$owner: String!
	$repo: String!
	$expression: String
) {
	repository(owner: $owner, name: $repo) {
		object(expression: $expression) {
			${r}
		}
	}
}`,m=await this.graphql(y,{owner:l,repo:c,expression:i!=null?i:`${u}:${f}`});return(s=(a=m==null?void 0:m.repository)==null?void 0:a.object)!=null?s:void 0}catch(l){se.error(l);return}}async repositoryObjectExists(t,n){return await this.queryRepositoryObject(t,"exists","			__typename",n)!==void 0}async searchPullRequestsQuery(t,n){var r;function i(a){function s(l,c){return{number:l.number,title:l.title,repoWithOwner:l.repository.nameWithOwner,reasons:c?[c]:[],url:l.url}}return o(s,"toResult"),of([...a.assigned.nodes.filter(l=>l!==null).map(l=>s(l,"assigned")),...a.reviewRequested.nodes.filter(l=>l!==null).map(l=>s(l,"review requested")),...a.mentioned.nodes.filter(l=>l!==null).map(l=>s(l,"mentioned")),...a.authored.nodes.filter(l=>l!==null).map(l=>s(l,"authored")),...xy(a.viewer.repositories.nodes,l=>l.pullRequests.nodes.filter(c=>c!==null).map(c=>s(c)))],l=>l.url,(l,c)=>(c.reasons.length!==0&&l.reasons.push(...c.reasons),l))}o(i,"processQueryResults");try{const a=`query searchPullRequests(
	$authored: String!
	$assigned: String!
	$reviewRequested: String!
	$mentioned: String!
) {
	viewer {
		repositories(first: 100, orderBy: { field: STARGAZERS, direction: DESC }) {
			nodes {
				pullRequests(first: 100, states: OPEN, orderBy: { field: UPDATED_AT, direction: DESC }) {
					nodes {
						number
						title
						url
						repository {
							nameWithOwner
						}
					}
				}
			}
		}
	}
	authored: search(first: 100, query: $authored, type: ISSUE) {
		nodes {
			...on PullRequest {
				number
				title
				url
				repository {
					nameWithOwner
				}
			}
		}
	}
	assigned: search(first: 100, query: $assigned, type: ISSUE) {
		nodes {
			...on PullRequest {
				number
				title
				url
				repository {
					nameWithOwner
				}
			}
		}
	}
	reviewRequested: search(first: 100, query: $reviewRequested, type: ISSUE) {
		nodes {
			...on PullRequest {
				number
				title
				url
				repository {
					nameWithOwner
				}
			}
		}
	}
	mentioned: search(first: 100, query: $mentioned, type: ISSUE) {
		nodes {
			...on PullRequest {
				number
				title
				url
				repository {
					nameWithOwner
				}
			}
		}
	}
}`;t=t.trim(),(n==null?void 0:n.user)&&(t+=` user:${n.user}`);const s=await this.graphql(a,{authored:(t?`${t} is:pr is:open archived:false author:@me`:"is:pr is:open archived:false author:@me").trim(),assigned:(t?`${t} is:pr is:open archived:false assignee:@me`:"is:pr is:open archived:false assignee:@me").trim(),reviewRequested:(t?`${t} is:pr is:open archived:false review-requested:@me`:"is:pr is:open archived:false review-requested:@me").trim(),mentioned:(t?`${t} is:pr is:open archived:false mentions:@me`:"is:pr is:open archived:false mentions:@me").trim()},!0);return s===void 0?{results:[],hasSAMLProtectedResults:!1}:{results:i(s),hasSAMLProtectedResults:!1}}catch(a){return a instanceof ya?{results:i(a.data),hasSAMLProtectedResults:((r=a.errors)==null?void 0:r.find(s=>s.type==="FORBIDDEN"))!==void 0}:(this.handleRequestErrors(a),{results:[],hasSAMLProtectedResults:!1})}}async searchRepositoriesQuery(t,n){var r;function i(a){var s,l,c;const u=of((n==null?void 0:n.user)?[...a.search.nodes,...a.viewer.repositories.nodes]:[...a.viewer.repositories.nodes,...a.search.nodes],y=>y==null?void 0:y.url),f=[];for(const y of u)y!==null&&f.push({repoWithOwner:y.nameWithOwner,owner:y.nameWithOwner.split("/")[0],repo:y.nameWithOwner.split("/")[1],description:(s=y.description)!=null?s:void 0,url:y.url,fork:(c=(l=y.parent)==null?void 0:l.nameWithOwner)!=null?c:void 0,stars:y.stargazerCount});return f}o(i,"processQueryResults");try{const a=`query searchRepositories(
	$search: String!
) {
	viewer {
		repositories(first: 100, orderBy: { field: UPDATED_AT, direction: DESC }) {
			nodes {
				nameWithOwner
				description
				url
				parent {
					nameWithOwner
				}
				stargazerCount
			}
		}
	}
	search(first: 100, query: $search, type: REPOSITORY) {
		nodes {
			...on Repository {
				nameWithOwner
				description
				url
				parent {
					nameWithOwner
				}
				stargazerCount
			}
		}
	}
}`;(n==null?void 0:n.user)&&(t+=` user:${n.user}`),(n==null?void 0:n.owner)&&(t+=` owner:${n.owner}`),(n==null?void 0:n.sort)&&(t+=` sort:${n.sort}`),t+=" fork:true";const s=await this.graphql(a,{search:t.trim()},!0);return s===void 0?{results:[],hasSAMLProtectedResults:!1}:{results:i(s),hasSAMLProtectedResults:!1}}catch(a){return a instanceof ya?{results:i(a.data),hasSAMLProtectedResults:((r=a.errors)==null?void 0:r.find(s=>s.type==="FORBIDDEN"))!==void 0}:(this.handleRequestErrors(a),{results:[],hasSAMLProtectedResults:!1})}}async searchCodeQuery(t,n,r){var i,a,s;const{repo:{owner:l,name:c},HEAD:u,defaultBranch:f}=await this.getMetadata(n),y=[];((i=u.branch)==null?void 0:i.name)!==f.name&&y.push(Do("Cant search branch","Unable to search {0} without index, falling back to {1}.",(s=(a=u.branch)==null?void 0:a.name)!=null?s:u.detached.name,f.name));try{const C=await(await this.octokit({request:{headers:{authorization:`Bearer ${(await this.ensureAuthenticated()).accessToken}`,accept:"application/vnd.github.v3.text-match+json"}}})).request("GET /search/code",{q:`${t} repo:${l}/${c}`}),j=new d.Range(0,0,0,0),Q=[];let z=0,G;for(const re of C.data.items)for(const fe of re.text_matches){if(z++,r.maxResults!==void 0&&z>r.maxResults)return{matches:Q,limitHit:!0};G={path:re.path,ranges:[],preview:fe.fragment,matches:[]};for(const le of fe.matches){let be=0,Je=0,Ue=0;for(let Oe=0;Oe<le.indices[1];Oe++)Oe===le.indices[0]&&(Je=Ue),fe.fragment[Oe]===`
`?(be++,Ue=0):Ue++;G.ranges.push(j),G.matches.push(new d.Range(be,Je,be,Ue))}Q.push(G)}return{matches:Q,limitHit:!1,warnings:y}}catch(m){return{matches:[],limitHit:!0}}}async switchTo(t,n,r){const{name:i,repo:a,HEAD:{branch:s}}=await this.getMetadata(t);let l;if(!(n!==void 0&&(typeof n=="string"?(n==null?void 0:n.startsWith("refs/heads/"))?(l={type:oe.Tree,id:n.substr(11)},n=n.substr(11)):(n==null?void 0:n.startsWith("refs/tags/"))?l={type:oe.Tree,id:n.substr(10)}:l={type:oe.Tree,id:n}:l={...n,type:n.type===oe.Branch||n.type===oe.Tag?oe.Tree:n.type},(s==null?void 0:s.name)===l.id)))return{name:i,uri:this.providerService.createVirtualUri(t,{repo:a,ref:l}),location:(r==null?void 0:r.openInNewWindow)?he.NewWindow:he.CurrentWindow}}async sync(t,n,r){var i,a,s,l,c,u;const f=new N(`GitHub.sync(${t.toString()}, resolution=${r.conflictResolution}, to=${r.to})`);let y;try{const{metadata:m}=await this.fetchCore(t,!0,{to:r.to});if(m.HEAD.detached){y=" \u2022 Skipped; detached HEAD";return}if(((a=(i=m==null?void 0:m.state)==null?void 0:i.behind)!=null?a:0)>0&&await n.hasChanges(t)){f.logStep("Fetching upstream changes");const C=[],j=(l=(s=m.state)==null?void 0:s.incomingChanges)!=null?l:[];if(j.length>0){const Q=await n.getChanges(t);for(const z of Q){const G=this.providerService.getRelativeFilePath(t,z.uri),re=j.find(fe=>this.providerService.getRelativeFilePath(t,fe.uri)===G);re!==void 0&&C.push({path:G,current:z,incomingType:re.type})}}if(C.length>0)switch(r.conflictResolution){case pe.KeepCurrent:f.logStep("Syncing (keep) upstream changes",{message:`: ${C.length} conflicts; \u2022`,suffix:" \u2022 Syncing (keep) upstream changes..."});for(const Q of C)await n.keep(Q.current.uri,{type:Q.incomingType,providerUri:td(m,m.HEAD.branch.sha,Q.path)});break;case pe.DiscardCurrent:f.logStep("Syncing (discard) upstream changes",{message:`: ${C.length} conflicts; \u2022`,suffix:" \u2022 Syncing (discard) upstream changes..."});for(const Q of C)await n.discard(Q.current.uri);break;case pe.Merge:f.logStep("Syncing (merge) upstream changes",{message:`: ${C.length} conflicts; \u2022`,suffix:" \u2022 Syncing (merge) upstream changes..."});for(const Q of C)await n.merge(Q.current.uri,{type:Q.incomingType,providerUri:td(m,m.HEAD.branch.sha,Q.path)},{providerUri:td(m,m.HEAD.sha,Q.path)});break;case pe.Abort:default:throw f.logStep("Syncing (abort) upstream changes",{message:`: ${C.length} conflicts; \u2022`,suffix:" \u2022 Syncing (abort) upstream changes..."}),await this.providerService.updateMetadata(t,m),Te.SyncConflictsError()}}y=` \u2022 to=${(c=r.to)!=null?c:m.HEAD.branch.sha}`,await this.fastForwardTo(t,(u=r.to)!=null?u:m.HEAD.branch.sha,m)}finally{f.stop(y?{suffix:y}:void 0)}}async fastForwardTo(t,n,r){if(r.HEAD.detached)throw Te.DetachedHEADError("Unable to fast-forward; no current branch");if(r.HEAD.sha===n&&r.state===void 0)return;const i=this.asFileTreeKey(t,r.HEAD.sha),a=this.fileTreeCache.get(i);this.fileTreeCache.delete(i),a==null||a.dispose(),se.log(`Fast forward to ${n}; rootUri=${t.toString()}`),await this.providerService.updateMetadata(t,{...r,HEAD:{...r.HEAD,detached:void 0,sha:n},state:n!==r.HEAD.branch.sha?r.state:void 0,timestamp:Date.now()}),n!==r.HEAD.branch.sha&&r.state===void 0&&await this.fetchCore(t,!1,{to:n})}async getBranchTips(t,n){try{const{repo:{owner:r,name:i},HEAD:a}=await this.getMetadata(t);n===void 0&&(a.type===K.RemoteBranch?n=`${a.branch.remote.repo.owner}/${a.branch.remote.repo.name}:refs/heads/${a.branch.name}`:n=a.branch?`refs/heads/${a.branch.name}`:"");const s=G0.exec(n);if(s==null?void 0:s.groups)return this.getRemoteBranchTips(r,i,n);const l=`query getBranchTips(
	$owner: String!
	$repo: String!
	$ref: String!
) {
	repository(owner: $owner, name: $repo) {
		defaultBranchRef {
			target {
				oid
			}
		}
		ref(qualifiedName: $ref) {
			target {
				oid
			}
		}
	}
}`,c=await this.graphql(l,{owner:r,repo:i,ref:n});if((c==null?void 0:c.repository)==null)return;const{defaultBranchRef:u,ref:f}=c.repository;return!u&&!f?void 0:{defaultBranch:u?{sha:u.target.oid}:void 0,branch:f?{sha:f.target.oid}:void 0}}catch(r){return}}async getRemoteBranchTips(t,n,r){try{const i=G0.exec(r);if((i==null?void 0:i.groups)==null)return;let{remoteOwner:a,remoteRepo:s,remoteRef:l}=i.groups;s||(s=n);const c=`query getRemoteBranchTips(
	$owner: String!
	$repo: String!
	$remoteOwner: String!
	$remoteRepo: String!
	$remoteRef: String!
) {
	repository(owner: $owner, name: $repo) {
		defaultBranchRef {
			target {
				oid
			}
		}
	}
	remote: repository(owner: $remoteOwner, name: $remoteRepo) {
		ref(qualifiedName: $remoteRef) {
			target {
				oid
			}
		}
	}
}`,u=await this.graphql(c,{owner:t,repo:n,remoteOwner:a,remoteRepo:s,remoteRef:l});if((u==null?void 0:u.repository)==null||(u==null?void 0:u.remote)==null)return;const{repository:{defaultBranchRef:f},remote:{ref:y}}=u;return!f&&!y?void 0:{defaultBranch:f?{sha:f.target.oid}:void 0,branch:y?{sha:y.target.oid}:void 0}}catch(i){return}}async getRepositoryInfo(t,n,r,i){var a,s,l,c,u,f,y,m,C,j,Q,z,G,re,fe,le;try{const be=`number
title
state
maintainerCanModify
baseRef { name }
baseRefName
baseRefOid
baseRepository {
	name
	owner { login }
	defaultBranchRef {
		name
		target { oid }
	}
	viewerPermission
}
headRef { name }
headRefName
headRefOid
headRepository {
	name
	owner { login }
	defaultBranchRef {
		name
		target { oid }
	}
	viewerPermission
}
mergeCommit { oid }
`,Je=`query getRepository(
	$owner: String!
	$repo: String!
	$ref: String = ""
	$has_pr: Boolean!
	$pr: Int = 0
) {
	viewer { login }
	repository(owner: $owner, name: $repo) {
		name
		owner { login }
		defaultBranchRef {
			name
			target { oid }
		}
		ref(qualifiedName: $ref) {
			name
			prefix
			target {
				... on Tag {
                    target {
                        ... on Commit {
                            oid
                        }
                    }
                }
				... on Tree {
					oid
				}
				... on Blob {
					oid
				}
                ... on Commit {
                    oid
                }
			}
		}
		url
		sshUrl
		viewerPermission
		pullRequest(number: $pr) @include(if: $has_pr) {
			${be}
		}
	}
}`;let Ue,Oe;try{const un=await this.graphql(Je,{owner:t,repo:n,ref:(i==null?void 0:i.ref)!=="HEAD"?i==null?void 0:i.ref:void 0,has_pr:Boolean(i==null?void 0:i.pr),pr:(a=i==null?void 0:i.pr)!=null?a:0});if((un==null?void 0:un.repository)==null)return;({repository:Oe,viewer:{login:Ue}}=un)}catch(un){if((i==null?void 0:i.pr)&&un instanceof ya&&((l=(s=un.errors)==null?void 0:s[0])==null?void 0:l.type)==="NOT_FOUND"&&((c=un.errors[0])==null?void 0:c.message.includes("Could not resolve to a PullRequest"))){({repository:Oe,viewer:{login:Ue}}=un.data);try{const kn=await this.graphql(`query getPullRequestFromParentRepository(
	$owner: String!
	$repo: String!
	$pr: Int!
) {
	repository(owner: $owner, name: $repo) {
		parent {
			pullRequest(number: $pr) {
				${be}
			}
		}
	}
}`,{owner:t,repo:n,pr:i==null?void 0:i.pr});if(((f=(u=kn==null?void 0:kn.repository)==null?void 0:u.parent)==null?void 0:f.pullRequest)==null)throw un;Oe.pullRequest=kn.repository.parent.pullRequest}catch{throw un}}else throw un}const vt=(y=Oe.defaultBranchRef)!=null?y:void 0;if((vt==null?void 0:vt.name)==null)return;const Pe=Oe.pullRequest;let St;if(Oe==null?void 0:Oe.ref)St={prefix:Oe.ref.prefix,name:Oe.ref.name,sha:"oid"in Oe.ref.target?Oe.ref.target.oid:Oe.ref.target.target.oid};else if(Pe==null?void 0:Pe.headRef){let un=rd(Pe.headRepository.viewerPermission);un<X.Write&&Pe.maintainerCanModify&&rd(Oe.viewerPermission)>=X.Write&&(un=X.WriteToPullRequest),St=Pe.headRepository.owner.login===t?{prefix:"refs/heads/",name:Pe==null?void 0:Pe.headRef.name,sha:(C=(m=Pe.mergeCommit)==null?void 0:m.oid)!=null?C:Pe==null?void 0:Pe.headRefOid}:{prefix:"refs/remotes/",name:Pe==null?void 0:Pe.headRef.name,sha:(Q=(j=Pe.mergeCommit)==null?void 0:j.oid)!=null?Q:Pe==null?void 0:Pe.headRefOid,remote:{name:`${Pe.headRepository.owner.login}/${Pe.headRepository.name}`,accessLevel:un,repo:{owner:Pe.headRepository.owner.login,name:Pe.headRepository.name}}}}else(Pe==null?void 0:Pe.baseRef)?(St={prefix:"refs/heads/",name:Pe==null?void 0:Pe.baseRef.name,sha:(G=(z=Pe.mergeCommit)==null?void 0:z.oid)!=null?G:Pe==null?void 0:Pe.baseRefOid},r&&(se.log("Did not find a headRef for PR, falling back to baseRef",Pe.baseRef),ai.showPullRequestHeadNotFoundMessage(`${t}/${n}`,`#${i==null?void 0:i.pr}`))):(i==null?void 0:i.ref)==="HEAD"&&(St={prefix:"refs/heads/",name:vt.name,sha:vt.target.oid});return{user:Ue,repo:{owner:Oe.owner.login,name:Oe.name},accessLevel:rd(Oe.viewerPermission),ref:St,defaultBranch:{name:vt.name,sha:vt.target.oid},cloneUrl:{http:Oe.url,ssh:Oe.sshUrl},pullRequest:Pe?{id:Pe.number.toString(),state:nd(Pe.state),title:Pe.title}:void 0}}catch(be){if(be instanceof ya)switch((fe=(re=be.errors)==null?void 0:re[0])==null?void 0:fe.type){case"NOT_FOUND":{if((i==null?void 0:i.pr)&&((le=be.errors[0])==null?void 0:le.message.includes("Could not resolve to a PullRequest"))){const Ue=new ou(be,`${t}/${n}`,`#${i==null?void 0:i.pr}`);throw r&&ai.showPullRequestNotFoundMessage(Ue.name,Ue.id),Ue}const Je=new Ps(be,`${t}/${n}`);throw r?Te.InvalidRepositoryError():Je}case"FORBIDDEN":{const Je=new ks(be,`${t}/${n}`);throw r&&ai.showRepositoryForbiddenMessage(Je.name,()=>this.reauthenticate()),Je}}se.error(be,`Failed to get repository info for '${t}/${n}'`),!this.handleRequestErrors(be)&&r&&ai.showUnableToOpenRepositoryMessage(be);return}}async validateOwnerAndRepoAndSplitRefFromPath(t,n,r){try{const i=await this.request(`GET /repos/{owner}/{repo}/git/extract-ref/${r!=null?r:"HEAD"}`,{owner:t,repo:n});return[t,n]=i.data.name_with_owner.split("/"),r?{owner:t,repo:n,ref:{type:oe.Tree,id:i.data.ref},path:i.data.path}:{owner:t,repo:n}}catch(i){if(i instanceof Qi)switch(i.status){case 401:throw Te.InvalidCredentialsError(i,()=>void this.reauthenticate());case 403:throw ai.showRepositoryForbiddenMessage(`${t}/${n}`,()=>this.reauthenticate()),new ks(i,`${t}/${n}`);case 404:throw ai.showRepositoryNotFoundMessage(`${t}/${n}`),new Ps(i,`${t}/${n}`);case 409:throw ai.showRepositoryEmptyMessage(`${t}/${n}`),new su(i,`${t}/${n}`)}return}}asFileTreeKey(t,n){return`${T(this.getProviderRootUri(t))}:${n}`}}o(cu,"GitHubRepositoryProvider"),q0([Xt()],cu.prototype,"ensureAuthenticated",1),q0([Xt()],cu.prototype,"octokit",1);function nd(e){switch(e){case"OPEN":return xe.Open;case"CLOSED":return xe.Closed;case"MERGED":return xe.Merged}}o(nd,"toPullRequestState");function Cb(e){if(e!==void 0)return e.map(t=>{switch(t){case xe.Open:return"OPEN";case xe.Closed:return"CLOSED";case xe.Merged:return"MERGED"}})}o(Cb,"fromPullRequestStates");var qa;(function(e){e.ADMIN="ADMIN",e.MAINTAIN="MAINTAIN",e.WRITE="WRITE",e.TRIAGE="TRIAGE",e.READ="READ",e.NONE="NONE"})(qa||(qa={}));function rd(e){switch(e){case qa.ADMIN:return X.Admin;case qa.MAINTAIN:return X.Maintain;case qa.WRITE:return X.Write;case qa.TRIAGE:return X.Triage;case qa.READ:return X.Read;default:return X.None}}o(rd,"permissionToAccessLevel");function Tb(e){switch(e&&(e=e.toLocaleLowerCase()),e){case"blob":return d.FileType.File;case"tree":return d.FileType.Directory;default:return d.FileType.Unknown}}o(Tb,"typenameToFileType");function Ib(e){return{registerVirtualProviderService:function(t){Ct.configure("githubRepositories",e),se.configure(e,"GitHub Repositories",Rt.get("logLevel")),N.start("Time to root directory",{log:!1});const n=af.configure(e),r=new Gg(e);try{const i=new Bs(e.globalState),a=i.with(n),s=new Us(e.globalStorageUri,n),l=new Ns(a),c=new Ls(t,a,s,r,n);c.getWorkspacesWithChanges();const u=new sf(t,i,c,n),f=new S0(e.globalStorageUri,t),y=new cu(t,f),m=new Is(t,y,c,f,r);e.subscriptions.push(t.register("github","GitHub",y,m,i,c,l,u),y,m,new Kt(y))}catch(i){throw se.error(i),i}}}}o(Ib,"activate")})(),module.exports=__webpack_exports__})();
